import { flatten } from '../../array/flatten.ts';
import { flow as flowToolkit } from '../../function/flow.ts';
/**
 * Creates a new function that executes the given functions in sequence. The return value of the previous function is passed as an argument to the next function.
 *
 * The `this` context of the returned function is also passed to the functions provided as parameters.
 *
 * @param {Array<((...args: any[]) => any) | Array<(...args: any[]) => any>>} funcs The functions to invoke.
 * @returns {(...args: any[]) => any} Returns the new composite function.
 *
 * @example
 * const add = (x: number, y: number) => x + y;
 * const square = (n: number) => n * n;
 * const double = (n: number) => n * 2;
 *
 * const combined = flow([add, square], double);
 * console.log(combined(1, 2)); // 18
 */ export function flow(...funcs) {
  const flattenFuncs = flatten(funcs, 1);
  if (flattenFuncs.some((func)=>typeof func !== 'function')) {
    throw new TypeError('Expected a function');
  }
  return flowToolkit(...flattenFuncs);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvZnVuY3Rpb24vZmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi4vLi4vYXJyYXkvZmxhdHRlbi50cyc7XG5pbXBvcnQgeyBmbG93IGFzIGZsb3dUb29sa2l0IH0gZnJvbSAnLi4vLi4vZnVuY3Rpb24vZmxvdy50cyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIHRoZSBnaXZlbiBmdW5jdGlvbnMgaW4gc2VxdWVuY2UuIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzIGZ1bmN0aW9uIGlzIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgbmV4dCBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgYHRoaXNgIGNvbnRleHQgb2YgdGhlIHJldHVybmVkIGZ1bmN0aW9uIGlzIGFsc28gcGFzc2VkIHRvIHRoZSBmdW5jdGlvbnMgcHJvdmlkZWQgYXMgcGFyYW1ldGVycy5cbiAqXG4gKiBAcGFyYW0geygpID0+IFJ9IGYgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAqIEByZXR1cm5zIHsoKSA9PiBSfSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBub0FyZ0Z1bmMoKSB7XG4gKiAgcmV0dXJuIDQyO1xuICogfVxuICpcbiAqIGNvbnN0IGNvbWJpbmVkID0gZmxvdyhub0FyZ0Z1bmMpO1xuICogY29uc29sZS5sb2coY29tYmluZWQoKSk7IC8vIDQyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG93PFI+KGY6ICgpID0+IFIpOiAoKSA9PiBSO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZ1bmN0aW9uIHRoYXQgZXhlY3V0ZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBpbiBzZXF1ZW5jZS4gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgZnVuY3Rpb24gaXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBuZXh0IGZ1bmN0aW9uLlxuICpcbiAqIFRoZSBgdGhpc2AgY29udGV4dCBvZiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gaXMgYWxzbyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9ucyBwcm92aWRlZCBhcyBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7KC4uLmFyZ3M6IEEpID0+IFJ9IGYxIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcmV0dXJucyB7KC4uLmFyZ3M6IEEpID0+IFJ9IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIG9uZUFyZ0Z1bmMoYTogbnVtYmVyKSB7XG4gKiAgIHJldHVybiBhICogMjtcbiAqIH1cbiAqXG4gKiBjb25zdCBjb21iaW5lZCA9IGZsb3cob25lQXJnRnVuYyk7XG4gKiBjb25zb2xlLmxvZyhjb21iaW5lZCg1KSk7IC8vIDEwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG93PEEgZXh0ZW5kcyBhbnlbXSwgUj4oZjE6ICguLi5hcmdzOiBBKSA9PiBSKTogKC4uLmFyZ3M6IEEpID0+IFI7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGluIHNlcXVlbmNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBpcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIG5leHQgZnVuY3Rpb24uXG4gKlxuICogVGhlIGB0aGlzYCBjb250ZXh0IG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBhbHNvIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zIHByb3ZpZGVkIGFzIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHsoLi4uYXJnczogQSkgPT4gUjF9IGYxIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSMSkgPT4gUjJ9IGYyIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcmV0dXJucyB7KC4uLmFyZ3M6IEEpID0+IFIyfSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhZGQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHggKyB5O1xuICogY29uc3Qgc3F1YXJlID0gKG46IG51bWJlcikgPT4gbiAqIG47XG4gKlxuICogY29uc3QgY29tYmluZWQgPSBmbG93KGFkZCwgc3F1YXJlKTtcbiAqIGNvbnNvbGUubG9nKGNvbWJpbmVkKDEsIDIpKTsgLy8gOVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvdzxBIGV4dGVuZHMgYW55W10sIFIxLCBSMj4oZjE6ICguLi5hcmdzOiBBKSA9PiBSMSwgZjI6IChhOiBSMSkgPT4gUjIpOiAoLi4uYXJnczogQSkgPT4gUjI7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGluIHNlcXVlbmNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBpcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIG5leHQgZnVuY3Rpb24uXG4gKlxuICogVGhlIGB0aGlzYCBjb250ZXh0IG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBhbHNvIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zIHByb3ZpZGVkIGFzIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHsoLi4uYXJnczogQSkgPT4gUjF9IGYxIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSMSkgPT4gUjJ9IGYyIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSMikgPT4gUjN9IGYzIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcmV0dXJucyB7KC4uLmFyZ3M6IEEpID0+IFIzfSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhZGQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHggKyB5O1xuICogY29uc3Qgc3F1YXJlID0gKG46IG51bWJlcikgPT4gbiAqIG47XG4gKiBjb25zdCBkb3VibGUgPSAobjogbnVtYmVyKSA9PiBuICogMjtcbiAqXG4gKiBjb25zdCBjb21iaW5lZCA9IGZsb3coYWRkLCBzcXVhcmUsIGRvdWJsZSk7XG4gKiBjb25zb2xlLmxvZyhjb21iaW5lZCgxLCAyKSk7IC8vIDE4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG93PEEgZXh0ZW5kcyBhbnlbXSwgUjEsIFIyLCBSMz4oXG4gIGYxOiAoLi4uYXJnczogQSkgPT4gUjEsXG4gIGYyOiAoYTogUjEpID0+IFIyLFxuICBmMzogKGE6IFIyKSA9PiBSM1xuKTogKC4uLmFyZ3M6IEEpID0+IFIzO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZ1bmN0aW9uIHRoYXQgZXhlY3V0ZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBpbiBzZXF1ZW5jZS4gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgZnVuY3Rpb24gaXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBuZXh0IGZ1bmN0aW9uLlxuICpcbiAqIFRoZSBgdGhpc2AgY29udGV4dCBvZiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gaXMgYWxzbyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9ucyBwcm92aWRlZCBhcyBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSB7KC4uLmFyZ3M6IEEpID0+IFIxfSBmMSBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsoYTogUjEpID0+IFIyfSBmMiBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsoYTogUjIpID0+IFIzfSBmMyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsoYTogUjMpID0+IFI0fSBmNCBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHJldHVybnMgeyguLi5hcmdzOiBBKSA9PiBSNH0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYWRkID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB4ICsgeTtcbiAqIGNvbnN0IHNxdWFyZSA9IChuOiBudW1iZXIpID0+IG4gKiBuO1xuICogY29uc3QgZG91YmxlID0gKG46IG51bWJlcikgPT4gbiAqIDI7XG4gKiBjb25zdCB0b1N0ciA9IChuOiBudW1iZXIpID0+IG4udG9TdHJpbmcoKTtcbiAqXG4gKiBjb25zdCBjb21iaW5lZCA9IGZsb3coYWRkLCBzcXVhcmUsIGRvdWJsZSwgdG9TdHIpO1xuICogY29uc29sZS5sb2coY29tYmluZWQoMSwgMikpOyAvLyAnMTgnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG93PEEgZXh0ZW5kcyBhbnlbXSwgUjEsIFIyLCBSMywgUjQ+KFxuICBmMTogKC4uLmFyZ3M6IEEpID0+IFIxLFxuICBmMjogKGE6IFIxKSA9PiBSMixcbiAgZjM6IChhOiBSMikgPT4gUjMsXG4gIGY0OiAoYTogUjMpID0+IFI0XG4pOiAoLi4uYXJnczogQSkgPT4gUjQ7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGluIHNlcXVlbmNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBpcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIG5leHQgZnVuY3Rpb24uXG4gKlxuICogVGhlIGB0aGlzYCBjb250ZXh0IG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBhbHNvIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zIHByb3ZpZGVkIGFzIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHsoLi4uYXJnczogQSkgPT4gUjF9IGYxIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSMSkgPT4gUjJ9IGYyIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSMikgPT4gUjN9IGYzIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSMykgPT4gUjR9IGY0IFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyhhOiBSNCkgPT4gUjV9IGY1IFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcmV0dXJucyB7KC4uLmFyZ3M6IEEpID0+IFI1fSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhZGQgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHggKyB5O1xuICogY29uc3Qgc3F1YXJlID0gKG46IG51bWJlcikgPT4gbiAqIG47XG4gKiBjb25zdCBkb3VibGUgPSAobjogbnVtYmVyKSA9PiBuICogMjtcbiAqIGNvbnN0IHRvU3RyID0gKG46IG51bWJlcikgPT4gbi50b1N0cmluZygpO1xuICogY29uc3Qgc3BsaXQgPSAoczogc3RyaW5nKSA9PiBzLnNwbGl0KCcnKTtcbiAqXG4gKiBjb25zdCBjb21iaW5lZCA9IGZsb3coYWRkLCBzcXVhcmUsIGRvdWJsZSwgdG9TdHIsIHNwbGl0KTtcbiAqIGNvbnNvbGUubG9nKGNvbWJpbmVkKDEsIDIpKTsgLy8gWycxJywgJzgnXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvdzxBIGV4dGVuZHMgYW55W10sIFIxLCBSMiwgUjMsIFI0LCBSNT4oXG4gIGYxOiAoLi4uYXJnczogQSkgPT4gUjEsXG4gIGYyOiAoYTogUjEpID0+IFIyLFxuICBmMzogKGE6IFIyKSA9PiBSMyxcbiAgZjQ6IChhOiBSMykgPT4gUjQsXG4gIGY1OiAoYTogUjQpID0+IFI1XG4pOiAoLi4uYXJnczogQSkgPT4gUjU7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB0aGUgZ2l2ZW4gZnVuY3Rpb25zIGluIHNlcXVlbmNlLiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBpcyBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIG5leHQgZnVuY3Rpb24uXG4gKlxuICogVGhlIGB0aGlzYCBjb250ZXh0IG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBpcyBhbHNvIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25zIHByb3ZpZGVkIGFzIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtBcnJheTwoKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpIHwgQXJyYXk8KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+Pn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gKiBAcmV0dXJucyB7KC4uLmFyZ3M6IGFueVtdKSA9PiBhbnl9IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGFkZCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4geCArIHk7XG4gKiBjb25zdCBzcXVhcmUgPSAobjogbnVtYmVyKSA9PiBuICogbjtcbiAqIGNvbnN0IGRvdWJsZSA9IChuOiBudW1iZXIpID0+IG4gKiAyO1xuICpcbiAqIGNvbnN0IGNvbWJpbmVkID0gZmxvdyhbYWRkLCBzcXVhcmVdLCBkb3VibGUpO1xuICogY29uc29sZS5sb2coY29tYmluZWQoMSwgMikpOyAvLyAxOFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxvdyhcbiAgLi4uZnVuY3M6IEFycmF5PCgoLi4uYXJnczogYW55W10pID0+IGFueSkgfCBBcnJheTwoLi4uYXJnczogYW55W10pID0+IGFueT4+XG4pOiAoLi4uYXJnczogYW55W10pID0+IGFueTtcbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIHRoZSBnaXZlbiBmdW5jdGlvbnMgaW4gc2VxdWVuY2UuIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzIGZ1bmN0aW9uIGlzIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgbmV4dCBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgYHRoaXNgIGNvbnRleHQgb2YgdGhlIHJldHVybmVkIGZ1bmN0aW9uIGlzIGFsc28gcGFzc2VkIHRvIHRoZSBmdW5jdGlvbnMgcHJvdmlkZWQgYXMgcGFyYW1ldGVycy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PCgoLi4uYXJnczogYW55W10pID0+IGFueSkgfCBBcnJheTwoLi4uYXJnczogYW55W10pID0+IGFueT4+fSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAqIEByZXR1cm5zIHsoLi4uYXJnczogYW55W10pID0+IGFueX0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYWRkID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB4ICsgeTtcbiAqIGNvbnN0IHNxdWFyZSA9IChuOiBudW1iZXIpID0+IG4gKiBuO1xuICogY29uc3QgZG91YmxlID0gKG46IG51bWJlcikgPT4gbiAqIDI7XG4gKlxuICogY29uc3QgY29tYmluZWQgPSBmbG93KFthZGQsIHNxdWFyZV0sIGRvdWJsZSk7XG4gKiBjb25zb2xlLmxvZyhjb21iaW5lZCgxLCAyKSk7IC8vIDE4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbG93KFxuICAuLi5mdW5jczogQXJyYXk8KCguLi5hcmdzOiBhbnlbXSkgPT4gYW55KSB8IEFycmF5PCguLi5hcmdzOiBhbnlbXSkgPT4gYW55Pj5cbik6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55IHtcbiAgY29uc3QgZmxhdHRlbkZ1bmNzID0gZmxhdHRlbihmdW5jcywgMSk7XG4gIGlmIChmbGF0dGVuRnVuY3Muc29tZShmdW5jID0+IHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgZnVuY3Rpb24nKTtcbiAgfVxuICByZXR1cm4gZmxvd1Rvb2xraXQoLi4uZmxhdHRlbkZ1bmNzKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLE9BQU8sUUFBUSx5QkFBeUI7QUFDakQsU0FBUyxRQUFRLFdBQVcsUUFBUSx5QkFBeUI7QUFzSjdEOzs7Ozs7Ozs7Ozs7Ozs7Q0FlQyxHQUNELE9BQU8sU0FBUyxLQUNkLEdBQUcsS0FBd0U7RUFFM0UsTUFBTSxlQUFlLFFBQVEsT0FBTztFQUNwQyxJQUFJLGFBQWEsSUFBSSxDQUFDLENBQUEsT0FBUSxPQUFPLFNBQVMsYUFBYTtJQUN6RCxNQUFNLElBQUksVUFBVTtFQUN0QjtFQUNBLE9BQU8sZUFBZTtBQUN4QiJ9
// denoCacheMetadata=11025405427276298022,14793399137520282466