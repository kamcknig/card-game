import { identity } from '../../function/identity.ts';
import { range } from '../../math/range.ts';
import { isArrayLike } from '../predicate/isArrayLike.ts';
import { iteratee as iterateeToolkit } from '../util/iteratee.ts';
/**
 * Maps each element in a collection to a new array of values using an iteratee.
 *
 * @param {T[] | ArrayLike<T> | Record<string, T> | null | undefined} collection - The collection to iterate over.
 * @param {((value: any, index: PropertyKey, collection: any) => any) | PropertyKey | object} iteratee - The function invoked per iteration or the key to map over.
 * @returns {any[]} - Returns the new mapped array.
 *
 * @example
 * // Using a transformation function
 * const array = [1, 2, 3];
 * map(array, value => value * 2); // => [2, 4, 6]
 *
 * @example
 * // Using a property key as the iteratee
 * const objects = [{ a: 1 }, { a: 2 }, { a: 3 }];
 * map(objects, 'a'); // => [1, 2, 3]
 *
 * @example
 * // Using an object as the iteratee
 * const objects = [{ a: 1 }, { a: 2 }, { a: 3 }];
 * map(objects, { a: 1 }); // => [true, false, false]
 *
 * @example
 * // No iteratee
 * const numbers = [1, 2, 3];
 * map(numbers); // => [1, 2, 3]
 *
 * @example
 * // Using an object as the collection
 * const obj = { a: 1, b: 2, c: 3 };
 * map(obj, (value, key) => `${key}: ${value}`); // => ['a: 1', 'b: 2', 'c: 3']
 */ export function map(collection, _iteratee) {
  if (!collection) {
    return [];
  }
  const keys = isArrayLike(collection) || Array.isArray(collection) ? range(0, collection.length) : Object.keys(collection);
  const iteratee = iterateeToolkit(_iteratee ?? identity);
  const result = new Array(keys.length);
  for(let i = 0; i < keys.length; i++){
    const key = keys[i];
    const value = collection[key];
    result[i] = iteratee(value, key, collection);
  }
  return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvYXJyYXkvbWFwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vLi4vZnVuY3Rpb24vaWRlbnRpdHkudHMnO1xuaW1wb3J0IHsgcmFuZ2UgfSBmcm9tICcuLi8uLi9tYXRoL3JhbmdlLnRzJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vcHJlZGljYXRlL2lzQXJyYXlMaWtlLnRzJztcbmltcG9ydCB7IGl0ZXJhdGVlIGFzIGl0ZXJhdGVlVG9vbGtpdCB9IGZyb20gJy4uL3V0aWwvaXRlcmF0ZWUudHMnO1xuXG4vKipcbiAqIE1hcHMgZWFjaCBlbGVtZW50IGluIGEgcmVhZG9ubHkgYXJyYXkgdG8gYSBuZXcgYXJyYXkgb2YgdmFsdWVzIHVzaW5nIGFuIGl0ZXJhdGVlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7cmVhZG9ubHkgVFtdfSBjb2xsZWN0aW9uIC0gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHsodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIGNvbGxlY3Rpb246IHJlYWRvbmx5IFRbXSkgPT4gVX0gaXRlcmF0ZWUgLSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge1VbXX0gLSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhcnJheSA9IFsxLCAyLCAzXTtcbiAqIG1hcChhcnJheSwgdmFsdWUgPT4gdmFsdWUgKiAyKTsgLy8gPT4gWzIsIDQsIDZdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VCwgVT4oXG4gIGNvbGxlY3Rpb246IHJlYWRvbmx5IFRbXSxcbiAgaXRlcmF0ZWU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogcmVhZG9ubHkgVFtdKSA9PiBVXG4pOiBVW107XG5cbi8qKlxuICogTWFwcyBlYWNoIGVsZW1lbnQgaW4gYSByZWFkb25seSBhcnJheSB0byBhIGJvb2xlYW4gYXJyYXkgYmFzZWQgb24gYSBwYXJ0aWFsIG9iamVjdCBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge3JlYWRvbmx5IFRbXX0gY29sbGVjdGlvbiAtIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7UGFydGlhbDxUPn0gaXRlcmF0ZWUgLSBUaGUgcGFydGlhbCBvYmplY3QgdG8gbWF0Y2ggYWdhaW5zdCBlYWNoIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbltdfSAtIFJldHVybnMgYW4gYXJyYXkgb2YgYm9vbGVhbnMgaW5kaWNhdGluZyBtYXRjaGVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvYmplY3RzID0gW3sgYTogMSB9LCB7IGE6IDIgfSwgeyBhOiAzIH1dO1xuICogbWFwKG9iamVjdHMsIHsgYTogMSB9KTsgLy8gPT4gW3RydWUsIGZhbHNlLCBmYWxzZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxUPihjb2xsZWN0aW9uOiByZWFkb25seSBUW10sIGl0ZXJhdGVlOiBQYXJ0aWFsPFQ+KTogYm9vbGVhbltdO1xuXG4vKipcbiAqIE1hcHMgZWFjaCBlbGVtZW50IGluIGEgcmVhZG9ubHkgYXJyYXkgdG8gYSBib29sZWFuIGFycmF5IGJhc2VkIG9uIGEgcHJvcGVydHktdmFsdWUgcGFpciBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge3JlYWRvbmx5IFRbXX0gY29sbGVjdGlvbiAtIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7W2tleW9mIFQsIHVua25vd25dfSBpdGVyYXRlZSAtIFRoZSBwcm9wZXJ0eS12YWx1ZSBwYWlyIHRvIG1hdGNoIGFnYWluc3QgZWFjaCBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW5bXX0gLSBSZXR1cm5zIGFuIGFycmF5IG9mIGJvb2xlYW5zIGluZGljYXRpbmcgbWF0Y2hlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb2JqZWN0cyA9IFt7IGE6IDEgfSwgeyBhOiAyIH0sIHsgYTogMyB9XTtcbiAqIG1hcChvYmplY3RzLCBbJ2EnLCAxXSk7IC8vID0+IFt0cnVlLCBmYWxzZSwgZmFsc2VdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VD4oY29sbGVjdGlvbjogcmVhZG9ubHkgVFtdLCBpdGVyYXRlZTogW2tleW9mIFQsIHVua25vd25dKTogYm9vbGVhbltdO1xuXG4vKipcbiAqIE1hcHMgZWFjaCBlbGVtZW50IGluIGEgcmVhZG9ubHkgYXJyYXkgdG8gYW4gYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB7cmVhZG9ubHkgVFtdfSBjb2xsZWN0aW9uIC0gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtLfSBpdGVyYXRlZSAtIFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGV4dHJhY3QgZnJvbSBlYWNoIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7QXJyYXk8VFtLXT59IC0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9iamVjdHMgPSBbeyBhOiAxIH0sIHsgYTogMiB9LCB7IGE6IDMgfV07XG4gKiBtYXAob2JqZWN0cywgJ2EnKTsgLy8gPT4gWzEsIDIsIDNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VCwgSyBleHRlbmRzIGtleW9mIFQ+KGNvbGxlY3Rpb246IHJlYWRvbmx5IFRbXSwgaXRlcmF0ZWU6IEspOiBBcnJheTxUW0tdPjtcblxuLyoqXG4gKiBNYXBzIGVhY2ggZWxlbWVudCBpbiBhIHJlYWRvbmx5IGFycmF5IHRvIGl0c2VsZiBpZiBubyBpdGVyYXRlZSBpcyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0ge3JlYWRvbmx5IFRbXX0gY29sbGVjdGlvbiAtIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7bnVsbCB8IHVuZGVmaW5lZH0gW2l0ZXJhdGVlXSAtIE9wdGlvbmFsIGl0ZXJhdGVlLlxuICogQHJldHVybnMge1RbXX0gLSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgbnVtYmVycyA9IFsxLCAyLCAzXTtcbiAqIG1hcChudW1iZXJzKTsgLy8gPT4gWzEsIDIsIDNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VD4oY29sbGVjdGlvbjogcmVhZG9ubHkgVFtdLCBpdGVyYXRlZT86IG51bGwgfCB1bmRlZmluZWQpOiBUW107XG5cbi8qKlxuICogTWFwcyBlYWNoIGVsZW1lbnQgaW4gYW4gQXJyYXlMaWtlIG9iamVjdCB0byBhIG5ldyBhcnJheSBvZiB2YWx1ZXMgdXNpbmcgYW4gaXRlcmF0ZWUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtBcnJheUxpa2U8VD59IGNvbGxlY3Rpb24gLSBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0geyh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogQXJyYXlMaWtlPFQ+KSA9PiBVfSBpdGVyYXRlZSAtIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7VVtdfSAtIFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGFycmF5TGlrZSA9IHswOiAxLCAxOiAyLCAyOiAzLCBsZW5ndGg6IDN9O1xuICogbWFwKGFycmF5TGlrZSwgdmFsdWUgPT4gdmFsdWUgKiAyKTsgLy8gPT4gWzIsIDQsIDZdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VCwgVT4oXG4gIGNvbGxlY3Rpb246IEFycmF5TGlrZTxUPixcbiAgaXRlcmF0ZWU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogQXJyYXlMaWtlPFQ+KSA9PiBVXG4pOiBVW107XG5cbi8qKlxuICogTWFwcyBlYWNoIGVsZW1lbnQgaW4gYW4gQXJyYXlMaWtlIG9iamVjdCB0byBhIGJvb2xlYW4gYXJyYXkgYmFzZWQgb24gYSBwYXJ0aWFsIG9iamVjdCBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUPn0gY29sbGVjdGlvbiAtIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7UGFydGlhbDxUPn0gaXRlcmF0ZWUgLSBUaGUgcGFydGlhbCBvYmplY3QgdG8gbWF0Y2ggYWdhaW5zdCBlYWNoIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbltdfSAtIFJldHVybnMgYW4gYXJyYXkgb2YgYm9vbGVhbnMgaW5kaWNhdGluZyBtYXRjaGVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhcnJheUxpa2UgPSBbeyBhOiAxIH0sIHsgYTogMiB9LCB7IGE6IDMgfV07XG4gKiBtYXAoYXJyYXlMaWtlLCB7IGE6IDEgfSk7IC8vID0+IFt0cnVlLCBmYWxzZSwgZmFsc2VdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VD4oY29sbGVjdGlvbjogQXJyYXlMaWtlPFQ+LCBpdGVyYXRlZTogUGFydGlhbDxUPik6IGJvb2xlYW5bXTtcblxuLyoqXG4gKiBNYXBzIGVhY2ggZWxlbWVudCBpbiBhbiBBcnJheUxpa2Ugb2JqZWN0IHRvIGEgYm9vbGVhbiBhcnJheSBiYXNlZCBvbiBhIHByb3BlcnR5LXZhbHVlIHBhaXIgbWF0Y2guXG4gKlxuICogQHBhcmFtIHtBcnJheUxpa2U8VD59IGNvbGxlY3Rpb24gLSBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge1trZXlvZiBULCB1bmtub3duXX0gaXRlcmF0ZWUgLSBUaGUgcHJvcGVydHktdmFsdWUgcGFpciB0byBtYXRjaCBhZ2FpbnN0IGVhY2ggZWxlbWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFuW119IC0gUmV0dXJucyBhbiBhcnJheSBvZiBib29sZWFucyBpbmRpY2F0aW5nIG1hdGNoZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGFycmF5TGlrZSA9IFt7IGE6IDEgfSwgeyBhOiAyIH0sIHsgYTogMyB9XTtcbiAqIG1hcChhcnJheUxpa2UsIFsnYScsIDFdKTsgLy8gPT4gW3RydWUsIGZhbHNlLCBmYWxzZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxUPihjb2xsZWN0aW9uOiBBcnJheUxpa2U8VD4sIGl0ZXJhdGVlOiBba2V5b2YgVCwgdW5rbm93bl0pOiBib29sZWFuW107XG5cbi8qKlxuICogTWFwcyBlYWNoIGVsZW1lbnQgaW4gYW4gQXJyYXlMaWtlIG9iamVjdCB0byBhbiBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheUxpa2U8VD59IGNvbGxlY3Rpb24gLSBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0t9IGl0ZXJhdGVlIC0gVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZXh0cmFjdCBmcm9tIGVhY2ggZWxlbWVudC5cbiAqIEByZXR1cm5zIHtBcnJheTxUW0tdPn0gLSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYXJyYXlMaWtlID0gW3sgYTogMSB9LCB7IGE6IDIgfSwgeyBhOiAzIH1dO1xuICogbWFwKGFycmF5TGlrZSwgJ2EnKTsgLy8gPT4gWzEsIDIsIDNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VCwgSyBleHRlbmRzIGtleW9mIFQ+KGNvbGxlY3Rpb246IEFycmF5TGlrZTxUPiwgaXRlcmF0ZWU6IEspOiBBcnJheTxUW0tdPjtcblxuLyoqXG4gKiBNYXBzIGVhY2ggZWxlbWVudCBpbiBhbiBBcnJheUxpa2Ugb2JqZWN0IHRvIGl0c2VsZiBpZiBubyBpdGVyYXRlZSBpcyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUPn0gY29sbGVjdGlvbiAtIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7bnVsbCB8IHVuZGVmaW5lZH0gW2l0ZXJhdGVlXSAtIE9wdGlvbmFsIGl0ZXJhdGVlLlxuICogQHJldHVybnMge0FycmF5TGlrZTxUPn0gLSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBBcnJheUxpa2Ugb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhcnJheUxpa2UgPSB7MDogMSwgMTogMiwgMjogMywgbGVuZ3RoOiAzfTtcbiAqIG1hcChhcnJheUxpa2UpOyAvLyA9PiB7MDogMSwgMTogMiwgMjogMywgbGVuZ3RoOiAzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQsIFU+KGNvbGxlY3Rpb246IEFycmF5TGlrZTxUPiwgaXRlcmF0ZWU/OiBudWxsIHwgdW5kZWZpbmVkKTogQXJyYXlMaWtlPFQ+O1xuXG4vKipcbiAqIE1hcHMgZWFjaCB2YWx1ZSBpbiBhbiBvYmplY3QgdG8gYSBuZXcgYXJyYXkgb2YgdmFsdWVzIHVzaW5nIGFuIGl0ZXJhdGVlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7VH0gY29sbGVjdGlvbiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHsodmFsdWU6IFRba2V5b2YgVF0sIGtleTogc3RyaW5nLCBjb2xsZWN0aW9uOiBUKSA9PiBVfSBpdGVyYXRlZSAtIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7VVtdfSAtIFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9iaiA9IHsgYTogMSwgYjogMiwgYzogMyB9O1xuICogbWFwKG9iaiwgKHZhbHVlLCBrZXkpID0+IGAke2tleX06ICR7dmFsdWV9YCk7IC8vID0+IFsnYTogMScsICdiOiAyJywgJ2M6IDMnXVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQgZXh0ZW5kcyBvYmplY3QsIFU+KFxuICBjb2xsZWN0aW9uOiBULFxuICBpdGVyYXRlZTogKHZhbHVlOiBUW2tleW9mIFRdLCBrZXk6IHN0cmluZywgY29sbGVjdGlvbjogVCkgPT4gVVxuKTogVVtdO1xuXG4vKipcbiAqIE1hcHMgZWFjaCB2YWx1ZSBpbiBhbiBvYmplY3QgdG8gYSBib29sZWFuIGFycmF5IGJhc2VkIG9uIGEgcGFydGlhbCBvYmplY3QgbWF0Y2guXG4gKlxuICogQHBhcmFtIHtUfSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7UGFydGlhbDxUW2tleW9mIFRdPn0gaXRlcmF0ZWUgLSBUaGUgcGFydGlhbCBvYmplY3QgdG8gbWF0Y2ggYWdhaW5zdCBlYWNoIHZhbHVlLlxuICogQHJldHVybnMge2Jvb2xlYW5bXX0gLSBSZXR1cm5zIGFuIGFycmF5IG9mIGJvb2xlYW5zIGluZGljYXRpbmcgbWF0Y2hlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgb2JqID0geyBhOiB7IHg6IDEgfSwgYjogeyB4OiAyIH0sIGM6IHsgeDogMyB9IH07XG4gKiBtYXAob2JqLCB7IHg6IDEgfSk7IC8vID0+IFt0cnVlLCBmYWxzZSwgZmFsc2VdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXA8VD4ob2JqZWN0OiBULCBpdGVyYXRlZTogUGFydGlhbDxUW2tleW9mIFRdPik6IGJvb2xlYW5bXTtcblxuLyoqXG4gKiBNYXBzIGVhY2ggdmFsdWUgaW4gYW4gb2JqZWN0IHRvIGEgYm9vbGVhbiBhcnJheSBiYXNlZCBvbiBhIHByb3BlcnR5LXZhbHVlIHBhaXIgbWF0Y2guXG4gKlxuICogQHBhcmFtIHtUfSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7W2tleW9mIFRba2V5b2YgVF0sIHVua25vd25dfSBpdGVyYXRlZSAtIFRoZSBwcm9wZXJ0eS12YWx1ZSBwYWlyIHRvIG1hdGNoIGFnYWluc3QgZWFjaCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtib29sZWFuW119IC0gUmV0dXJucyBhbiBhcnJheSBvZiBib29sZWFucyBpbmRpY2F0aW5nIG1hdGNoZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IG9iaiA9IHsgYTogeyB4OiAxIH0sIGI6IHsgeDogMiB9LCBjOiB7IHg6IDMgfSB9O1xuICogbWFwKG9iaiwgWyd4JywgMV0pOyAvLyA9PiBbdHJ1ZSwgZmFsc2UsIGZhbHNlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQ+KG9iamVjdDogVCwgaXRlcmF0ZWU6IFtrZXlvZiBUW2tleW9mIFRdLCB1bmtub3duXSk6IGJvb2xlYW5bXTtcblxuLyoqXG4gKiBNYXBzIGVhY2ggdmFsdWUgaW4gYW4gb2JqZWN0IHRvIGFuIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0ge1R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtLfSBpdGVyYXRlZSAtIFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGV4dHJhY3QgZnJvbSBlYWNoIHZhbHVlLlxuICogQHJldHVybnMge0FycmF5PFRba2V5b2YgVF1bS10+fSAtIFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvYmogPSB7IGE6IHsgeDogMSB9LCBiOiB7IHg6IDIgfSwgYzogeyB4OiAzIH0gfTtcbiAqIG1hcChvYmosICd4Jyk7IC8vID0+IFsxLCAyLCAzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwPFQsIEsgZXh0ZW5kcyBrZXlvZiBUW2tleW9mIFRdPihvYmplY3Q6IFQsIGl0ZXJhdGVlOiBLKTogQXJyYXk8VFtrZXlvZiBUXVtLXT47XG5cbi8qKlxuICogTWFwcyBlYWNoIHZhbHVlIGluIGFuIG9iamVjdCB0byBpdHNlbGYgaWYgbm8gaXRlcmF0ZWUgaXMgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIHtUfSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7bnVsbCB8IHVuZGVmaW5lZH0gW2l0ZXJhdGVlXSAtIE9wdGlvbmFsIGl0ZXJhdGVlLlxuICogQHJldHVybnMge1VbXX0gLSBSZXR1cm5zIHRoZSBvcmlnaW5hbCBvYmplY3QgdmFsdWVzIGFzIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBvYmogPSB7IGE6IDEsIGI6IDIsIGM6IDMgfTtcbiAqIG1hcChvYmopOyAvLyA9PiBbMSwgMiwgM11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxUIGV4dGVuZHMgb2JqZWN0LCBVPihvYmplY3Q6IFQsIGl0ZXJhdGVlPzogbnVsbCB8IHVuZGVmaW5lZCk6IFVbXTtcblxuLyoqXG4gKiBNYXBzIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdG8gYSBuZXcgYXJyYXkgb2YgdmFsdWVzIHVzaW5nIGFuIGl0ZXJhdGVlLlxuICpcbiAqIEBwYXJhbSB7VFtdIHwgQXJyYXlMaWtlPFQ+IHwgUmVjb3JkPHN0cmluZywgVD4gfCBudWxsIHwgdW5kZWZpbmVkfSBjb2xsZWN0aW9uIC0gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHsoKHZhbHVlOiBhbnksIGluZGV4OiBQcm9wZXJ0eUtleSwgY29sbGVjdGlvbjogYW55KSA9PiBhbnkpIHwgUHJvcGVydHlLZXkgfCBvYmplY3R9IGl0ZXJhdGVlIC0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbiBvciB0aGUga2V5IHRvIG1hcCBvdmVyLlxuICogQHJldHVybnMge2FueVtdfSAtIFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFVzaW5nIGEgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25cbiAqIGNvbnN0IGFycmF5ID0gWzEsIDIsIDNdO1xuICogbWFwKGFycmF5LCB2YWx1ZSA9PiB2YWx1ZSAqIDIpOyAvLyA9PiBbMiwgNCwgNl1cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVXNpbmcgYSBwcm9wZXJ0eSBrZXkgYXMgdGhlIGl0ZXJhdGVlXG4gKiBjb25zdCBvYmplY3RzID0gW3sgYTogMSB9LCB7IGE6IDIgfSwgeyBhOiAzIH1dO1xuICogbWFwKG9iamVjdHMsICdhJyk7IC8vID0+IFsxLCAyLCAzXVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBVc2luZyBhbiBvYmplY3QgYXMgdGhlIGl0ZXJhdGVlXG4gKiBjb25zdCBvYmplY3RzID0gW3sgYTogMSB9LCB7IGE6IDIgfSwgeyBhOiAzIH1dO1xuICogbWFwKG9iamVjdHMsIHsgYTogMSB9KTsgLy8gPT4gW3RydWUsIGZhbHNlLCBmYWxzZV1cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gTm8gaXRlcmF0ZWVcbiAqIGNvbnN0IG51bWJlcnMgPSBbMSwgMiwgM107XG4gKiBtYXAobnVtYmVycyk7IC8vID0+IFsxLCAyLCAzXVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBVc2luZyBhbiBvYmplY3QgYXMgdGhlIGNvbGxlY3Rpb25cbiAqIGNvbnN0IG9iaiA9IHsgYTogMSwgYjogMiwgYzogMyB9O1xuICogbWFwKG9iaiwgKHZhbHVlLCBrZXkpID0+IGAke2tleX06ICR7dmFsdWV9YCk7IC8vID0+IFsnYTogMScsICdiOiAyJywgJ2M6IDMnXVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwKFxuICBjb2xsZWN0aW9uOiBhbnlbXSB8IEFycmF5TGlrZTxhbnk+IHwgUmVjb3JkPGFueSwgYW55PiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIF9pdGVyYXRlZT86ICgodmFsdWU6IGFueSwgaW5kZXg6IFByb3BlcnR5S2V5LCBjb2xsZWN0aW9uOiBhbnkpID0+IGFueSkgfCBQcm9wZXJ0eUtleSB8IG9iamVjdCB8IG51bGxcbik6IGFueVtdIHtcbiAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3Qga2V5czogUHJvcGVydHlLZXlbXSA9XG4gICAgaXNBcnJheUxpa2UoY29sbGVjdGlvbikgfHwgQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uKSA/IHJhbmdlKDAsIGNvbGxlY3Rpb24ubGVuZ3RoKSA6IE9iamVjdC5rZXlzKGNvbGxlY3Rpb24pO1xuXG4gIGNvbnN0IGl0ZXJhdGVlID0gaXRlcmF0ZWVUb29sa2l0KF9pdGVyYXRlZSA/PyBpZGVudGl0eSk7XG5cbiAgY29uc3QgcmVzdWx0OiBhbnlbXSA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWx1ZSA9IChjb2xsZWN0aW9uIGFzIGFueSlba2V5XTtcblxuICAgIHJlc3VsdFtpXSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLFFBQVEsUUFBUSw2QkFBNkI7QUFDdEQsU0FBUyxLQUFLLFFBQVEsc0JBQXNCO0FBQzVDLFNBQVMsV0FBVyxRQUFRLDhCQUE4QjtBQUMxRCxTQUFTLFlBQVksZUFBZSxRQUFRLHNCQUFzQjtBQThNbEU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0ErQkMsR0FDRCxPQUFPLFNBQVMsSUFDZCxVQUF3RSxFQUN4RSxTQUFvRztFQUVwRyxJQUFJLENBQUMsWUFBWTtJQUNmLE9BQU8sRUFBRTtFQUNYO0VBRUEsTUFBTSxPQUNKLFlBQVksZUFBZSxNQUFNLE9BQU8sQ0FBQyxjQUFjLE1BQU0sR0FBRyxXQUFXLE1BQU0sSUFBSSxPQUFPLElBQUksQ0FBQztFQUVuRyxNQUFNLFdBQVcsZ0JBQWdCLGFBQWE7RUFFOUMsTUFBTSxTQUFnQixJQUFJLE1BQU0sS0FBSyxNQUFNO0VBRTNDLElBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLE1BQU0sRUFBRSxJQUFLO0lBQ3BDLE1BQU0sTUFBTSxJQUFJLENBQUMsRUFBRTtJQUNuQixNQUFNLFFBQVEsQUFBQyxVQUFrQixDQUFDLElBQUk7SUFFdEMsTUFBTSxDQUFDLEVBQUUsR0FBRyxTQUFTLE9BQU8sS0FBSztFQUNuQztFQUVBLE9BQU87QUFDVCJ9
// denoCacheMetadata=2433753002073874495,5559331550848963753