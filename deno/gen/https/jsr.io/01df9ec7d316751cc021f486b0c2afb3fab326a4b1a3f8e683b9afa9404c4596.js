import { last } from './last.ts';
import { difference as differenceToolkit } from '../../array/difference.ts';
import { differenceBy as differenceByToolkit } from '../../array/differenceBy.ts';
import { flattenArrayLike } from '../_internal/flattenArrayLike.ts';
import { isArrayLikeObject } from '../predicate/isArrayLikeObject.ts';
import { iteratee as createIteratee } from '../util/iteratee.ts';
/**
 * Computes the difference between an array and multiple arrays using an iteratee function.
 *
 * @template T
 * @param {ArrayLike<T> | null | undefined} arr - The primary array from which to derive the difference.
 * @param {...any[]} values - Multiple arrays containing elements to be excluded from the primary array.
 * @returns {T[]} A new array containing the elements that are present in the primary array but not in the values arrays.
 */ export function differenceBy(arr, ..._values) {
  if (!isArrayLikeObject(arr)) {
    return [];
  }
  const iteratee = last(_values);
  const values = flattenArrayLike(_values);
  if (isArrayLikeObject(iteratee)) {
    return differenceToolkit(Array.from(arr), values);
  }
  return differenceByToolkit(Array.from(arr), values, createIteratee(iteratee));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvYXJyYXkvZGlmZmVyZW5jZUJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxhc3QgfSBmcm9tICcuL2xhc3QudHMnO1xuaW1wb3J0IHsgZGlmZmVyZW5jZSBhcyBkaWZmZXJlbmNlVG9vbGtpdCB9IGZyb20gJy4uLy4uL2FycmF5L2RpZmZlcmVuY2UudHMnO1xuaW1wb3J0IHsgZGlmZmVyZW5jZUJ5IGFzIGRpZmZlcmVuY2VCeVRvb2xraXQgfSBmcm9tICcuLi8uLi9hcnJheS9kaWZmZXJlbmNlQnkudHMnO1xuaW1wb3J0IHsgZmxhdHRlbkFycmF5TGlrZSB9IGZyb20gJy4uL19pbnRlcm5hbC9mbGF0dGVuQXJyYXlMaWtlLnRzJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlT2JqZWN0IH0gZnJvbSAnLi4vcHJlZGljYXRlL2lzQXJyYXlMaWtlT2JqZWN0LnRzJztcbmltcG9ydCB7IGl0ZXJhdGVlIGFzIGNyZWF0ZUl0ZXJhdGVlIH0gZnJvbSAnLi4vdXRpbC9pdGVyYXRlZS50cyc7XG5cbnR5cGUgSXRlcmF0ZWU8VD4gPSBQcm9wZXJ0eUtleSB8IFBhcnRpYWw8VD4gfCAoKHZhbHVlOiBUKSA9PiB1bmtub3duKTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGFuIGFycmF5IGFuZCBhbm90aGVyIGFycmF5IHVzaW5nIGFuIGl0ZXJhdGVlIGZ1bmN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUMSwgVDJcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQxPiB8IG51bGwgfCB1bmRlZmluZWR9IGFycmF5IC0gVGhlIHByaW1hcnkgYXJyYXkgZnJvbSB3aGljaCB0byBkZXJpdmUgdGhlIGRpZmZlcmVuY2UuXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUMj59IHZhbHVlcyAtIFRoZSBhcnJheSBjb250YWluaW5nIGVsZW1lbnRzIHRvIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIHByaW1hcnkgYXJyYXkuXG4gKiBAcGFyYW0ge0l0ZXJhdGVlPFQxIHwgVDI+fSBpdGVyYXRlZSAtIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHJldHVybnMge1QxW119IEEgbmV3IGFycmF5IGNvbnRhaW5pbmcgdGhlIGVsZW1lbnRzIHRoYXQgYXJlIHByZXNlbnQgaW4gdGhlIHByaW1hcnkgYXJyYXkgYnV0IG5vdCBpbiB0aGUgdmFsdWVzIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBkaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gKiAvLyByZXN1bHQgd2lsbCBiZSBbMS4yXVxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCByZXN1bHQgPSBkaWZmZXJlbmNlQnkoW3sgeDogMiB9LCB7IHg6IDEgfV0sIFt7IHg6IDEgfV0sICd4Jyk7XG4gKiAvLyByZXN1bHQgd2lsbCBiZSBbeyB4OiAyIH1dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlQnk8VDEsIFQyPihcbiAgYXJyYXk6IEFycmF5TGlrZTxUMT4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICB2YWx1ZXM6IEFycmF5TGlrZTxUMj4sXG4gIGl0ZXJhdGVlOiBJdGVyYXRlZTxUMSB8IFQyPlxuKTogVDFbXTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGFuIGFycmF5IGFuZCB0d28gb3RoZXIgYXJyYXlzIHVzaW5nIGFuIGl0ZXJhdGVlIGZ1bmN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUMSwgVDIsIFQzXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUMT4gfCBudWxsIHwgdW5kZWZpbmVkfSBhcnJheSAtIFRoZSBwcmltYXJ5IGFycmF5IGZyb20gd2hpY2ggdG8gZGVyaXZlIHRoZSBkaWZmZXJlbmNlLlxuICogQHBhcmFtIHtBcnJheUxpa2U8VDI+fSB2YWx1ZXMxIC0gVGhlIGZpcnN0IGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdG8gYmUgZXhjbHVkZWQgZnJvbSB0aGUgcHJpbWFyeSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQzPn0gdmFsdWVzMiAtIFRoZSBzZWNvbmQgYXJyYXkgY29udGFpbmluZyBlbGVtZW50cyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBwcmltYXJ5IGFycmF5LlxuICogQHBhcmFtIHtJdGVyYXRlZTxUMSB8IFQyIHwgVDM+fSBpdGVyYXRlZSAtIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHJldHVybnMge1QxW119IEEgbmV3IGFycmF5IGNvbnRhaW5pbmcgdGhlIGVsZW1lbnRzIHRoYXQgYXJlIHByZXNlbnQgaW4gdGhlIHByaW1hcnkgYXJyYXkgYnV0IG5vdCBpbiB0aGUgdmFsdWVzIGFycmF5cy5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVzdWx0ID0gZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIFsxLjJdLCBNYXRoLmZsb29yKTtcbiAqIC8vIHJlc3VsdCB3aWxsIGJlIFtdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlQnk8VDEsIFQyLCBUMz4oXG4gIGFycmF5OiBBcnJheUxpa2U8VDE+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgdmFsdWVzMTogQXJyYXlMaWtlPFQyPixcbiAgdmFsdWVzMjogQXJyYXlMaWtlPFQzPixcbiAgaXRlcmF0ZWU6IEl0ZXJhdGVlPFQxIHwgVDIgfCBUMz5cbik6IFQxW107XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhbiBhcnJheSBhbmQgdGhyZWUgb3RoZXIgYXJyYXlzIHVzaW5nIGFuIGl0ZXJhdGVlIGZ1bmN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUMSwgVDIsIFQzLCBUNFxuICogQHBhcmFtIHtBcnJheUxpa2U8VDE+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyYXkgLSBUaGUgcHJpbWFyeSBhcnJheSBmcm9tIHdoaWNoIHRvIGRlcml2ZSB0aGUgZGlmZmVyZW5jZS5cbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQyPn0gdmFsdWVzMSAtIFRoZSBmaXJzdCBhcnJheSBjb250YWluaW5nIGVsZW1lbnRzIHRvIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIHByaW1hcnkgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUMz59IHZhbHVlczIgLSBUaGUgc2Vjb25kIGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdG8gYmUgZXhjbHVkZWQgZnJvbSB0aGUgcHJpbWFyeSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ0Pn0gdmFsdWVzMyAtIFRoZSB0aGlyZCBhcnJheSBjb250YWluaW5nIGVsZW1lbnRzIHRvIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIHByaW1hcnkgYXJyYXkuXG4gKiBAcGFyYW0ge0l0ZXJhdGVlPFQxIHwgVDIgfCBUMyB8IFQ0Pn0gaXRlcmF0ZWUgLSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtUMVtdfSBBIG5ldyBhcnJheSBjb250YWluaW5nIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSBwcmltYXJ5IGFycmF5IGJ1dCBub3QgaW4gdGhlIHZhbHVlcyBhcnJheXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBbMS4yXSwgWzIuMV0sIE1hdGguZmxvb3IpO1xuICogLy8gcmVzdWx0IHdpbGwgYmUgW11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2VCeTxUMSwgVDIsIFQzLCBUND4oXG4gIGFycmF5OiBBcnJheUxpa2U8VDE+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgdmFsdWVzMTogQXJyYXlMaWtlPFQyPixcbiAgdmFsdWVzMjogQXJyYXlMaWtlPFQzPixcbiAgdmFsdWVzMzogQXJyYXlMaWtlPFQ0PixcbiAgaXRlcmF0ZWU6IEl0ZXJhdGVlPFQxIHwgVDIgfCBUMyB8IFQ0PlxuKTogVDFbXTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGFuIGFycmF5IGFuZCBmb3VyIG90aGVyIGFycmF5cyB1c2luZyBhbiBpdGVyYXRlZSBmdW5jdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVDEsIFQyLCBUMywgVDQsIFQ1XG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUMT4gfCBudWxsIHwgdW5kZWZpbmVkfSBhcnJheSAtIFRoZSBwcmltYXJ5IGFycmF5IGZyb20gd2hpY2ggdG8gZGVyaXZlIHRoZSBkaWZmZXJlbmNlLlxuICogQHBhcmFtIHtBcnJheUxpa2U8VDI+fSB2YWx1ZXMxIC0gVGhlIGZpcnN0IGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdG8gYmUgZXhjbHVkZWQgZnJvbSB0aGUgcHJpbWFyeSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQzPn0gdmFsdWVzMiAtIFRoZSBzZWNvbmQgYXJyYXkgY29udGFpbmluZyBlbGVtZW50cyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBwcmltYXJ5IGFycmF5LlxuICogQHBhcmFtIHtBcnJheUxpa2U8VDQ+fSB2YWx1ZXMzIC0gVGhlIHRoaXJkIGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdG8gYmUgZXhjbHVkZWQgZnJvbSB0aGUgcHJpbWFyeSBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ1Pn0gdmFsdWVzNCAtIFRoZSBmb3VydGggYXJyYXkgY29udGFpbmluZyBlbGVtZW50cyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBwcmltYXJ5IGFycmF5LlxuICogQHBhcmFtIHtJdGVyYXRlZTxUMSB8IFQyIHwgVDMgfCBUNCB8IFQ1Pn0gaXRlcmF0ZWUgLSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtUMVtdfSBBIG5ldyBhcnJheSBjb250YWluaW5nIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSBwcmltYXJ5IGFycmF5IGJ1dCBub3QgaW4gdGhlIHZhbHVlcyBhcnJheXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBbMS4yXSwgWzIuMV0sIFszLjRdLCBNYXRoLmZsb29yKTtcbiAqIC8vIHJlc3VsdCB3aWxsIGJlIFtdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlQnk8VDEsIFQyLCBUMywgVDQsIFQ1PihcbiAgYXJyYXk6IEFycmF5TGlrZTxUMT4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICB2YWx1ZXMxOiBBcnJheUxpa2U8VDI+LFxuICB2YWx1ZXMyOiBBcnJheUxpa2U8VDM+LFxuICB2YWx1ZXMzOiBBcnJheUxpa2U8VDQ+LFxuICB2YWx1ZXM0OiBBcnJheUxpa2U8VDU+LFxuICBpdGVyYXRlZTogSXRlcmF0ZWU8VDEgfCBUMiB8IFQzIHwgVDQgfCBUNT5cbik6IFQxW107XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhbiBhcnJheSBhbmQgbXVsdGlwbGUgYXJyYXlzIHVzaW5nIGFuIGl0ZXJhdGVlIGZ1bmN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0FycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWR9IGFycmF5IC0gVGhlIHByaW1hcnkgYXJyYXkgZnJvbSB3aGljaCB0byBkZXJpdmUgdGhlIGRpZmZlcmVuY2UuXG4gKiBAcGFyYW0gey4uLkFycmF5PEFycmF5TGlrZTxUPj59IHZhbHVlcyAtIE11bHRpcGxlIGFycmF5cyBjb250YWluaW5nIGVsZW1lbnRzIHRvIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIHByaW1hcnkgYXJyYXkuXG4gKiBAcmV0dXJucyB7VFtdfSBBIG5ldyBhcnJheSBjb250YWluaW5nIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSBwcmltYXJ5IGFycmF5IGJ1dCBub3QgaW4gdGhlIHZhbHVlcyBhcnJheXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHJlc3VsdCA9IGRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBbMS4yXSwgWzIuMV0sIFszLjRdLCBNYXRoLmZsb29yKTtcbiAqIC8vIHJlc3VsdCB3aWxsIGJlIFtdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmZXJlbmNlQnk8VD4oYXJyYXk6IEFycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsIC4uLnZhbHVlczogQXJyYXk8QXJyYXlMaWtlPFQ+Pik6IFRbXTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGFuIGFycmF5IGFuZCBtdWx0aXBsZSBhcnJheXMgdXNpbmcgYW4gaXRlcmF0ZWUgZnVuY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIHByaW1hcnkgYXJyYXkgZnJvbSB3aGljaCB0byBkZXJpdmUgdGhlIGRpZmZlcmVuY2UuXG4gKiBAcGFyYW0gey4uLmFueVtdfSB2YWx1ZXMgLSBNdWx0aXBsZSBhcnJheXMgY29udGFpbmluZyBlbGVtZW50cyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBwcmltYXJ5IGFycmF5LlxuICogQHJldHVybnMge1RbXX0gQSBuZXcgYXJyYXkgY29udGFpbmluZyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgcHJpbWFyeSBhcnJheSBidXQgbm90IGluIHRoZSB2YWx1ZXMgYXJyYXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZmVyZW5jZUJ5PFQ+KGFycjogQXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCwgLi4uX3ZhbHVlczogYW55W10pOiBUW10ge1xuICBpZiAoIWlzQXJyYXlMaWtlT2JqZWN0KGFycikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBpdGVyYXRlZSA9IGxhc3QoX3ZhbHVlcyk7XG4gIGNvbnN0IHZhbHVlcyA9IGZsYXR0ZW5BcnJheUxpa2U8VD4oX3ZhbHVlcyk7XG5cbiAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgIHJldHVybiBkaWZmZXJlbmNlVG9vbGtpdChBcnJheS5mcm9tKGFyciksIHZhbHVlcyk7XG4gIH1cblxuICByZXR1cm4gZGlmZmVyZW5jZUJ5VG9vbGtpdChBcnJheS5mcm9tKGFyciksIHZhbHVlcywgY3JlYXRlSXRlcmF0ZWUoaXRlcmF0ZWUpKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTLElBQUksUUFBUSxZQUFZO0FBQ2pDLFNBQVMsY0FBYyxpQkFBaUIsUUFBUSw0QkFBNEI7QUFDNUUsU0FBUyxnQkFBZ0IsbUJBQW1CLFFBQVEsOEJBQThCO0FBQ2xGLFNBQVMsZ0JBQWdCLFFBQVEsbUNBQW1DO0FBQ3BFLFNBQVMsaUJBQWlCLFFBQVEsb0NBQW9DO0FBQ3RFLFNBQVMsWUFBWSxjQUFjLFFBQVEsc0JBQXNCO0FBOEdqRTs7Ozs7OztDQU9DLEdBQ0QsT0FBTyxTQUFTLGFBQWdCLEdBQW9DLEVBQUUsR0FBRyxPQUFjO0VBQ3JGLElBQUksQ0FBQyxrQkFBa0IsTUFBTTtJQUMzQixPQUFPLEVBQUU7RUFDWDtFQUVBLE1BQU0sV0FBVyxLQUFLO0VBQ3RCLE1BQU0sU0FBUyxpQkFBb0I7RUFFbkMsSUFBSSxrQkFBa0IsV0FBVztJQUMvQixPQUFPLGtCQUFrQixNQUFNLElBQUksQ0FBQyxNQUFNO0VBQzVDO0VBRUEsT0FBTyxvQkFBb0IsTUFBTSxJQUFJLENBQUMsTUFBTSxRQUFRLGVBQWU7QUFDckUifQ==
// denoCacheMetadata=17812373595659258125,11710682006071218665