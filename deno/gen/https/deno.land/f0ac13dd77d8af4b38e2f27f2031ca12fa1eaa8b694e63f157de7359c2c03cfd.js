// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
import { TestSuiteInternal } from "./_test_suite.ts";
/** Generates an ItDefinition from ItArgs. */ function itDefinition(...args) {
  let [suiteOptionsOrNameOrFn, optionsOrNameOrFn, optionsOrFn, fn] = args;
  let suite = undefined;
  let name;
  let options;
  if (typeof suiteOptionsOrNameOrFn === "object" && typeof suiteOptionsOrNameOrFn.symbol === "symbol") {
    suite = suiteOptionsOrNameOrFn;
  } else {
    fn = optionsOrFn;
    optionsOrFn = optionsOrNameOrFn;
    optionsOrNameOrFn = suiteOptionsOrNameOrFn;
  }
  if (typeof optionsOrNameOrFn === "string") {
    name = optionsOrNameOrFn;
    if (typeof optionsOrFn === "function") {
      fn = optionsOrFn;
      options = {};
    } else {
      options = optionsOrFn;
      if (!fn) fn = options.fn;
    }
  } else if (typeof optionsOrNameOrFn === "function") {
    fn = optionsOrNameOrFn;
    name = fn.name;
    options = {};
  } else {
    options = optionsOrNameOrFn;
    if (typeof optionsOrFn === "function") {
      fn = optionsOrFn;
    } else {
      fn = options.fn;
    }
    name = options.name ?? fn.name;
  }
  return {
    suite,
    ...options,
    name,
    fn
  };
}
/** Registers an individual test case. */ export function it(...args) {
  if (TestSuiteInternal.runningCount > 0) {
    throw new Error("cannot register new test cases after already registered test cases start running");
  }
  const options = itDefinition(...args);
  const { suite } = options;
  const testSuite = suite ? TestSuiteInternal.suites.get(suite.symbol) : TestSuiteInternal.current;
  if (!TestSuiteInternal.started) TestSuiteInternal.started = true;
  if (testSuite) {
    TestSuiteInternal.addStep(testSuite, options);
  } else {
    const { name, fn, ignore, only, permissions, sanitizeExit, sanitizeOps, sanitizeResources } = options;
    TestSuiteInternal.registerTest({
      name,
      ignore,
      only,
      permissions,
      sanitizeExit,
      sanitizeOps,
      sanitizeResources,
      async fn (t) {
        TestSuiteInternal.runningCount++;
        try {
          await fn.call({}, t);
        } finally{
          TestSuiteInternal.runningCount--;
        }
      }
    });
  }
}
it.only = function itOnly(...args) {
  const options = itDefinition(...args);
  return it({
    ...options,
    only: true
  });
};
it.ignore = function itIgnore(...args) {
  const options = itDefinition(...args);
  return it({
    ...options,
    ignore: true
  });
};
function addHook(name, fn) {
  if (!TestSuiteInternal.current) {
    if (TestSuiteInternal.started) {
      throw new Error("cannot add global hooks after a global test is registered");
    }
    TestSuiteInternal.current = new TestSuiteInternal({
      name: "global",
      [name]: fn
    });
  } else {
    TestSuiteInternal.setHook(TestSuiteInternal.current, name, fn);
  }
}
/** Run some shared setup before all of the tests in the suite. */ export function beforeAll(fn) {
  addHook("beforeAll", fn);
}
/** Run some shared teardown after all of the tests in the suite. */ export function afterAll(fn) {
  addHook("afterAll", fn);
}
/** Run some shared setup before each test in the suite. */ export function beforeEach(fn) {
  addHook("beforeEach", fn);
}
/** Run some shared teardown after each test in the suite. */ export function afterEach(fn) {
  addHook("afterEach", fn);
}
/** Generates a DescribeDefinition from DescribeArgs. */ function describeDefinition(...args) {
  let [suiteOptionsOrNameOrFn, optionsOrNameOrFn, optionsOrFn, fn] = args;
  let suite = undefined;
  let name;
  let options;
  if (typeof suiteOptionsOrNameOrFn === "object" && typeof suiteOptionsOrNameOrFn.symbol === "symbol") {
    suite = suiteOptionsOrNameOrFn;
  } else {
    fn = optionsOrFn;
    optionsOrFn = optionsOrNameOrFn;
    optionsOrNameOrFn = suiteOptionsOrNameOrFn;
  }
  if (typeof optionsOrNameOrFn === "string") {
    name = optionsOrNameOrFn;
    if (typeof optionsOrFn === "function") {
      fn = optionsOrFn;
      options = {};
    } else {
      options = optionsOrFn ?? {};
      if (!fn) fn = options.fn;
    }
  } else if (typeof optionsOrNameOrFn === "function") {
    fn = optionsOrNameOrFn;
    name = fn.name;
    options = {};
  } else {
    options = optionsOrNameOrFn ?? {};
    if (typeof optionsOrFn === "function") {
      fn = optionsOrFn;
    } else {
      fn = options.fn;
    }
    name = options.name ?? fn?.name ?? "";
  }
  if (!suite) {
    suite = options.suite;
  }
  if (!suite && TestSuiteInternal.current) {
    const { symbol } = TestSuiteInternal.current;
    suite = {
      symbol
    };
  }
  return {
    ...options,
    suite,
    name,
    fn
  };
}
/** Registers a test suite. */ export function describe(...args) {
  if (TestSuiteInternal.runningCount > 0) {
    throw new Error("cannot register new test suites after already registered test cases start running");
  }
  const options = describeDefinition(...args);
  if (!TestSuiteInternal.started) TestSuiteInternal.started = true;
  const { symbol } = new TestSuiteInternal(options);
  return {
    symbol
  };
}
describe.only = function describeOnly(...args) {
  const options = describeDefinition(...args);
  return describe({
    ...options,
    only: true
  });
};
describe.ignore = function describeIgnore(...args) {
  const options = describeDefinition(...args);
  return describe({
    ...options,
    ignore: true
  });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE1MC4wL3Rlc3RpbmcvYmRkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjIgdGhlIERlbm8gYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gTUlUIGxpY2Vuc2UuXG5pbXBvcnQge1xuICBEZXNjcmliZURlZmluaXRpb24sXG4gIEhvb2tOYW1lcyxcbiAgSXREZWZpbml0aW9uLFxuICBUZXN0U3VpdGUsXG4gIFRlc3RTdWl0ZUludGVybmFsLFxufSBmcm9tIFwiLi9fdGVzdF9zdWl0ZS50c1wiO1xuZXhwb3J0IHR5cGUgeyBEZXNjcmliZURlZmluaXRpb24sIEl0RGVmaW5pdGlvbiwgVGVzdFN1aXRlIH07XG5cbi8qKiBUaGUgYXJndW1lbnRzIGZvciBhbiBJdEZ1bmN0aW9uLiAqL1xuZXhwb3J0IHR5cGUgSXRBcmdzPFQ+ID1cbiAgfCBbb3B0aW9uczogSXREZWZpbml0aW9uPFQ+XVxuICB8IFtcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9uczogT21pdDxJdERlZmluaXRpb248VD4sIFwibmFtZVwiPixcbiAgXVxuICB8IFtcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm46ICh0aGlzOiBULCB0OiBEZW5vLlRlc3RDb250ZXh0KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgXVxuICB8IFtmbjogKHRoaXM6IFQsIHQ6IERlbm8uVGVzdENvbnRleHQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+XVxuICB8IFtcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9uczogT21pdDxJdERlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiPixcbiAgICBmbjogKHRoaXM6IFQsIHQ6IERlbm8uVGVzdENvbnRleHQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBdXG4gIHwgW1xuICAgIG9wdGlvbnM6IE9taXQ8SXREZWZpbml0aW9uPFQ+LCBcImZuXCI+LFxuICAgIGZuOiAodGhpczogVCwgdDogRGVuby5UZXN0Q29udGV4dCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIF1cbiAgfCBbXG4gICAgb3B0aW9uczogT21pdDxJdERlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiPixcbiAgICBmbjogKHRoaXM6IFQsIHQ6IERlbm8uVGVzdENvbnRleHQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBdXG4gIHwgW1xuICAgIHN1aXRlOiBUZXN0U3VpdGU8VD4sXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IE9taXQ8SXREZWZpbml0aW9uPFQ+LCBcIm5hbWVcIiB8IFwic3VpdGVcIj4sXG4gIF1cbiAgfCBbXG4gICAgc3VpdGU6IFRlc3RTdWl0ZTxUPixcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm46ICh0aGlzOiBULCB0OiBEZW5vLlRlc3RDb250ZXh0KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgXVxuICB8IFtcbiAgICBzdWl0ZTogVGVzdFN1aXRlPFQ+LFxuICAgIGZuOiAodGhpczogVCwgdDogRGVuby5UZXN0Q29udGV4dCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4gIF1cbiAgfCBbXG4gICAgc3VpdGU6IFRlc3RTdWl0ZTxUPixcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9uczogT21pdDxJdERlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiIHwgXCJzdWl0ZVwiPixcbiAgICBmbjogKHRoaXM6IFQsIHQ6IERlbm8uVGVzdENvbnRleHQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuICBdXG4gIHwgW1xuICAgIHN1aXRlOiBUZXN0U3VpdGU8VD4sXG4gICAgb3B0aW9uczogT21pdDxJdERlZmluaXRpb248VD4sIFwiZm5cIiB8IFwic3VpdGVcIj4sXG4gICAgZm46ICh0aGlzOiBULCB0OiBEZW5vLlRlc3RDb250ZXh0KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgXVxuICB8IFtcbiAgICBzdWl0ZTogVGVzdFN1aXRlPFQ+LFxuICAgIG9wdGlvbnM6IE9taXQ8SXREZWZpbml0aW9uPFQ+LCBcImZuXCIgfCBcIm5hbWVcIiB8IFwic3VpdGVcIj4sXG4gICAgZm46ICh0aGlzOiBULCB0OiBEZW5vLlRlc3RDb250ZXh0KSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbiAgXTtcblxuLyoqIEdlbmVyYXRlcyBhbiBJdERlZmluaXRpb24gZnJvbSBJdEFyZ3MuICovXG5mdW5jdGlvbiBpdERlZmluaXRpb248VD4oLi4uYXJnczogSXRBcmdzPFQ+KTogSXREZWZpbml0aW9uPFQ+IHtcbiAgbGV0IFtcbiAgICBzdWl0ZU9wdGlvbnNPck5hbWVPckZuLFxuICAgIG9wdGlvbnNPck5hbWVPckZuLFxuICAgIG9wdGlvbnNPckZuLFxuICAgIGZuLFxuICBdID0gYXJncztcbiAgbGV0IHN1aXRlOiBUZXN0U3VpdGU8VD4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGxldCBuYW1lOiBzdHJpbmc7XG4gIGxldCBvcHRpb25zOlxuICAgIHwgSXREZWZpbml0aW9uPFQ+XG4gICAgfCBPbWl0PEl0RGVmaW5pdGlvbjxUPiwgXCJmblwiPlxuICAgIHwgT21pdDxJdERlZmluaXRpb248VD4sIFwibmFtZVwiPlxuICAgIHwgT21pdDxJdERlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiPjtcbiAgaWYgKFxuICAgIHR5cGVvZiBzdWl0ZU9wdGlvbnNPck5hbWVPckZuID09PSBcIm9iamVjdFwiICYmXG4gICAgdHlwZW9mIChzdWl0ZU9wdGlvbnNPck5hbWVPckZuIGFzIFRlc3RTdWl0ZTxUPikuc3ltYm9sID09PSBcInN5bWJvbFwiXG4gICkge1xuICAgIHN1aXRlID0gc3VpdGVPcHRpb25zT3JOYW1lT3JGbiBhcyBUZXN0U3VpdGU8VD47XG4gIH0gZWxzZSB7XG4gICAgZm4gPSBvcHRpb25zT3JGbiBhcyB0eXBlb2YgZm47XG4gICAgb3B0aW9uc09yRm4gPSBvcHRpb25zT3JOYW1lT3JGbiBhcyB0eXBlb2Ygb3B0aW9uc09yRm47XG4gICAgb3B0aW9uc09yTmFtZU9yRm4gPSBzdWl0ZU9wdGlvbnNPck5hbWVPckZuIGFzIHR5cGVvZiBvcHRpb25zT3JOYW1lT3JGbjtcbiAgfVxuICBpZiAodHlwZW9mIG9wdGlvbnNPck5hbWVPckZuID09PSBcInN0cmluZ1wiKSB7XG4gICAgbmFtZSA9IG9wdGlvbnNPck5hbWVPckZuO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9uc09yRm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZm4gPSBvcHRpb25zT3JGbjtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckZuITtcbiAgICAgIGlmICghZm4pIGZuID0gKG9wdGlvbnMgYXMgT21pdDxJdERlZmluaXRpb248VD4sIFwibmFtZVwiPikuZm47XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zT3JOYW1lT3JGbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm4gPSBvcHRpb25zT3JOYW1lT3JGbjtcbiAgICBuYW1lID0gZm4ubmFtZTtcbiAgICBvcHRpb25zID0ge307XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnNPck5hbWVPckZuITtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnNPckZuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGZuID0gb3B0aW9uc09yRm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuID0gKG9wdGlvbnMgYXMgSXREZWZpbml0aW9uPFQ+KS5mbjtcbiAgICB9XG4gICAgbmFtZSA9IChvcHRpb25zIGFzIEl0RGVmaW5pdGlvbjxUPikubmFtZSA/PyBmbi5uYW1lO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdWl0ZSxcbiAgICAuLi5vcHRpb25zLFxuICAgIG5hbWUsXG4gICAgZm4sXG4gIH07XG59XG5cbi8qKiBSZWdpc3RlcnMgYW4gaW5kaXZpZHVhbCB0ZXN0IGNhc2UuICovXG5leHBvcnQgaW50ZXJmYWNlIGl0IHtcbiAgPFQ+KC4uLmFyZ3M6IEl0QXJnczxUPik6IHZvaWQ7XG5cbiAgLyoqIFJlZ2lzdGVycyBhbiBpbmRpdmlkdWFsIHRlc3QgY2FzZSB3aXRoIG9ubHkgc2V0IHRvIHRydWUuICovXG4gIG9ubHk8VD4oLi4uYXJnczogSXRBcmdzPFQ+KTogdm9pZDtcblxuICAvKiogUmVnaXN0ZXJzIGFuIGluZGl2aWR1YWwgdGVzdCBjYXNlIHdpdGggaWdub3JlIHNldCB0byB0cnVlLiAqL1xuICBpZ25vcmU8VD4oLi4uYXJnczogSXRBcmdzPFQ+KTogdm9pZDtcbn1cblxuLyoqIFJlZ2lzdGVycyBhbiBpbmRpdmlkdWFsIHRlc3QgY2FzZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpdDxUPiguLi5hcmdzOiBJdEFyZ3M8VD4pOiB2b2lkIHtcbiAgaWYgKFRlc3RTdWl0ZUludGVybmFsLnJ1bm5pbmdDb3VudCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcImNhbm5vdCByZWdpc3RlciBuZXcgdGVzdCBjYXNlcyBhZnRlciBhbHJlYWR5IHJlZ2lzdGVyZWQgdGVzdCBjYXNlcyBzdGFydCBydW5uaW5nXCIsXG4gICAgKTtcbiAgfVxuICBjb25zdCBvcHRpb25zID0gaXREZWZpbml0aW9uKC4uLmFyZ3MpO1xuICBjb25zdCB7IHN1aXRlIH0gPSBvcHRpb25zO1xuICBjb25zdCB0ZXN0U3VpdGUgPSBzdWl0ZVxuICAgID8gVGVzdFN1aXRlSW50ZXJuYWwuc3VpdGVzLmdldChzdWl0ZS5zeW1ib2wpXG4gICAgOiBUZXN0U3VpdGVJbnRlcm5hbC5jdXJyZW50O1xuXG4gIGlmICghVGVzdFN1aXRlSW50ZXJuYWwuc3RhcnRlZCkgVGVzdFN1aXRlSW50ZXJuYWwuc3RhcnRlZCA9IHRydWU7XG4gIGlmICh0ZXN0U3VpdGUpIHtcbiAgICBUZXN0U3VpdGVJbnRlcm5hbC5hZGRTdGVwKHRlc3RTdWl0ZSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGZuLFxuICAgICAgaWdub3JlLFxuICAgICAgb25seSxcbiAgICAgIHBlcm1pc3Npb25zLFxuICAgICAgc2FuaXRpemVFeGl0LFxuICAgICAgc2FuaXRpemVPcHMsXG4gICAgICBzYW5pdGl6ZVJlc291cmNlcyxcbiAgICB9ID0gb3B0aW9ucztcbiAgICBUZXN0U3VpdGVJbnRlcm5hbC5yZWdpc3RlclRlc3Qoe1xuICAgICAgbmFtZSxcbiAgICAgIGlnbm9yZSxcbiAgICAgIG9ubHksXG4gICAgICBwZXJtaXNzaW9ucyxcbiAgICAgIHNhbml0aXplRXhpdCxcbiAgICAgIHNhbml0aXplT3BzLFxuICAgICAgc2FuaXRpemVSZXNvdXJjZXMsXG4gICAgICBhc3luYyBmbih0KSB7XG4gICAgICAgIFRlc3RTdWl0ZUludGVybmFsLnJ1bm5pbmdDb3VudCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZuLmNhbGwoe30gYXMgVCwgdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgVGVzdFN1aXRlSW50ZXJuYWwucnVubmluZ0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cblxuaXQub25seSA9IGZ1bmN0aW9uIGl0T25seTxUPiguLi5hcmdzOiBJdEFyZ3M8VD4pOiB2b2lkIHtcbiAgY29uc3Qgb3B0aW9ucyA9IGl0RGVmaW5pdGlvbiguLi5hcmdzKTtcbiAgcmV0dXJuIGl0KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIG9ubHk6IHRydWUsXG4gIH0pO1xufTtcblxuaXQuaWdub3JlID0gZnVuY3Rpb24gaXRJZ25vcmU8VD4oLi4uYXJnczogSXRBcmdzPFQ+KTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbnMgPSBpdERlZmluaXRpb24oLi4uYXJncyk7XG4gIHJldHVybiBpdCh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBpZ25vcmU6IHRydWUsXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gYWRkSG9vazxUPihcbiAgbmFtZTogSG9va05hbWVzLFxuICBmbjogKHRoaXM6IFQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuKTogdm9pZCB7XG4gIGlmICghVGVzdFN1aXRlSW50ZXJuYWwuY3VycmVudCkge1xuICAgIGlmIChUZXN0U3VpdGVJbnRlcm5hbC5zdGFydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiY2Fubm90IGFkZCBnbG9iYWwgaG9va3MgYWZ0ZXIgYSBnbG9iYWwgdGVzdCBpcyByZWdpc3RlcmVkXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBUZXN0U3VpdGVJbnRlcm5hbC5jdXJyZW50ID0gbmV3IFRlc3RTdWl0ZUludGVybmFsKHtcbiAgICAgIG5hbWU6IFwiZ2xvYmFsXCIsXG4gICAgICBbbmFtZV06IGZuLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIFRlc3RTdWl0ZUludGVybmFsLnNldEhvb2soVGVzdFN1aXRlSW50ZXJuYWwuY3VycmVudCEsIG5hbWUsIGZuKTtcbiAgfVxufVxuXG4vKiogUnVuIHNvbWUgc2hhcmVkIHNldHVwIGJlZm9yZSBhbGwgb2YgdGhlIHRlc3RzIGluIHRoZSBzdWl0ZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVBbGw8VD4oXG4gIGZuOiAodGhpczogVCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4pOiB2b2lkIHtcbiAgYWRkSG9vayhcImJlZm9yZUFsbFwiLCBmbik7XG59XG5cbi8qKiBSdW4gc29tZSBzaGFyZWQgdGVhcmRvd24gYWZ0ZXIgYWxsIG9mIHRoZSB0ZXN0cyBpbiB0aGUgc3VpdGUuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJBbGw8VD4oXG4gIGZuOiAodGhpczogVCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD4sXG4pOiB2b2lkIHtcbiAgYWRkSG9vayhcImFmdGVyQWxsXCIsIGZuKTtcbn1cblxuLyoqIFJ1biBzb21lIHNoYXJlZCBzZXR1cCBiZWZvcmUgZWFjaCB0ZXN0IGluIHRoZSBzdWl0ZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVFYWNoPFQ+KFxuICBmbjogKHRoaXM6IFQpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxuKTogdm9pZCB7XG4gIGFkZEhvb2soXCJiZWZvcmVFYWNoXCIsIGZuKTtcbn1cblxuLyoqIFJ1biBzb21lIHNoYXJlZCB0ZWFyZG93biBhZnRlciBlYWNoIHRlc3QgaW4gdGhlIHN1aXRlLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyRWFjaDxUPihcbiAgZm46ICh0aGlzOiBUKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcbik6IHZvaWQge1xuICBhZGRIb29rKFwiYWZ0ZXJFYWNoXCIsIGZuKTtcbn1cblxuLyoqIFRoZSBhcmd1bWVudHMgZm9yIGEgRGVzY3JpYmVGdW5jdGlvbi4gKi9cbmV4cG9ydCB0eXBlIERlc2NyaWJlQXJnczxUPiA9XG4gIHwgW29wdGlvbnM6IERlc2NyaWJlRGVmaW5pdGlvbjxUPl1cbiAgfCBbbmFtZTogc3RyaW5nXVxuICB8IFtcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9uczogT21pdDxEZXNjcmliZURlZmluaXRpb248VD4sIFwibmFtZVwiPixcbiAgXVxuICB8IFtuYW1lOiBzdHJpbmcsIGZuOiAoKSA9PiB2b2lkXVxuICB8IFtmbjogKCkgPT4gdm9pZF1cbiAgfCBbXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IE9taXQ8RGVzY3JpYmVEZWZpbml0aW9uPFQ+LCBcImZuXCIgfCBcIm5hbWVcIj4sXG4gICAgZm46ICgpID0+IHZvaWQsXG4gIF1cbiAgfCBbXG4gICAgb3B0aW9uczogT21pdDxEZXNjcmliZURlZmluaXRpb248VD4sIFwiZm5cIj4sXG4gICAgZm46ICgpID0+IHZvaWQsXG4gIF1cbiAgfCBbXG4gICAgb3B0aW9uczogT21pdDxEZXNjcmliZURlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiPixcbiAgICBmbjogKCkgPT4gdm9pZCxcbiAgXVxuICB8IFtcbiAgICBzdWl0ZTogVGVzdFN1aXRlPFQ+LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgXVxuICB8IFtcbiAgICBzdWl0ZTogVGVzdFN1aXRlPFQ+LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBPbWl0PERlc2NyaWJlRGVmaW5pdGlvbjxUPiwgXCJuYW1lXCIgfCBcInN1aXRlXCI+LFxuICBdXG4gIHwgW1xuICAgIHN1aXRlOiBUZXN0U3VpdGU8VD4sXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZuOiAoKSA9PiB2b2lkLFxuICBdXG4gIHwgW1xuICAgIHN1aXRlOiBUZXN0U3VpdGU8VD4sXG4gICAgZm46ICgpID0+IHZvaWQsXG4gIF1cbiAgfCBbXG4gICAgc3VpdGU6IFRlc3RTdWl0ZTxUPixcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3B0aW9uczogT21pdDxEZXNjcmliZURlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiIHwgXCJzdWl0ZVwiPixcbiAgICBmbjogKCkgPT4gdm9pZCxcbiAgXVxuICB8IFtcbiAgICBzdWl0ZTogVGVzdFN1aXRlPFQ+LFxuICAgIG9wdGlvbnM6IE9taXQ8RGVzY3JpYmVEZWZpbml0aW9uPFQ+LCBcImZuXCIgfCBcInN1aXRlXCI+LFxuICAgIGZuOiAoKSA9PiB2b2lkLFxuICBdXG4gIHwgW1xuICAgIHN1aXRlOiBUZXN0U3VpdGU8VD4sXG4gICAgb3B0aW9uczogT21pdDxEZXNjcmliZURlZmluaXRpb248VD4sIFwiZm5cIiB8IFwibmFtZVwiIHwgXCJzdWl0ZVwiPixcbiAgICBmbjogKCkgPT4gdm9pZCxcbiAgXTtcblxuLyoqIEdlbmVyYXRlcyBhIERlc2NyaWJlRGVmaW5pdGlvbiBmcm9tIERlc2NyaWJlQXJncy4gKi9cbmZ1bmN0aW9uIGRlc2NyaWJlRGVmaW5pdGlvbjxUPihcbiAgLi4uYXJnczogRGVzY3JpYmVBcmdzPFQ+XG4pOiBEZXNjcmliZURlZmluaXRpb248VD4ge1xuICBsZXQgW1xuICAgIHN1aXRlT3B0aW9uc09yTmFtZU9yRm4sXG4gICAgb3B0aW9uc09yTmFtZU9yRm4sXG4gICAgb3B0aW9uc09yRm4sXG4gICAgZm4sXG4gIF0gPSBhcmdzO1xuICBsZXQgc3VpdGU6IFRlc3RTdWl0ZTxUPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgbGV0IG5hbWU6IHN0cmluZztcbiAgbGV0IG9wdGlvbnM6XG4gICAgfCBEZXNjcmliZURlZmluaXRpb248VD5cbiAgICB8IE9taXQ8RGVzY3JpYmVEZWZpbml0aW9uPFQ+LCBcImZuXCI+XG4gICAgfCBPbWl0PERlc2NyaWJlRGVmaW5pdGlvbjxUPiwgXCJuYW1lXCI+XG4gICAgfCBPbWl0PERlc2NyaWJlRGVmaW5pdGlvbjxUPiwgXCJmblwiIHwgXCJuYW1lXCI+O1xuICBpZiAoXG4gICAgdHlwZW9mIHN1aXRlT3B0aW9uc09yTmFtZU9yRm4gPT09IFwib2JqZWN0XCIgJiZcbiAgICB0eXBlb2YgKHN1aXRlT3B0aW9uc09yTmFtZU9yRm4gYXMgVGVzdFN1aXRlPFQ+KS5zeW1ib2wgPT09IFwic3ltYm9sXCJcbiAgKSB7XG4gICAgc3VpdGUgPSBzdWl0ZU9wdGlvbnNPck5hbWVPckZuIGFzIFRlc3RTdWl0ZTxUPjtcbiAgfSBlbHNlIHtcbiAgICBmbiA9IG9wdGlvbnNPckZuIGFzIHR5cGVvZiBmbjtcbiAgICBvcHRpb25zT3JGbiA9IG9wdGlvbnNPck5hbWVPckZuIGFzIHR5cGVvZiBvcHRpb25zT3JGbjtcbiAgICBvcHRpb25zT3JOYW1lT3JGbiA9IHN1aXRlT3B0aW9uc09yTmFtZU9yRm4gYXMgdHlwZW9mIG9wdGlvbnNPck5hbWVPckZuO1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0aW9uc09yTmFtZU9yRm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICBuYW1lID0gb3B0aW9uc09yTmFtZU9yRm47XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zT3JGbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBmbiA9IG9wdGlvbnNPckZuO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9uc09yRm4gPz8ge307XG4gICAgICBpZiAoIWZuKSBmbiA9IChvcHRpb25zIGFzIE9taXQ8RGVzY3JpYmVEZWZpbml0aW9uPFQ+LCBcIm5hbWVcIj4pLmZuO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9uc09yTmFtZU9yRm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZuID0gb3B0aW9uc09yTmFtZU9yRm47XG4gICAgbmFtZSA9IGZuLm5hbWU7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zT3JOYW1lT3JGbiA/PyB7fTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnNPckZuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGZuID0gb3B0aW9uc09yRm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuID0gKG9wdGlvbnMgYXMgRGVzY3JpYmVEZWZpbml0aW9uPFQ+KS5mbjtcbiAgICB9XG4gICAgbmFtZSA9IChvcHRpb25zIGFzIERlc2NyaWJlRGVmaW5pdGlvbjxUPikubmFtZSA/PyBmbj8ubmFtZSA/PyBcIlwiO1xuICB9XG5cbiAgaWYgKCFzdWl0ZSkge1xuICAgIHN1aXRlID0gb3B0aW9ucy5zdWl0ZTtcbiAgfVxuICBpZiAoIXN1aXRlICYmIFRlc3RTdWl0ZUludGVybmFsLmN1cnJlbnQpIHtcbiAgICBjb25zdCB7IHN5bWJvbCB9ID0gVGVzdFN1aXRlSW50ZXJuYWwuY3VycmVudDtcbiAgICBzdWl0ZSA9IHsgc3ltYm9sIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgc3VpdGUsXG4gICAgbmFtZSxcbiAgICBmbixcbiAgfTtcbn1cblxuLyoqIFJlZ2lzdGVycyBhIHRlc3Qgc3VpdGUuICovXG5leHBvcnQgaW50ZXJmYWNlIGRlc2NyaWJlIHtcbiAgPFQ+KC4uLmFyZ3M6IERlc2NyaWJlQXJnczxUPik6IFRlc3RTdWl0ZTxUPjtcblxuICAvKiogUmVnaXN0ZXJzIGEgdGVzdCBzdWl0ZSB3aXRoIG9ubHkgc2V0IHRvIHRydWUuICovXG4gIG9ubHk8VD4oLi4uYXJnczogRGVzY3JpYmVBcmdzPFQ+KTogVGVzdFN1aXRlPFQ+O1xuXG4gIC8qKiBSZWdpc3RlcnMgYSB0ZXN0IHN1aXRlIHdpdGggaWdub3JlIHNldCB0byB0cnVlLiAqL1xuICBpZ25vcmU8VD4oLi4uYXJnczogRGVzY3JpYmVBcmdzPFQ+KTogVGVzdFN1aXRlPFQ+O1xufVxuXG4vKiogUmVnaXN0ZXJzIGEgdGVzdCBzdWl0ZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNjcmliZTxUPihcbiAgLi4uYXJnczogRGVzY3JpYmVBcmdzPFQ+XG4pOiBUZXN0U3VpdGU8VD4ge1xuICBpZiAoVGVzdFN1aXRlSW50ZXJuYWwucnVubmluZ0NvdW50ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiY2Fubm90IHJlZ2lzdGVyIG5ldyB0ZXN0IHN1aXRlcyBhZnRlciBhbHJlYWR5IHJlZ2lzdGVyZWQgdGVzdCBjYXNlcyBzdGFydCBydW5uaW5nXCIsXG4gICAgKTtcbiAgfVxuICBjb25zdCBvcHRpb25zID0gZGVzY3JpYmVEZWZpbml0aW9uKC4uLmFyZ3MpO1xuICBpZiAoIVRlc3RTdWl0ZUludGVybmFsLnN0YXJ0ZWQpIFRlc3RTdWl0ZUludGVybmFsLnN0YXJ0ZWQgPSB0cnVlO1xuICBjb25zdCB7IHN5bWJvbCB9ID0gbmV3IFRlc3RTdWl0ZUludGVybmFsKG9wdGlvbnMpO1xuICByZXR1cm4geyBzeW1ib2wgfTtcbn1cblxuZGVzY3JpYmUub25seSA9IGZ1bmN0aW9uIGRlc2NyaWJlT25seTxUPihcbiAgLi4uYXJnczogRGVzY3JpYmVBcmdzPFQ+XG4pOiBUZXN0U3VpdGU8VD4ge1xuICBjb25zdCBvcHRpb25zID0gZGVzY3JpYmVEZWZpbml0aW9uKC4uLmFyZ3MpO1xuICByZXR1cm4gZGVzY3JpYmUoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgb25seTogdHJ1ZSxcbiAgfSk7XG59O1xuXG5kZXNjcmliZS5pZ25vcmUgPSBmdW5jdGlvbiBkZXNjcmliZUlnbm9yZTxUPihcbiAgLi4uYXJnczogRGVzY3JpYmVBcmdzPFQ+XG4pOiBUZXN0U3VpdGU8VD4ge1xuICBjb25zdCBvcHRpb25zID0gZGVzY3JpYmVEZWZpbml0aW9uKC4uLmFyZ3MpO1xuICByZXR1cm4gZGVzY3JpYmUoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgaWdub3JlOiB0cnVlLFxuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEVBQTBFO0FBQzFFLFNBS0UsaUJBQWlCLFFBQ1osbUJBQW1CO0FBMkQxQiwyQ0FBMkMsR0FDM0MsU0FBUyxhQUFnQixHQUFHLElBQWU7RUFDekMsSUFBSSxDQUNGLHdCQUNBLG1CQUNBLGFBQ0EsR0FDRCxHQUFHO0VBQ0osSUFBSSxRQUFrQztFQUN0QyxJQUFJO0VBQ0osSUFBSTtFQUtKLElBQ0UsT0FBTywyQkFBMkIsWUFDbEMsT0FBTyxBQUFDLHVCQUF3QyxNQUFNLEtBQUssVUFDM0Q7SUFDQSxRQUFRO0VBQ1YsT0FBTztJQUNMLEtBQUs7SUFDTCxjQUFjO0lBQ2Qsb0JBQW9CO0VBQ3RCO0VBQ0EsSUFBSSxPQUFPLHNCQUFzQixVQUFVO0lBQ3pDLE9BQU87SUFDUCxJQUFJLE9BQU8sZ0JBQWdCLFlBQVk7TUFDckMsS0FBSztNQUNMLFVBQVUsQ0FBQztJQUNiLE9BQU87TUFDTCxVQUFVO01BQ1YsSUFBSSxDQUFDLElBQUksS0FBSyxBQUFDLFFBQTBDLEVBQUU7SUFDN0Q7RUFDRixPQUFPLElBQUksT0FBTyxzQkFBc0IsWUFBWTtJQUNsRCxLQUFLO0lBQ0wsT0FBTyxHQUFHLElBQUk7SUFDZCxVQUFVLENBQUM7RUFDYixPQUFPO0lBQ0wsVUFBVTtJQUNWLElBQUksT0FBTyxnQkFBZ0IsWUFBWTtNQUNyQyxLQUFLO0lBQ1AsT0FBTztNQUNMLEtBQUssQUFBQyxRQUE0QixFQUFFO0lBQ3RDO0lBQ0EsT0FBTyxBQUFDLFFBQTRCLElBQUksSUFBSSxHQUFHLElBQUk7RUFDckQ7RUFFQSxPQUFPO0lBQ0w7SUFD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
// denoCacheMetadata=8297172381504254023,15551138833463691886