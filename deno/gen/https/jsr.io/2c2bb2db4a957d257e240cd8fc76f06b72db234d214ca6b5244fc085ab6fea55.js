import { property } from '../object/property.ts';
import { matches } from '../predicate/matches.ts';
import { matchesProperty } from '../predicate/matchesProperty.ts';
/**
 * Finds the index of the first item in an array that has a specific property, where the property name is provided as a PropertyKey.
 *
 * @template T
 * @param {ArrayLike<T> | null | undefined} arr - The array to search through.
 * @param {((item: T, index: number, arr: any) => unknown) | Partial<T> | [keyof T, unknown] | PropertyKey} doesMatch - The criteria to match against the items in the array. This can be a function, a partial object, a key-value pair, or a property name.
 * @param {PropertyKey} propertyToCheck - The property name to check for in the items of the array.
 * @param {number} [fromIndex=0] - The index to start the search from, defaults to 0.
 * @returns {number} - The index of the first item that has the specified property, or `undefined` if no match is found.
 *
 * @example
 * // Using a property name
 * const items = [{ id: 1, name: 'Alice' }, { id: 2, name: 'Bob' }];
 * const result = findIndex(items, 'name');
 * console.log(result); // 0
 */ export function findIndex(arr, doesMatch, fromIndex = 0) {
  if (!arr) {
    return -1;
  }
  if (fromIndex < 0) {
    fromIndex = Math.max(arr.length + fromIndex, 0);
  }
  const subArray = Array.from(arr).slice(fromIndex);
  let index = -1;
  switch(typeof doesMatch){
    case 'function':
      {
        index = subArray.findIndex(doesMatch);
        break;
      }
    case 'object':
      {
        if (Array.isArray(doesMatch) && doesMatch.length === 2) {
          const key = doesMatch[0];
          const value = doesMatch[1];
          index = subArray.findIndex(matchesProperty(key, value));
        } else {
          index = subArray.findIndex(matches(doesMatch));
        }
        break;
      }
    case 'number':
    case 'symbol':
    case 'string':
      {
        index = subArray.findIndex(property(doesMatch));
      }
  }
  return index === -1 ? -1 : index + fromIndex;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvYXJyYXkvZmluZEluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnLi4vb2JqZWN0L3Byb3BlcnR5LnRzJztcbmltcG9ydCB7IG1hdGNoZXMgfSBmcm9tICcuLi9wcmVkaWNhdGUvbWF0Y2hlcy50cyc7XG5pbXBvcnQgeyBtYXRjaGVzUHJvcGVydHkgfSBmcm9tICcuLi9wcmVkaWNhdGUvbWF0Y2hlc1Byb3BlcnR5LnRzJztcblxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gaW4gYW4gYXJyYXkgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHsoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgYXJyOiBUW10pID0+IHVua25vd259IGRvZXNNYXRjaCAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBpdGVtLCBpdHMgaW5kZXgsIGFuZCB0aGUgYXJyYXksIGFuZCByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIGlmIHRoZSBpdGVtIG1hdGNoZXMgdGhlIGNyaXRlcmlhLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gLSBUaGUgaW5kZXggdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLCBkZWZhdWx0cyB0byAwLlxuICogQHJldHVybnMge251bWJlcn0gLSBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUsIG9yIGB1bmRlZmluZWRgIGlmIG5vIG1hdGNoIGlzIGZvdW5kLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBVc2luZyBhIHByZWRpY2F0ZSBmdW5jdGlvblxuICogY29uc3QgaXRlbXMgPSBbMSwgMiwgMywgNCwgNV07XG4gKiBjb25zdCByZXN1bHQgPSBmaW5kKGl0ZW1zLCAoaXRlbSkgPT4gaXRlbSA+IDMpO1xuICogY29uc29sZS5sb2cocmVzdWx0KTsgLy8gNFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4PFQ+KFxuICBhcnI6IEFycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRvZXNNYXRjaDogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIGFycjogcmVhZG9ubHkgVFtdKSA9PiB1bmtub3duLFxuICBmcm9tSW5kZXg/OiBudW1iZXJcbik6IG51bWJlcjtcblxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gaW4gYW4gYXJyYXkgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBwYXJ0aWFsIG9iamVjdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheUxpa2U8VD4gfCBudWxsIHwgdW5kZWZpbmVkfSBhcnIgLSBUaGUgYXJyYXkgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0ge1BhcnRpYWw8VD59IGRvZXNNYXRjaCAtIEEgcGFydGlhbCBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIHByb3BlcnRpZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSAtIFRoZSBpbmRleCB0byBzdGFydCB0aGUgc2VhcmNoIGZyb20sIGRlZmF1bHRzIHRvIDAuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbSB0aGF0IG1hdGNoZXMgdGhlIHBhcnRpYWwgb2JqZWN0LCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVXNpbmcgYSBwYXJ0aWFsIG9iamVjdFxuICogY29uc3QgaXRlbXMgPSBbeyBpZDogMSwgbmFtZTogJ0FsaWNlJyB9LCB7IGlkOiAyLCBuYW1lOiAnQm9iJyB9XTtcbiAqIGNvbnN0IHJlc3VsdCA9IGZpbmRJbmRleChpdGVtcywgeyBuYW1lOiAnQm9iJyB9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxUPihhcnI6IEFycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsIGRvZXNNYXRjaDogUGFydGlhbDxUPiwgZnJvbUluZGV4PzogbnVtYmVyKTogbnVtYmVyO1xuXG4vKipcbiAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbSBpbiBhbiBhcnJheSB0aGF0IG1hdGNoZXMgYSBwcm9wZXJ0eSB3aXRoIGEgc3BlY2lmaWMgdmFsdWUuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHtba2V5b2YgVCwgdW5rbm93bl19IGRvZXNNYXRjaFByb3BlcnR5IC0gQW4gYXJyYXkgd2hlcmUgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdGhlIHByb3BlcnR5IGtleSBhbmQgdGhlIHNlY29uZCBlbGVtZW50IGlzIHRoZSB2YWx1ZSB0byBtYXRjaC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIC0gVGhlIGluZGV4IHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbSwgZGVmYXVsdHMgdG8gMC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgdmFsdWUsIG9yIGB1bmRlZmluZWRgIGlmIG5vIG1hdGNoIGlzIGZvdW5kLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBVc2luZyBhIHByb3BlcnR5LXZhbHVlIHBhaXJcbiAqIGNvbnN0IGl0ZW1zID0gW3sgaWQ6IDEsIG5hbWU6ICdBbGljZScgfSwgeyBpZDogMiwgbmFtZTogJ0JvYicgfV07XG4gKiBjb25zdCByZXN1bHQgPSBmaW5kSW5kZXgoaXRlbXMsIFsnbmFtZScsICdBbGljZSddKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleDxUPihcbiAgYXJyOiBBcnJheUxpa2U8VD4gfCBudWxsIHwgdW5kZWZpbmVkLFxuICBkb2VzTWF0Y2hQcm9wZXJ0eTogW2tleW9mIFQsIHVua25vd25dLFxuICBmcm9tSW5kZXg/OiBudW1iZXJcbik6IG51bWJlcjtcblxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gaW4gYW4gYXJyYXkgdGhhdCBoYXMgYSBzcGVjaWZpYyBwcm9wZXJ0eSwgd2hlcmUgdGhlIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgYXMgYSBQcm9wZXJ0eUtleS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheUxpa2U8VD4gfCBudWxsIHwgdW5kZWZpbmVkfSBhcnIgLSBUaGUgYXJyYXkgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBwcm9wZXJ0eVRvQ2hlY2sgLSBUaGUgcHJvcGVydHkgbmFtZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIC0gVGhlIGluZGV4IHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbSwgZGVmYXVsdHMgdG8gMC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHksIG9yIGB1bmRlZmluZWRgIGlmIG5vIG1hdGNoIGlzIGZvdW5kLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBVc2luZyBhIHByb3BlcnR5IG5hbWVcbiAqIGNvbnN0IGl0ZW1zID0gW3sgaWQ6IDEsIG5hbWU6ICdBbGljZScgfSwgeyBpZDogMiwgbmFtZTogJ0JvYicgfV07XG4gKiBjb25zdCByZXN1bHQgPSBmaW5kSW5kZXgoaXRlbXMsICduYW1lJyk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5kZXg8VD4oXG4gIGFycjogQXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgcHJvcGVydHlUb0NoZWNrOiBQcm9wZXJ0eUtleSxcbiAgZnJvbUluZGV4PzogbnVtYmVyXG4pOiBudW1iZXI7XG5cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIGluIGFuIGFycmF5IHRoYXQgaGFzIGEgc3BlY2lmaWMgcHJvcGVydHksIHdoZXJlIHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGFzIGEgUHJvcGVydHlLZXkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHsoKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIGFycjogYW55KSA9PiB1bmtub3duKSB8IFBhcnRpYWw8VD4gfCBba2V5b2YgVCwgdW5rbm93bl0gfCBQcm9wZXJ0eUtleX0gZG9lc01hdGNoIC0gVGhlIGNyaXRlcmlhIHRvIG1hdGNoIGFnYWluc3QgdGhlIGl0ZW1zIGluIHRoZSBhcnJheS4gVGhpcyBjYW4gYmUgYSBmdW5jdGlvbiwgYSBwYXJ0aWFsIG9iamVjdCwgYSBrZXktdmFsdWUgcGFpciwgb3IgYSBwcm9wZXJ0eSBuYW1lLlxuICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHlUb0NoZWNrIC0gVGhlIHByb3BlcnR5IG5hbWUgdG8gY2hlY2sgZm9yIGluIHRoZSBpdGVtcyBvZiB0aGUgYXJyYXkuXG4gKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSAtIFRoZSBpbmRleCB0byBzdGFydCB0aGUgc2VhcmNoIGZyb20sIGRlZmF1bHRzIHRvIDAuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbSB0aGF0IGhhcyB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVXNpbmcgYSBwcm9wZXJ0eSBuYW1lXG4gKiBjb25zdCBpdGVtcyA9IFt7IGlkOiAxLCBuYW1lOiAnQWxpY2UnIH0sIHsgaWQ6IDIsIG5hbWU6ICdCb2InIH1dO1xuICogY29uc3QgcmVzdWx0ID0gZmluZEluZGV4KGl0ZW1zLCAnbmFtZScpO1xuICogY29uc29sZS5sb2cocmVzdWx0KTsgLy8gMFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEluZGV4PFQ+KFxuICBhcnI6IEFycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRvZXNNYXRjaDogKChpdGVtOiBULCBpbmRleDogbnVtYmVyLCBhcnI6IGFueSkgPT4gdW5rbm93bikgfCBQYXJ0aWFsPFQ+IHwgW2tleW9mIFQsIHVua25vd25dIHwgUHJvcGVydHlLZXksXG4gIGZyb21JbmRleCA9IDBcbik6IG51bWJlciB7XG4gIGlmICghYXJyKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgZnJvbUluZGV4ID0gTWF0aC5tYXgoYXJyLmxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gIH1cbiAgY29uc3Qgc3ViQXJyYXkgPSBBcnJheS5mcm9tKGFycikuc2xpY2UoZnJvbUluZGV4KTtcbiAgbGV0IGluZGV4ID0gLTE7XG4gIHN3aXRjaCAodHlwZW9mIGRvZXNNYXRjaCkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzoge1xuICAgICAgaW5kZXggPSBzdWJBcnJheS5maW5kSW5kZXgoZG9lc01hdGNoKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkb2VzTWF0Y2gpICYmIGRvZXNNYXRjaC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZG9lc01hdGNoWzBdO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRvZXNNYXRjaFsxXTtcblxuICAgICAgICBpbmRleCA9IHN1YkFycmF5LmZpbmRJbmRleChtYXRjaGVzUHJvcGVydHkoa2V5LCB2YWx1ZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBzdWJBcnJheS5maW5kSW5kZXgobWF0Y2hlcyhkb2VzTWF0Y2gpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgaW5kZXggPSBzdWJBcnJheS5maW5kSW5kZXgocHJvcGVydHkoZG9lc01hdGNoKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmRleCA9PT0gLTEgPyAtMSA6IGluZGV4ICsgZnJvbUluZGV4O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsUUFBUSxRQUFRLHdCQUF3QjtBQUNqRCxTQUFTLE9BQU8sUUFBUSwwQkFBMEI7QUFDbEQsU0FBUyxlQUFlLFFBQVEsa0NBQWtDO0FBa0ZsRTs7Ozs7Ozs7Ozs7Ozs7O0NBZUMsR0FDRCxPQUFPLFNBQVMsVUFDZCxHQUFvQyxFQUNwQyxTQUEwRyxFQUMxRyxZQUFZLENBQUM7RUFFYixJQUFJLENBQUMsS0FBSztJQUNSLE9BQU8sQ0FBQztFQUNWO0VBQ0EsSUFBSSxZQUFZLEdBQUc7SUFDakIsWUFBWSxLQUFLLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxXQUFXO0VBQy9DO0VBQ0EsTUFBTSxXQUFXLE1BQU0sSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDO0VBQ3ZDLElBQUksUUFBUSxDQUFDO0VBQ2IsT0FBUSxPQUFPO0lBQ2IsS0FBSztNQUFZO1FBQ2YsUUFBUSxTQUFTLFNBQVMsQ0FBQztRQUMzQjtNQUNGO0lBQ0EsS0FBSztNQUFVO1FBQ2IsSUFBSSxNQUFNLE9BQU8sQ0FBQyxjQUFjLFVBQVUsTUFBTSxLQUFLLEdBQUc7VUFDdEQsTUFBTSxNQUFNLFNBQVMsQ0FBQyxFQUFFO1VBQ3hCLE1BQU0sUUFBUSxTQUFTLENBQUMsRUFBRTtVQUUxQixRQUFRLFNBQVMsU0FBUyxDQUFDLGdCQUFnQixLQUFLO1FBQ2xELE9BQU87VUFDTCxRQUFRLFNBQVMsU0FBUyxDQUFDLFFBQVE7UUFDckM7UUFDQTtNQUNGO0lBQ0EsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO01BQVU7UUFDYixRQUFRLFNBQVMsU0FBUyxDQUFDLFNBQVM7TUFDdEM7RUFDRjtFQUNBLE9BQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVE7QUFDckMifQ==
// denoCacheMetadata=15320221012305180117,1709660409301109040