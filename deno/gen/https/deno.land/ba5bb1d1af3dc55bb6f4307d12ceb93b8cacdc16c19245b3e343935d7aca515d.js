const TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int
const TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int
function utf8Write(view, offset, str) {
  let c = 0;
  for(let i = 0; i < str.length; i++){
    c = str.charCodeAt(i);
    if (c < 0x80) {
      view.setUint8(offset++, c);
    } else if (c < 0x800) {
      view.setUint8(offset++, 0xc0 | c >> 6);
      view.setUint8(offset++, 0x80 | c & 0x3f);
    } else if (c < 0xd800 || c >= 0xe000) {
      view.setUint8(offset++, 0xe0 | c >> 12);
      view.setUint8(offset++, 0x80 | c >> 6 & 0x3f);
      view.setUint8(offset++, 0x80 | c & 0x3f);
    } else {
      i++;
      c = 0x10000 + ((c & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);
      view.setUint8(offset++, 0xf0 | c >> 18);
      view.setUint8(offset++, 0x80 | c >> 12 & 0x3f);
      view.setUint8(offset++, 0x80 | c >> 6 & 0x3f);
      view.setUint8(offset++, 0x80 | c & 0x3f);
    }
  }
}
function utf8Length(str) {
  let c = 0, length = 0;
  for(let i = 0; i < str.length; i++){
    c = str.charCodeAt(i);
    if (c < 0x80) {
      length += 1;
    } else if (c < 0x800) {
      length += 2;
    } else if (c < 0xd800 || c >= 0xe000) {
      length += 3;
    } else {
      i++;
      length += 4;
    }
  }
  return length;
}
function _encodeObject(bytes, defers, value) {
  if (value.toJSON === "function") {
    return _encode(bytes, defers, value.toJSON());
  }
  const keys = [];
  let key;
  const allKeys = Object.keys(value);
  for(let i = 0, l = allKeys.length; i < l; i++){
    key = allKeys[i];
    if (value[key] !== undefined && typeof value[key] !== "function") {
      keys.push(key);
    }
  }
  const length = keys.length;
  let size = 0;
  // fixmap
  if (length < 0x10) {
    bytes.push(length | 0x80);
    size = 1;
  } else if (length < 0x10000) {
    bytes.push(0xde, length >> 8, length);
    size = 3;
  } else if (length < 0x100000000) {
    bytes.push(0xdf, length >> 24, length >> 16, length >> 8, length);
    size = 5;
  } else {
    throw new Error("Object too large");
  }
  for(let i = 0; i < length; i++){
    key = keys[i];
    size += _encode(bytes, defers, key);
    size += _encode(bytes, defers, value[key]);
  }
  return size;
}
function _encode(bytes, defers, value) {
  const type = typeof value;
  let i = 0, hi = 0, lo = 0, length = 0, size = 0;
  if (type === "string") {
    length = utf8Length(value);
    // fixstr
    if (length < 0x20) {
      bytes.push(length | 0xa0);
      size = 1;
    } else if (length < 0x100) {
      bytes.push(0xd9, length);
      size = 2;
    } else if (length < 0x10000) {
      bytes.push(0xda, length >> 8, length);
      size = 3;
    } else if (length < 0x100000000) {
      bytes.push(0xdb, length >> 24, length >> 16, length >> 8, length);
      size = 5;
    } else {
      throw new Error("String too long");
    }
    defers.push({
      _str: value,
      _length: length,
      _offset: bytes.length
    });
    return size + length;
  }
  if (type === "number") {
    // TODO: encode to float 32?
    // float 64
    if (Math.floor(value) !== value || !isFinite(value)) {
      bytes.push(0xcb);
      defers.push({
        _float: value,
        _length: 8,
        _offset: bytes.length
      });
      return 9;
    }
    if (value >= 0) {
      // positive fixnum
      if (value < 0x80) {
        bytes.push(value);
        return 1;
      }
      // uint 8
      if (value < 0x100) {
        bytes.push(0xcc, value);
        return 2;
      }
      // uint 16
      if (value < 0x10000) {
        bytes.push(0xcd, value >> 8, value);
        return 3;
      }
      // uint 32
      if (value < 0x100000000) {
        bytes.push(0xce, value >> 24, value >> 16, value >> 8, value);
        return 5;
      }
      // uint 64
      hi = value / Math.pow(2, 32) >> 0;
      lo = value >>> 0;
      bytes.push(0xcf, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);
      return 9;
    } else {
      // negative fixnum
      if (value >= -0x20) {
        bytes.push(value);
        return 1;
      }
      // int 8
      if (value >= -0x80) {
        bytes.push(0xd0, value);
        return 2;
      }
      // int 16
      if (value >= -0x8000) {
        bytes.push(0xd1, value >> 8, value);
        return 3;
      }
      // int 32
      if (value >= -0x80000000) {
        bytes.push(0xd2, value >> 24, value >> 16, value >> 8, value);
        return 5;
      }
      // int 64
      hi = Math.floor(value / Math.pow(2, 32));
      lo = value >>> 0;
      bytes.push(0xd3, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);
      return 9;
    }
  }
  if (type === "object") {
    // nil
    if (value === null) {
      bytes.push(0xc0);
      return 1;
    }
    if (Array.isArray(value)) {
      length = value.length;
      // fixarray
      if (length < 0x10) {
        bytes.push(length | 0x90);
        size = 1;
      } else if (length < 0x10000) {
        bytes.push(0xdc, length >> 8, length);
        size = 3;
      } else if (length < 0x100000000) {
        bytes.push(0xdd, length >> 24, length >> 16, length >> 8, length);
        size = 5;
      } else {
        throw new Error("Array too large");
      }
      for(i = 0; i < length; i++){
        size += _encode(bytes, defers, value[i]);
      }
      return size;
    }
    if (value instanceof Date) {
      const ms = value.getTime();
      const s = Math.floor(ms / 1e3);
      const ns = (ms - s * 1e3) * 1e6;
      if (s >= 0 && ns >= 0 && s <= TIMESTAMP64_MAX_SEC) {
        if (ns === 0 && s <= TIMESTAMP32_MAX_SEC) {
          // timestamp 32
          bytes.push(0xd6, 0xff, s >> 24, s >> 16, s >> 8, s);
          return 6;
        } else {
          // timestamp 64
          hi = s / 0x100000000;
          lo = s & 0xffffffff;
          bytes.push(0xd7, 0xff, ns >> 22, ns >> 14, ns >> 6, hi, lo >> 24, lo >> 16, lo >> 8, lo);
          return 10;
        }
      } else {
        // timestamp 96
        hi = Math.floor(s / 0x100000000);
        lo = s >>> 0;
        bytes.push(0xc7, 0x0c, 0xff, ns >> 24, ns >> 16, ns >> 8, ns, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);
        return 15;
      }
    }
    if (value instanceof ArrayBuffer || ArrayBuffer.isView(value)) {
      length = value.byteLength;
      // bin 8
      if (length < 0x100) {
        bytes.push(0xc4, length);
        size = 2;
      } else if (length < 0x10000) {
        bytes.push(0xc5, length >> 8, length);
        size = 3;
      } else if (length < 0x100000000) {
        bytes.push(0xc6, length >> 24, length >> 16, length >> 8, length);
        size = 5;
      } else {
        throw new Error("Buffer too large");
      }
      defers.push({
        _bin: value instanceof ArrayBuffer ? value : value.buffer,
        _length: length,
        _offset: bytes.length
      });
      return size + length;
    }
    return _encodeObject(bytes, defers, value);
  }
  // false/true
  if (type === "boolean") {
    bytes.push(value ? 0xc3 : 0xc2);
    return 1;
  }
  if (type === "undefined") {
    bytes.push(0xc0);
    return 1;
  }
  // custom types like BigInt (typeof value === 'bigint')
  // @ts-ignore FIXME
  if (typeof value.toJSON === "function") {
    // @ts-ignore FIXME
    return _encode(bytes, defers, value.toJSON());
  }
  throw new Error("Could not encode");
}
export function encode(value) {
  const bytes = [];
  const defers = [];
  const size = _encode(bytes, defers, value);
  const buf = new ArrayBuffer(size);
  const view = new DataView(buf);
  let deferIndex = 0;
  let deferWritten = 0;
  let nextOffset = -1;
  if (defers.length > 0) {
    nextOffset = defers[0]._offset;
  }
  let defer, deferLength = 0, offset = 0;
  for(let i = 0; i < bytes.length; i++){
    view.setUint8(deferWritten + i, bytes[i]);
    if (i + 1 !== nextOffset) continue;
    defer = defers[deferIndex];
    deferLength = defer._length;
    offset = deferWritten + nextOffset;
    if (defer._bin) {
      const bin = new Uint8Array(defer._bin);
      for(let j = 0; j < deferLength; j++){
        view.setUint8(offset + j, bin[j]);
      }
    } else if (defer._str) {
      utf8Write(view, offset, defer._str);
    } else if (defer._float !== undefined) {
      view.setFloat64(offset, defer._float);
    }
    deferIndex++;
    deferWritten += deferLength;
    if (defers[deferIndex]) {
      nextOffset = defers[deferIndex]._offset;
    }
  }
  return buf;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvc29ja2V0X2lvQDAuMi4xL3BhY2thZ2VzL21zZ3BhY2svbGliL2VuY29kZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUSU1FU1RBTVAzMl9NQVhfU0VDID0gMHgxMDAwMDAwMDAgLSAxOyAvLyAzMi1iaXQgdW5zaWduZWQgaW50XG5jb25zdCBUSU1FU1RBTVA2NF9NQVhfU0VDID0gMHg0MDAwMDAwMDAgLSAxOyAvLyAzNC1iaXQgdW5zaWduZWQgaW50XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSh2aWV3OiBEYXRhVmlldywgb2Zmc2V0OiBudW1iZXIsIHN0cjogc3RyaW5nKSB7XG4gIGxldCBjID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCBjKTtcbiAgICB9IGVsc2UgaWYgKGMgPCAweDgwMCkge1xuICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQrKywgMHhjMCB8IChjID4+IDYpKTtcbiAgICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIDB4ODAgfCAoYyAmIDB4M2YpKTtcbiAgICB9IGVsc2UgaWYgKGMgPCAweGQ4MDAgfHwgYyA+PSAweGUwMDApIHtcbiAgICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIDB4ZTAgfCAoYyA+PiAxMikpO1xuICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQrKywgMHg4MCB8IChjID4+IDYpICYgMHgzZik7XG4gICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCAweDgwIHwgKGMgJiAweDNmKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGkrKztcbiAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M2ZmKSA8PCAxMCkgfCAoc3RyLmNoYXJDb2RlQXQoaSkgJiAweDNmZikpO1xuICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQrKywgMHhmMCB8IChjID4+IDE4KSk7XG4gICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCAweDgwIHwgKGMgPj4gMTIpICYgMHgzZik7XG4gICAgICB2aWV3LnNldFVpbnQ4KG9mZnNldCsrLCAweDgwIHwgKGMgPj4gNikgJiAweDNmKTtcbiAgICAgIHZpZXcuc2V0VWludDgob2Zmc2V0KyssIDB4ODAgfCAoYyAmIDB4M2YpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOExlbmd0aChzdHI6IHN0cmluZykge1xuICBsZXQgYyA9IDAsIGxlbmd0aCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgbGVuZ3RoICs9IDE7XG4gICAgfSBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgIGxlbmd0aCArPSAyO1xuICAgIH0gZWxzZSBpZiAoYyA8IDB4ZDgwMCB8fCBjID49IDB4ZTAwMCkge1xuICAgICAgbGVuZ3RoICs9IDM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGkrKztcbiAgICAgIGxlbmd0aCArPSA0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGVuZ3RoO1xufVxuXG50eXBlIERlZmVycmVkRWxlbWVudCA9IHtcbiAgX3N0cj86IHN0cmluZztcbiAgX2Zsb2F0PzogbnVtYmVyO1xuICBfYmluPzogQXJyYXlCdWZmZXI7XG4gIF9sZW5ndGg6IG51bWJlcjtcbiAgX29mZnNldDogbnVtYmVyO1xufTtcblxuZnVuY3Rpb24gX2VuY29kZU9iamVjdChcbiAgYnl0ZXM6IG51bWJlcltdLFxuICBkZWZlcnM6IERlZmVycmVkRWxlbWVudFtdLFxuICB2YWx1ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBudW1iZXIge1xuICBpZiAodmFsdWUudG9KU09OID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gX2VuY29kZShieXRlcywgZGVmZXJzLCAodmFsdWUudG9KU09OIGFzIHVua25vd24gYXMgKCkgPT4gdW5rbm93bikoKSk7XG4gIH1cblxuICBjb25zdCBrZXlzID0gW107XG4gIGxldCBrZXk6IHN0cmluZztcblxuICBjb25zdCBhbGxLZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAga2V5ID0gYWxsS2V5c1tpXTtcbiAgICBpZiAodmFsdWVba2V5XSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZVtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICBjb25zdCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgbGV0IHNpemUgPSAwO1xuXG4gIC8vIGZpeG1hcFxuICBpZiAobGVuZ3RoIDwgMHgxMCkge1xuICAgIGJ5dGVzLnB1c2gobGVuZ3RoIHwgMHg4MCk7XG4gICAgc2l6ZSA9IDE7XG4gIH0gLy8gbWFwIDE2XG4gIGVsc2UgaWYgKGxlbmd0aCA8IDB4MTAwMDApIHtcbiAgICBieXRlcy5wdXNoKDB4ZGUsIGxlbmd0aCA+PiA4LCBsZW5ndGgpO1xuICAgIHNpemUgPSAzO1xuICB9IC8vIG1hcCAzMlxuICBlbHNlIGlmIChsZW5ndGggPCAweDEwMDAwMDAwMCkge1xuICAgIGJ5dGVzLnB1c2goMHhkZiwgbGVuZ3RoID4+IDI0LCBsZW5ndGggPj4gMTYsIGxlbmd0aCA+PiA4LCBsZW5ndGgpO1xuICAgIHNpemUgPSA1O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdCB0b28gbGFyZ2VcIik7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBzaXplICs9IF9lbmNvZGUoYnl0ZXMsIGRlZmVycywga2V5KTtcbiAgICBzaXplICs9IF9lbmNvZGUoYnl0ZXMsIGRlZmVycywgdmFsdWVba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHNpemU7XG59XG5cbmZ1bmN0aW9uIF9lbmNvZGUoXG4gIGJ5dGVzOiBudW1iZXJbXSxcbiAgZGVmZXJzOiBEZWZlcnJlZEVsZW1lbnRbXSxcbiAgdmFsdWU6IHVua25vd24sXG4pOiBudW1iZXIge1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZXQgaSA9IDAsIGhpID0gMCwgbG8gPSAwLCBsZW5ndGggPSAwLCBzaXplID0gMDtcblxuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxlbmd0aCA9IHV0ZjhMZW5ndGgodmFsdWUgYXMgc3RyaW5nKTtcblxuICAgIC8vIGZpeHN0clxuICAgIGlmIChsZW5ndGggPCAweDIwKSB7XG4gICAgICBieXRlcy5wdXNoKGxlbmd0aCB8IDB4YTApO1xuICAgICAgc2l6ZSA9IDE7XG4gICAgfSAvLyBzdHIgOFxuICAgIGVsc2UgaWYgKGxlbmd0aCA8IDB4MTAwKSB7XG4gICAgICBieXRlcy5wdXNoKDB4ZDksIGxlbmd0aCk7XG4gICAgICBzaXplID0gMjtcbiAgICB9IC8vIHN0ciAxNlxuICAgIGVsc2UgaWYgKGxlbmd0aCA8IDB4MTAwMDApIHtcbiAgICAgIGJ5dGVzLnB1c2goMHhkYSwgbGVuZ3RoID4+IDgsIGxlbmd0aCk7XG4gICAgICBzaXplID0gMztcbiAgICB9IC8vIHN0ciAzMlxuICAgIGVsc2UgaWYgKGxlbmd0aCA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICBieXRlcy5wdXNoKDB4ZGIsIGxlbmd0aCA+PiAyNCwgbGVuZ3RoID4+IDE2LCBsZW5ndGggPj4gOCwgbGVuZ3RoKTtcbiAgICAgIHNpemUgPSA1O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHJpbmcgdG9vIGxvbmdcIik7XG4gICAgfVxuICAgIGRlZmVycy5wdXNoKHtcbiAgICAgIF9zdHI6IHZhbHVlIGFzIHN0cmluZyxcbiAgICAgIF9sZW5ndGg6IGxlbmd0aCxcbiAgICAgIF9vZmZzZXQ6IGJ5dGVzLmxlbmd0aCxcbiAgICB9KTtcbiAgICByZXR1cm4gc2l6ZSArIGxlbmd0aDtcbiAgfVxuICBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIFRPRE86IGVuY29kZSB0byBmbG9hdCAzMj9cblxuICAgIC8vIGZsb2F0IDY0XG4gICAgaWYgKE1hdGguZmxvb3IodmFsdWUgYXMgbnVtYmVyKSAhPT0gdmFsdWUgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgYnl0ZXMucHVzaCgweGNiKTtcbiAgICAgIGRlZmVycy5wdXNoKHtcbiAgICAgICAgX2Zsb2F0OiB2YWx1ZSBhcyBudW1iZXIsXG4gICAgICAgIF9sZW5ndGg6IDgsXG4gICAgICAgIF9vZmZzZXQ6IGJ5dGVzLmxlbmd0aCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIDk7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlID49IDApIHtcbiAgICAgIC8vIHBvc2l0aXZlIGZpeG51bVxuICAgICAgaWYgKHZhbHVlIDwgMHg4MCkge1xuICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICAvLyB1aW50IDhcbiAgICAgIGlmICh2YWx1ZSA8IDB4MTAwKSB7XG4gICAgICAgIGJ5dGVzLnB1c2goMHhjYywgdmFsdWUpO1xuICAgICAgICByZXR1cm4gMjtcbiAgICAgIH1cbiAgICAgIC8vIHVpbnQgMTZcbiAgICAgIGlmICh2YWx1ZSA8IDB4MTAwMDApIHtcbiAgICAgICAgYnl0ZXMucHVzaCgweGNkLCB2YWx1ZSA+PiA4LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiAzO1xuICAgICAgfVxuICAgICAgLy8gdWludCAzMlxuICAgICAgaWYgKHZhbHVlIDwgMHgxMDAwMDAwMDApIHtcbiAgICAgICAgYnl0ZXMucHVzaCgweGNlLCB2YWx1ZSA+PiAyNCwgdmFsdWUgPj4gMTYsIHZhbHVlID4+IDgsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgICB9XG4gICAgICAvLyB1aW50IDY0XG4gICAgICBoaSA9ICh2YWx1ZSAvIE1hdGgucG93KDIsIDMyKSkgPj4gMDtcbiAgICAgIGxvID0gdmFsdWUgPj4+IDA7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAweGNmLFxuICAgICAgICBoaSA+PiAyNCxcbiAgICAgICAgaGkgPj4gMTYsXG4gICAgICAgIGhpID4+IDgsXG4gICAgICAgIGhpLFxuICAgICAgICBsbyA+PiAyNCxcbiAgICAgICAgbG8gPj4gMTYsXG4gICAgICAgIGxvID4+IDgsXG4gICAgICAgIGxvLFxuICAgICAgKTtcbiAgICAgIHJldHVybiA5O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBuZWdhdGl2ZSBmaXhudW1cbiAgICAgIGlmICh2YWx1ZSA+PSAtMHgyMCkge1xuICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICAvLyBpbnQgOFxuICAgICAgaWYgKHZhbHVlID49IC0weDgwKSB7XG4gICAgICAgIGJ5dGVzLnB1c2goMHhkMCwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gMjtcbiAgICAgIH1cbiAgICAgIC8vIGludCAxNlxuICAgICAgaWYgKHZhbHVlID49IC0weDgwMDApIHtcbiAgICAgICAgYnl0ZXMucHVzaCgweGQxLCB2YWx1ZSA+PiA4LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiAzO1xuICAgICAgfVxuICAgICAgLy8gaW50IDMyXG4gICAgICBpZiAodmFsdWUgPj0gLTB4ODAwMDAwMDApIHtcbiAgICAgICAgYnl0ZXMucHVzaCgweGQyLCB2YWx1ZSA+PiAyNCwgdmFsdWUgPj4gMTYsIHZhbHVlID4+IDgsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgICB9XG4gICAgICAvLyBpbnQgNjRcbiAgICAgIGhpID0gTWF0aC5mbG9vcih2YWx1ZSAvIE1hdGgucG93KDIsIDMyKSk7XG4gICAgICBsbyA9IHZhbHVlID4+PiAwO1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgMHhkMyxcbiAgICAgICAgaGkgPj4gMjQsXG4gICAgICAgIGhpID4+IDE2LFxuICAgICAgICBoaSA+PiA4LFxuICAgICAgICBoaSxcbiAgICAgICAgbG8gPj4gMjQsXG4gICAgICAgIGxvID4+IDE2LFxuICAgICAgICBsbyA+PiA4LFxuICAgICAgICBsbyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gOTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAvLyBuaWxcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIGJ5dGVzLnB1c2goMHhjMCk7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcblxuICAgICAgLy8gZml4YXJyYXlcbiAgICAgIGlmIChsZW5ndGggPCAweDEwKSB7XG4gICAgICAgIGJ5dGVzLnB1c2gobGVuZ3RoIHwgMHg5MCk7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSAvLyBhcnJheSAxNlxuICAgICAgZWxzZSBpZiAobGVuZ3RoIDwgMHgxMDAwMCkge1xuICAgICAgICBieXRlcy5wdXNoKDB4ZGMsIGxlbmd0aCA+PiA4LCBsZW5ndGgpO1xuICAgICAgICBzaXplID0gMztcbiAgICAgIH0gLy8gYXJyYXkgMzJcbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA8IDB4MTAwMDAwMDAwKSB7XG4gICAgICAgIGJ5dGVzLnB1c2goMHhkZCwgbGVuZ3RoID4+IDI0LCBsZW5ndGggPj4gMTYsIGxlbmd0aCA+PiA4LCBsZW5ndGgpO1xuICAgICAgICBzaXplID0gNTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFycmF5IHRvbyBsYXJnZVwiKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzaXplICs9IF9lbmNvZGUoYnl0ZXMsIGRlZmVycywgdmFsdWVbaV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgY29uc3QgbXMgPSB2YWx1ZS5nZXRUaW1lKCk7XG4gICAgICBjb25zdCBzID0gTWF0aC5mbG9vcihtcyAvIDFlMyk7XG4gICAgICBjb25zdCBucyA9IChtcyAtIHMgKiAxZTMpICogMWU2O1xuXG4gICAgICBpZiAocyA+PSAwICYmIG5zID49IDAgJiYgcyA8PSBUSU1FU1RBTVA2NF9NQVhfU0VDKSB7XG4gICAgICAgIGlmIChucyA9PT0gMCAmJiBzIDw9IFRJTUVTVEFNUDMyX01BWF9TRUMpIHtcbiAgICAgICAgICAvLyB0aW1lc3RhbXAgMzJcbiAgICAgICAgICBieXRlcy5wdXNoKDB4ZDYsIDB4ZmYsIHMgPj4gMjQsIHMgPj4gMTYsIHMgPj4gOCwgcyk7XG4gICAgICAgICAgcmV0dXJuIDY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdGltZXN0YW1wIDY0XG4gICAgICAgICAgaGkgPSBzIC8gMHgxMDAwMDAwMDA7XG4gICAgICAgICAgbG8gPSBzICYgMHhmZmZmZmZmZjtcbiAgICAgICAgICBieXRlcy5wdXNoKFxuICAgICAgICAgICAgMHhkNyxcbiAgICAgICAgICAgIDB4ZmYsXG4gICAgICAgICAgICBucyA+PiAyMixcbiAgICAgICAgICAgIG5zID4+IDE0LFxuICAgICAgICAgICAgbnMgPj4gNixcbiAgICAgICAgICAgIGhpLFxuICAgICAgICAgICAgbG8gPj4gMjQsXG4gICAgICAgICAgICBsbyA+PiAxNixcbiAgICAgICAgICAgIGxvID4+IDgsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiAxMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGltZXN0YW1wIDk2XG4gICAgICAgIGhpID0gTWF0aC5mbG9vcihzIC8gMHgxMDAwMDAwMDApO1xuICAgICAgICBsbyA9IHMgPj4+IDA7XG4gICAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgICAgMHhjNyxcbiAgICAgICAgICAweDBjLFxuICAgICAgICAgIDB4ZmYsXG4gICAgICAgICAgbnMgPj4gMjQsXG4gICAgICAgICAgbnMgPj4gMTYsXG4gICAgICAgICAgbnMgPj4gOCxcbiAgICAgICAgICBucyxcbiAgICAgICAgICBoaSA+PiAyNCxcbiAgICAgICAgICBoaSA+PiAxNixcbiAgICAgICAgICBoaSA+PiA4LFxuICAgICAgICAgIGhpLFxuICAgICAgICAgIGxvID4+IDI0LFxuICAgICAgICAgIGxvID4+IDE2LFxuICAgICAgICAgIGxvID4+IDgsXG4gICAgICAgICAgbG8sXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiAxNTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpKSB7XG4gICAgICBsZW5ndGggPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuXG4gICAgICAvLyBiaW4gOFxuICAgICAgaWYgKGxlbmd0aCA8IDB4MTAwKSB7XG4gICAgICAgIGJ5dGVzLnB1c2goMHhjNCwgbGVuZ3RoKTtcbiAgICAgICAgc2l6ZSA9IDI7XG4gICAgICB9IC8vIGJpbiAxNlxuICAgICAgZWxzZSBpZiAobGVuZ3RoIDwgMHgxMDAwMCkge1xuICAgICAgICBieXRlcy5wdXNoKDB4YzUsIGxlbmd0aCA+PiA4LCBsZW5ndGgpO1xuICAgICAgICBzaXplID0gMztcbiAgICAgIH0gLy8gYmluIDMyXG4gICAgICBlbHNlIGlmIChsZW5ndGggPCAweDEwMDAwMDAwMCkge1xuICAgICAgICBieXRlcy5wdXNoKDB4YzYsIGxlbmd0aCA+PiAyNCwgbGVuZ3RoID4+IDE2LCBsZW5ndGggPj4gOCwgbGVuZ3RoKTtcbiAgICAgICAgc2l6ZSA9IDU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIgdG9vIGxhcmdlXCIpO1xuICAgICAgfVxuICAgICAgZGVmZXJzLnB1c2goe1xuICAgICAgICBfYmluOiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gdmFsdWUgOiB2YWx1ZS5idWZmZXIsXG4gICAgICAgIF9sZW5ndGg6IGxlbmd0aCxcbiAgICAgICAgX29mZnNldDogYnl0ZXMubGVuZ3RoLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc2l6ZSArIGxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2VuY29kZU9iamVjdChieXRlcywgZGVmZXJzLCB2YWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik7XG4gIH1cbiAgLy8gZmFsc2UvdHJ1ZVxuICBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICBieXRlcy5wdXNoKHZhbHVlID8gMHhjMyA6IDB4YzIpO1xuICAgIHJldHVybiAxO1xuICB9XG4gIGlmICh0eXBlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgYnl0ZXMucHVzaCgweGMwKTtcbiAgICByZXR1cm4gMTtcbiAgfVxuICAvLyBjdXN0b20gdHlwZXMgbGlrZSBCaWdJbnQgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpXG4gIC8vIEB0cy1pZ25vcmUgRklYTUVcbiAgaWYgKHR5cGVvZiB2YWx1ZS50b0pTT04gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIC8vIEB0cy1pZ25vcmUgRklYTUVcbiAgICByZXR1cm4gX2VuY29kZShieXRlcywgZGVmZXJzLCB2YWx1ZS50b0pTT04oKSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGVuY29kZVwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZSh2YWx1ZTogdW5rbm93bikge1xuICBjb25zdCBieXRlczogbnVtYmVyW10gPSBbXTtcbiAgY29uc3QgZGVmZXJzOiBEZWZlcnJlZEVsZW1lbnRbXSA9IFtdO1xuICBjb25zdCBzaXplID0gX2VuY29kZShieXRlcywgZGVmZXJzLCB2YWx1ZSk7XG4gIGNvbnN0IGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTtcbiAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWYpO1xuXG4gIGxldCBkZWZlckluZGV4ID0gMDtcbiAgbGV0IGRlZmVyV3JpdHRlbiA9IDA7XG4gIGxldCBuZXh0T2Zmc2V0ID0gLTE7XG4gIGlmIChkZWZlcnMubGVuZ3RoID4gMCkge1xuICAgIG5leHRPZmZzZXQgPSBkZWZlcnNbMF0uX29mZnNldDtcbiAgfVxuXG4gIGxldCBkZWZlciwgZGVmZXJMZW5ndGggPSAwLCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmlldy5zZXRVaW50OChkZWZlcldyaXR0ZW4gKyBpLCBieXRlc1tpXSk7XG4gICAgaWYgKGkgKyAxICE9PSBuZXh0T2Zmc2V0KSBjb250aW51ZTtcbiAgICBkZWZlciA9IGRlZmVyc1tkZWZlckluZGV4XTtcbiAgICBkZWZlckxlbmd0aCA9IGRlZmVyLl9sZW5ndGg7XG4gICAgb2Zmc2V0ID0gZGVmZXJXcml0dGVuICsgbmV4dE9mZnNldDtcbiAgICBpZiAoZGVmZXIuX2Jpbikge1xuICAgICAgY29uc3QgYmluID0gbmV3IFVpbnQ4QXJyYXkoZGVmZXIuX2Jpbik7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRlZmVyTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmlldy5zZXRVaW50OChvZmZzZXQgKyBqLCBiaW5bal0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGVmZXIuX3N0cikge1xuICAgICAgdXRmOFdyaXRlKHZpZXcsIG9mZnNldCwgZGVmZXIuX3N0cik7XG4gICAgfSBlbHNlIGlmIChkZWZlci5fZmxvYXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmlldy5zZXRGbG9hdDY0KG9mZnNldCwgZGVmZXIuX2Zsb2F0KTtcbiAgICB9XG4gICAgZGVmZXJJbmRleCsrO1xuICAgIGRlZmVyV3JpdHRlbiArPSBkZWZlckxlbmd0aDtcbiAgICBpZiAoZGVmZXJzW2RlZmVySW5kZXhdKSB7XG4gICAgICBuZXh0T2Zmc2V0ID0gZGVmZXJzW2RlZmVySW5kZXhdLl9vZmZzZXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBidWY7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxzQkFBc0IsY0FBYyxHQUFHLHNCQUFzQjtBQUNuRSxNQUFNLHNCQUFzQixjQUFjLEdBQUcsc0JBQXNCO0FBRW5FLFNBQVMsVUFBVSxJQUFjLEVBQUUsTUFBYyxFQUFFLEdBQVc7RUFDNUQsSUFBSSxJQUFJO0VBQ1IsSUFBSyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksTUFBTSxFQUFFLElBQUs7SUFDbkMsSUFBSSxJQUFJLFVBQVUsQ0FBQztJQUNuQixJQUFJLElBQUksTUFBTTtNQUNaLEtBQUssUUFBUSxDQUFDLFVBQVU7SUFDMUIsT0FBTyxJQUFJLElBQUksT0FBTztNQUNwQixLQUFLLFFBQVEsQ0FBQyxVQUFVLE9BQVEsS0FBSztNQUNyQyxLQUFLLFFBQVEsQ0FBQyxVQUFVLE9BQVEsSUFBSTtJQUN0QyxPQUFPLElBQUksSUFBSSxVQUFVLEtBQUssUUFBUTtNQUNwQyxLQUFLLFFBQVEsQ0FBQyxVQUFVLE9BQVEsS0FBSztNQUNyQyxLQUFLLFFBQVEsQ0FBQyxVQUFVLE9BQU8sQUFBQyxLQUFLLElBQUs7TUFDMUMsS0FBSyxRQUFRLENBQUMsVUFBVSxPQUFRLElBQUk7SUFDdEMsT0FBTztNQUNMO01BQ0EsSUFBSSxVQUFVLENBQUMsQUFBQyxDQUFDLElBQUksS0FBSyxLQUFLLEtBQU8sSUFBSSxVQUFVLENBQUMsS0FBSyxLQUFNO01BQ2hFLEtBQUssUUFBUSxDQUFDLFVBQVUsT0FBUSxLQUFLO01BQ3JDLEtBQUssUUFBUSxDQUFDLFVBQVUsT0FBTyxBQUFDLEtBQUssS0FBTTtNQUMzQyxLQUFLLFFBQVEsQ0FBQyxVQUFVLE9BQU8sQUFBQyxLQUFLLElBQUs7TUFDMUMsS0FBSyxRQUFRLENB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
// denoCacheMetadata=15745460440357163712,13318073643807594620