import { toArray } from '../_internal/toArray.ts';
import { property } from '../object/property.ts';
import { matches } from '../predicate/matches.ts';
import { matchesProperty } from '../predicate/matchesProperty.ts';
/**
 * Finds the index of the first item in an array that has a specific property, where the property name is provided as a PropertyKey.
 *
 * @template T
 * @param {ArrayLike<T> | null | undefined} arr - The array to search through.
 * @param {((item: T, index: number, arr: any) => unknown) | Partial<T> | [keyof T, unknown] | PropertyKey} doesMatch - The property name to check.
 * @param {number} [fromIndex=arr.length - 1] - The index to start the search from, defaults to the last index of the array.
 * @returns {number} - The index of the first item that has the specified property, or `undefined` if no match is found.
 *
 * @example
 * // Using a property name
 * const items = [{ id: 1, name: 'Alice' }, { id: 2, name: 'Bob' }];
 * const result = findLastIndex(items, 'name');
 * console.log(result); // 1
 */ export function findLastIndex(arr, doesMatch, fromIndex = arr ? arr.length - 1 : 0) {
  if (!arr) {
    return -1;
  }
  if (fromIndex < 0) {
    fromIndex = Math.max(arr.length + fromIndex, 0);
  } else {
    fromIndex = Math.min(fromIndex, arr.length - 1);
  }
  const subArray = toArray(arr).slice(0, fromIndex + 1);
  switch(typeof doesMatch){
    case 'function':
      {
        return subArray.findLastIndex(doesMatch);
      }
    case 'object':
      {
        if (Array.isArray(doesMatch) && doesMatch.length === 2) {
          const key = doesMatch[0];
          const value = doesMatch[1];
          return subArray.findLastIndex(matchesProperty(key, value));
        } else {
          return subArray.findLastIndex(matches(doesMatch));
        }
      }
    case 'number':
    case 'symbol':
    case 'string':
      {
        return subArray.findLastIndex(property(doesMatch));
      }
  }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvYXJyYXkvZmluZExhc3RJbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi4vX2ludGVybmFsL3RvQXJyYXkudHMnO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICcuLi9vYmplY3QvcHJvcGVydHkudHMnO1xuaW1wb3J0IHsgbWF0Y2hlcyB9IGZyb20gJy4uL3ByZWRpY2F0ZS9tYXRjaGVzLnRzJztcbmltcG9ydCB7IG1hdGNoZXNQcm9wZXJ0eSB9IGZyb20gJy4uL3ByZWRpY2F0ZS9tYXRjaGVzUHJvcGVydHkudHMnO1xuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggYW4gYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciBhbmQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBwcmVkaWNhdGUgZnVuY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHsoaXRlbTogVCwgaW5kZXg6IG51bWJlciwgYXJyOiBUW10pID0+IHVua25vd259IGRvZXNNYXRjaCAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBpdGVtLCBpdHMgaW5kZXgsIGFuZCB0aGUgYXJyYXksIGFuZCByZXR1cm5zIGEgdHJ1dGh5IHZhbHVlIGlmIHRoZSBpdGVtIG1hdGNoZXMgdGhlIGNyaXRlcmlhLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyLmxlbmd0aCAtIDFdIC0gVGhlIGluZGV4IHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbSwgZGVmYXVsdHMgdG8gdGhlIGxhc3QgaW5kZXggb2YgdGhlIGFycmF5LlxuICogQHJldHVybnMge251bWJlcn0gLSBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUsIG9yIGB1bmRlZmluZWRgIGlmIG5vIG1hdGNoIGlzIGZvdW5kLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBVc2luZyBhIHByZWRpY2F0ZSBmdW5jdGlvblxuICogY29uc3QgaXRlbXMgPSBbMSwgMiwgMywgNCwgNV07XG4gKiBjb25zdCByZXN1bHQgPSBmaW5kTGFzdEluZGV4KGl0ZW1zLCAoaXRlbSkgPT4gaXRlbSA+IDMpXG4gKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGFzdEluZGV4PFQ+KFxuICBhcnI6IEFycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRvZXNNYXRjaDogKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIGFycjogcmVhZG9ubHkgVFtdKSA9PiB1bmtub3duLFxuICBmcm9tSW5kZXg/OiBudW1iZXJcbik6IG51bWJlcjtcblxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gaW4gYW4gYXJyYXkgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBwYXJ0aWFsIG9iamVjdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheUxpa2U8VD4gfCBudWxsIHwgdW5kZWZpbmVkfSBhcnIgLSBUaGUgYXJyYXkgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0ge1BhcnRpYWw8VD59IGRvZXNNYXRjaCAtIEEgcGFydGlhbCBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIHByb3BlcnRpZXMgdG8gbWF0Y2guXG4gKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnIubGVuZ3RoIC0gMV0gLSBUaGUgaW5kZXggdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLCBkZWZhdWx0cyB0byB0aGUgbGFzdCBpbmRleCBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbSB0aGF0IG1hdGNoZXMgdGhlIHBhcnRpYWwgb2JqZWN0LCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVXNpbmcgYSBwYXJ0aWFsIG9iamVjdFxuICogY29uc3QgaXRlbXMgPSBbeyBpZDogMSwgbmFtZTogJ0FsaWNlJyB9LCB7IGlkOiAyLCBuYW1lOiAnQm9iJyB9XTtcbiAqIGNvbnN0IHJlc3VsdCA9IGZpbmRMYXN0SW5kZXgoaXRlbXMsIHsgbmFtZTogJ0JvYicgfSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQpOyAvLyAxXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGFzdEluZGV4PFQ+KFxuICBhcnI6IEFycmF5TGlrZTxUPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gIGRvZXNNYXRjaDogUGFydGlhbDxUPixcbiAgZnJvbUluZGV4PzogbnVtYmVyXG4pOiBudW1iZXI7XG5cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIGluIGFuIGFycmF5IHRoYXQgbWF0Y2hlcyBhIHByb3BlcnR5IHdpdGggYSBzcGVjaWZpYyB2YWx1ZS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtBcnJheUxpa2U8VD4gfCBudWxsIHwgdW5kZWZpbmVkfSBhcnIgLSBUaGUgYXJyYXkgdG8gc2VhcmNoIHRocm91Z2guXG4gKiBAcGFyYW0ge1trZXlvZiBULCB1bmtub3duXX0gZG9lc01hdGNoUHJvcGVydHkgLSBBbiBhcnJheSB3aGVyZSB0aGUgZmlyc3QgZWxlbWVudCBpcyB0aGUgcHJvcGVydHkga2V5IGFuZCB0aGUgc2Vjb25kIGVsZW1lbnQgaXMgdGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyLmxlbmd0aCAtIDFdIC0gVGhlIGluZGV4IHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbSwgZGVmYXVsdHMgdG8gdGhlIGxhc3QgaW5kZXggb2YgdGhlIGFycmF5LlxuICogQHJldHVybnMge251bWJlcn0gLSBUaGUgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gdGhhdCBoYXMgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSB2YWx1ZSwgb3IgYHVuZGVmaW5lZGAgaWYgbm8gbWF0Y2ggaXMgZm91bmQuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFVzaW5nIGEgcHJvcGVydHktdmFsdWUgcGFpclxuICogY29uc3QgaXRlbXMgPSBbeyBpZDogMSwgbmFtZTogJ0FsaWNlJyB9LCB7IGlkOiAyLCBuYW1lOiAnQm9iJyB9XTtcbiAqIGNvbnN0IHJlc3VsdCA9IGZpbmRMYXN0SW5kZXgoaXRlbXMsIFsnbmFtZScsICdBbGljZSddKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXg8VD4oXG4gIGFycjogQXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgZG9lc01hdGNoUHJvcGVydHk6IFtrZXlvZiBULCB1bmtub3duXSxcbiAgZnJvbUluZGV4PzogbnVtYmVyXG4pOiBudW1iZXI7XG5cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIGluIGFuIGFycmF5IHRoYXQgaGFzIGEgc3BlY2lmaWMgcHJvcGVydHksIHdoZXJlIHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGFzIGEgUHJvcGVydHlLZXkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHlUb0NoZWNrIC0gVGhlIHByb3BlcnR5IG5hbWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnIubGVuZ3RoIC0gMV0gLSBUaGUgaW5kZXggdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLCBkZWZhdWx0cyB0byB0aGUgbGFzdCBpbmRleCBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbSB0aGF0IGhhcyB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVXNpbmcgYSBwcm9wZXJ0eSBuYW1lXG4gKiBjb25zdCBpdGVtcyA9IFt7IGlkOiAxLCBuYW1lOiAnQWxpY2UnIH0sIHsgaWQ6IDIsIG5hbWU6ICdCb2InIH1dO1xuICogY29uc3QgcmVzdWx0ID0gZmluZExhc3RJbmRleChpdGVtcywgJ25hbWUnKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXg8VD4oXG4gIGFycjogQXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgcHJvcGVydHlUb0NoZWNrOiBQcm9wZXJ0eUtleSxcbiAgZnJvbUluZGV4PzogbnVtYmVyXG4pOiBudW1iZXI7XG5cbi8qKlxuICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIGluIGFuIGFycmF5IHRoYXQgaGFzIGEgc3BlY2lmaWMgcHJvcGVydHksIHdoZXJlIHRoZSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGFzIGEgUHJvcGVydHlLZXkuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZH0gYXJyIC0gVGhlIGFycmF5IHRvIHNlYXJjaCB0aHJvdWdoLlxuICogQHBhcmFtIHsoKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIGFycjogYW55KSA9PiB1bmtub3duKSB8IFBhcnRpYWw8VD4gfCBba2V5b2YgVCwgdW5rbm93bl0gfCBQcm9wZXJ0eUtleX0gZG9lc01hdGNoIC0gVGhlIHByb3BlcnR5IG5hbWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnIubGVuZ3RoIC0gMV0gLSBUaGUgaW5kZXggdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLCBkZWZhdWx0cyB0byB0aGUgbGFzdCBpbmRleCBvZiB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgaXRlbSB0aGF0IGhhcyB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaCBpcyBmb3VuZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVXNpbmcgYSBwcm9wZXJ0eSBuYW1lXG4gKiBjb25zdCBpdGVtcyA9IFt7IGlkOiAxLCBuYW1lOiAnQWxpY2UnIH0sIHsgaWQ6IDIsIG5hbWU6ICdCb2InIH1dO1xuICogY29uc3QgcmVzdWx0ID0gZmluZExhc3RJbmRleChpdGVtcywgJ25hbWUnKTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXg8VD4oXG4gIGFycjogQXJyYXlMaWtlPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgZG9lc01hdGNoOiAoKGl0ZW06IFQsIGluZGV4OiBudW1iZXIsIGFycjogYW55KSA9PiB1bmtub3duKSB8IFBhcnRpYWw8VD4gfCBba2V5b2YgVCwgdW5rbm93bl0gfCBQcm9wZXJ0eUtleSxcbiAgZnJvbUluZGV4OiBudW1iZXIgPSBhcnIgPyBhcnIubGVuZ3RoIC0gMSA6IDBcbik6IG51bWJlciB7XG4gIGlmICghYXJyKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgZnJvbUluZGV4ID0gTWF0aC5tYXgoYXJyLmxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gIH0gZWxzZSB7XG4gICAgZnJvbUluZGV4ID0gTWF0aC5taW4oZnJvbUluZGV4LCBhcnIubGVuZ3RoIC0gMSk7XG4gIH1cblxuICBjb25zdCBzdWJBcnJheSA9IHRvQXJyYXkoYXJyKS5zbGljZSgwLCBmcm9tSW5kZXggKyAxKTtcblxuICBzd2l0Y2ggKHR5cGVvZiBkb2VzTWF0Y2gpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6IHtcbiAgICAgIHJldHVybiBzdWJBcnJheS5maW5kTGFzdEluZGV4KGRvZXNNYXRjaCk7XG4gICAgfVxuICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRvZXNNYXRjaCkgJiYgZG9lc01hdGNoLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBjb25zdCBrZXkgPSBkb2VzTWF0Y2hbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZG9lc01hdGNoWzFdO1xuXG4gICAgICAgIHJldHVybiBzdWJBcnJheS5maW5kTGFzdEluZGV4KG1hdGNoZXNQcm9wZXJ0eShrZXksIHZhbHVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3ViQXJyYXkuZmluZExhc3RJbmRleChtYXRjaGVzKGRvZXNNYXRjaCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgcmV0dXJuIHN1YkFycmF5LmZpbmRMYXN0SW5kZXgocHJvcGVydHkoZG9lc01hdGNoKSk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxPQUFPLFFBQVEsMEJBQTBCO0FBQ2xELFNBQVMsUUFBUSxRQUFRLHdCQUF3QjtBQUNqRCxTQUFTLE9BQU8sUUFBUSwwQkFBMEI7QUFDbEQsU0FBUyxlQUFlLFFBQVEsa0NBQWtDO0FBc0ZsRTs7Ozs7Ozs7Ozs7Ozs7Q0FjQyxHQUNELE9BQU8sU0FBUyxjQUNkLEdBQW9DLEVBQ3BDLFNBQTBHLEVBQzFHLFlBQW9CLE1BQU0sSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO0VBRTVDLElBQUksQ0FBQyxLQUFLO0lBQ1IsT0FBTyxDQUFDO0VBQ1Y7RUFDQSxJQUFJLFlBQVksR0FBRztJQUNqQixZQUFZLEtBQUssR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLFdBQVc7RUFDL0MsT0FBTztJQUNMLFlBQVksS0FBSyxHQUFHLENBQUMsV0FBVyxJQUFJLE1BQU0sR0FBRztFQUMvQztFQUVBLE1BQU0sV0FBVyxRQUFRLEtBQUssS0FBSyxDQUFDLEdBQUcsWUFBWTtFQUVuRCxPQUFRLE9BQU87SUFDYixLQUFLO01BQVk7UUFDZixPQUFPLFNBQVMsYUFBYSxDQUFDO01BQ2hDO0lBQ0EsS0FBSztNQUFVO1FBQ2IsSUFBSSxNQUFNLE9BQU8sQ0FBQyxjQUFjLFVBQVUsTUFBTSxLQUFLLEdBQUc7VUFDdEQsTUFBTSxNQUFNLFNBQVMsQ0FBQyxFQUFFO1VBQ3hCLE1BQU0sUUFBUSxTQUFTLENBQUMsRUFBRTtVQUUxQixPQUFPLFNBQVMsYUFBYSxDQUFDLGdCQUFnQixLQUFLO1FBQ3JELE9BQU87VUFDTCxPQUFPLFNBQVMsYUFBYSxDQUFDLFFBQVE7UUFDeEM7TUFDRjtJQUNBLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztNQUFVO1FBQ2IsT0FBTyxTQUFTLGFBQWEsQ0FBQyxTQUFTO01BQ3pDO0VBQ0Y7QUFDRiJ9
// denoCacheMetadata=17210847429615846939,652799620751450831