import { cloneDeep } from './cloneDeep.ts';
import { clone } from '../../object/clone.ts';
import { isPrimitive } from '../../predicate/isPrimitive.ts';
import { getSymbols } from '../_internal/getSymbols.ts';
import { isArguments } from '../predicate/isArguments.ts';
import { isObjectLike } from '../predicate/isObjectLike.ts';
import { isPlainObject } from '../predicate/isPlainObject.ts';
import { isTypedArray } from '../predicate/isTypedArray.ts';
/**
 * Merges the properties of one or more source objects into the target object.
 *
 * This function performs a deep merge, recursively merging nested objects and arrays.
 * If a property in the source object is an array or object and the corresponding property in the target object is also an array or object, they will be merged.
 * If a property in the source object is `undefined`, it will not overwrite a defined property in the target object.
 *
 * You can provide a custom `merge` function to control how properties are merged. The `merge` function is called for each property that is being merged and receives the following arguments:
 *
 * - `targetValue`: The current value of the property in the target object.
 * - `sourceValue`: The value of the property in the source object.
 * - `key`: The key of the property being merged.
 * - `target`: The target object.
 * - `source`: The source object.
 * - `stack`: A `Map` used to keep track of objects that have already been processed to handle circular references.
 *
 * The `merge` function should return the value to be set in the target object. If it returns `undefined`, a default deep merge will be applied for arrays and objects.
 *
 * The function can handle multiple source objects and will merge them all into the target object.
 *
 * @param {any} object - The target object into which the source object properties will be merged. This object is modified in place.
 * @param {any[]} sources - The source objects whose properties will be merged into the target object.
 * @param {...any} otherArgs - Additional source objects to merge into the target object, including the custom `merge` function.
 * @returns {any} The updated target object with properties from the source object(s) merged in.
 *
 * @example
 * const target = { a: 1, b: 2 };
 * const source = { b: 3, c: 4 };
 *
 * mergeWith(target, source, (targetValue, sourceValue) => {
 *   if (typeof targetValue === 'number' && typeof sourceValue === 'number') {
 *     return targetValue + sourceValue;
 *   }
 * });
 * // Returns { a: 1, b: 5, c: 4 }
 * @example
 * const target = { a: [1], b: [2] };
 * const source = { a: [3], b: [4] };
 *
 * const result = mergeWith(target, source, (objValue, srcValue) => {
 *   if (Array.isArray(objValue)) {
 *     return objValue.concat(srcValue);
 *   }
 * });
 *
 * expect(result).toEqual({ a: [1, 3], b: [2, 4] });
 */ export function mergeWith(object, ...otherArgs) {
  const sources = otherArgs.slice(0, -1);
  const merge = otherArgs[otherArgs.length - 1];
  let result = object;
  for(let i = 0; i < sources.length; i++){
    const source = sources[i];
    result = mergeWithDeep(result, source, merge, new Map());
  }
  return result;
}
function mergeWithDeep(target, source, merge, stack) {
  if (isPrimitive(target)) {
    target = Object(target);
  }
  if (source == null || typeof source !== 'object') {
    return target;
  }
  if (stack.has(source)) {
    return clone(stack.get(source));
  }
  stack.set(source, target);
  if (Array.isArray(source)) {
    source = source.slice();
    for(let i = 0; i < source.length; i++){
      source[i] = source[i] ?? undefined;
    }
  }
  const sourceKeys = [
    ...Object.keys(source),
    ...getSymbols(source)
  ];
  for(let i = 0; i < sourceKeys.length; i++){
    const key = sourceKeys[i];
    let sourceValue = source[key];
    let targetValue = target[key];
    if (isArguments(sourceValue)) {
      sourceValue = {
        ...sourceValue
      };
    }
    if (isArguments(targetValue)) {
      targetValue = {
        ...targetValue
      };
    }
    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(sourceValue)) {
      sourceValue = cloneDeep(sourceValue);
    }
    if (Array.isArray(sourceValue)) {
      if (typeof targetValue === 'object' && targetValue != null) {
        const cloned = [];
        const targetKeys = Reflect.ownKeys(targetValue);
        for(let i = 0; i < targetKeys.length; i++){
          const targetKey = targetKeys[i];
          cloned[targetKey] = targetValue[targetKey];
        }
        targetValue = cloned;
      } else {
        targetValue = [];
      }
    }
    const merged = merge(targetValue, sourceValue, key, target, source, stack);
    if (merged != null) {
      target[key] = merged;
    } else if (Array.isArray(sourceValue)) {
      target[key] = mergeWithDeep(targetValue, sourceValue, merge, stack);
    } else if (isObjectLike(targetValue) && isObjectLike(sourceValue)) {
      target[key] = mergeWithDeep(targetValue, sourceValue, merge, stack);
    } else if (targetValue == null && isPlainObject(sourceValue)) {
      target[key] = mergeWithDeep({}, sourceValue, merge, stack);
    } else if (targetValue == null && isTypedArray(sourceValue)) {
      target[key] = cloneDeep(sourceValue);
    } else if (targetValue === undefined || sourceValue !== undefined) {
      target[key] = sourceValue;
    }
  }
  return target;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvb2JqZWN0L21lcmdlV2l0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbG9uZURlZXAgfSBmcm9tICcuL2Nsb25lRGVlcC50cyc7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4uLy4uL29iamVjdC9jbG9uZS50cyc7XG5pbXBvcnQgeyBpc1ByaW1pdGl2ZSB9IGZyb20gJy4uLy4uL3ByZWRpY2F0ZS9pc1ByaW1pdGl2ZS50cyc7XG5pbXBvcnQgeyBnZXRTeW1ib2xzIH0gZnJvbSAnLi4vX2ludGVybmFsL2dldFN5bWJvbHMudHMnO1xuaW1wb3J0IHsgaXNBcmd1bWVudHMgfSBmcm9tICcuLi9wcmVkaWNhdGUvaXNBcmd1bWVudHMudHMnO1xuaW1wb3J0IHsgaXNPYmplY3RMaWtlIH0gZnJvbSAnLi4vcHJlZGljYXRlL2lzT2JqZWN0TGlrZS50cyc7XG5pbXBvcnQgeyBpc1BsYWluT2JqZWN0IH0gZnJvbSAnLi4vcHJlZGljYXRlL2lzUGxhaW5PYmplY3QudHMnO1xuaW1wb3J0IHsgaXNUeXBlZEFycmF5IH0gZnJvbSAnLi4vcHJlZGljYXRlL2lzVHlwZWRBcnJheS50cyc7XG5cbmRlY2xhcmUgbGV0IEJ1ZmZlcjpcbiAgfCB7XG4gICAgICBpc0J1ZmZlcjogKGE6IGFueSkgPT4gYm9vbGVhbjtcbiAgICB9XG4gIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBvbmUgb3IgbW9yZSBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBkZWVwIG1lcmdlLCByZWN1cnNpdmVseSBtZXJnaW5nIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXMuXG4gKiBJZiBhIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0IGlzIGFuIGFycmF5IG9yIG9iamVjdCBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgaW4gdGhlIHRhcmdldCBvYmplY3QgaXMgYWxzbyBhbiBhcnJheSBvciBvYmplY3QsIHRoZXkgd2lsbCBiZSBtZXJnZWQuXG4gKiBJZiBhIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0IGlzIGB1bmRlZmluZWRgLCBpdCB3aWxsIG5vdCBvdmVyd3JpdGUgYSBkZWZpbmVkIHByb3BlcnR5IGluIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBgbWVyZ2VgIGZ1bmN0aW9uIHRvIGNvbnRyb2wgaG93IHByb3BlcnRpZXMgYXJlIG1lcmdlZC4gVGhlIGBtZXJnZWAgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIHByb3BlcnR5IHRoYXQgaXMgYmVpbmcgbWVyZ2VkIGFuZCByZWNlaXZlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAtIGB0YXJnZXRWYWx1ZWA6IFRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIC0gYHNvdXJjZVZhbHVlYDogVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgc291cmNlIG9iamVjdC5cbiAqIC0gYGtleWA6IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IGJlaW5nIG1lcmdlZC5cbiAqIC0gYHRhcmdldGA6IFRoZSB0YXJnZXQgb2JqZWN0LlxuICogLSBgc291cmNlYDogVGhlIHNvdXJjZSBvYmplY3QuXG4gKiAtIGBzdGFja2A6IEEgYE1hcGAgdXNlZCB0byBrZWVwIHRyYWNrIG9mIG9iamVjdHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQgdG8gaGFuZGxlIGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4gKlxuICogVGhlIGBtZXJnZWAgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgdmFsdWUgdG8gYmUgc2V0IGluIHRoZSB0YXJnZXQgb2JqZWN0LiBJZiBpdCByZXR1cm5zIGB1bmRlZmluZWRgLCBhIGRlZmF1bHQgZGVlcCBtZXJnZSB3aWxsIGJlIGFwcGxpZWQgZm9yIGFycmF5cyBhbmQgb2JqZWN0cy5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gY2FuIGhhbmRsZSBtdWx0aXBsZSBzb3VyY2Ugb2JqZWN0cyBhbmQgd2lsbCBtZXJnZSB0aGVtIGFsbCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvYmplY3QgaW50byB3aGljaCB0aGUgc291cmNlIG9iamVjdCBwcm9wZXJ0aWVzIHdpbGwgYmUgbWVyZ2VkLiBUaGlzIG9iamVjdCBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAqIEBwYXJhbSB7U30gc291cmNlIC0gVGhlIGZpcnN0IHNvdXJjZSBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHsodGFyZ2V0VmFsdWU6IGFueSwgc291cmNlVmFsdWU6IGFueSwga2V5OiBzdHJpbmcsIHRhcmdldDogVCwgc291cmNlOiBTLCBzdGFjazogTWFwPGFueSwgYW55PikgPT4gYW55fSBtZXJnZSAtIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2luZyBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge1QgJiBTfSBUaGUgdXBkYXRlZCB0YXJnZXQgb2JqZWN0IHdpdGggcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2Ugb2JqZWN0KHMpIG1lcmdlZCBpbi5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFR5cGUgb2YgdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAdGVtcGxhdGUgUyAtIFR5cGUgb2YgdGhlIGZpcnN0IHNvdXJjZSBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRhcmdldCA9IHsgYTogMSwgYjogMiB9O1xuICogY29uc3Qgc291cmNlID0geyBiOiAzLCBjOiA0IH07XG4gKlxuICogbWVyZ2VXaXRoKHRhcmdldCwgc291cmNlLCAodGFyZ2V0VmFsdWUsIHNvdXJjZVZhbHVlKSA9PiB7XG4gKiAgIGlmICh0eXBlb2YgdGFyZ2V0VmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBzb3VyY2VWYWx1ZSA9PT0gJ251bWJlcicpIHtcbiAqICAgICByZXR1cm4gdGFyZ2V0VmFsdWUgKyBzb3VyY2VWYWx1ZTtcbiAqICAgfVxuICogfSk7XG4gKiAvLyBSZXR1cm5zIHsgYTogMSwgYjogNSwgYzogNCB9XG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGFyZ2V0ID0geyBhOiBbMV0sIGI6IFsyXSB9O1xuICogY29uc3Qgc291cmNlID0geyBhOiBbM10sIGI6IFs0XSB9O1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IG1lcmdlV2l0aCh0YXJnZXQsIHNvdXJjZSwgKG9ialZhbHVlLCBzcmNWYWx1ZSkgPT4ge1xuICogICBpZiAoQXJyYXkuaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAqICAgICByZXR1cm4gb2JqVmFsdWUuY29uY2F0KHNyY1ZhbHVlKTtcbiAqICAgfVxuICogfSk7XG4gKlxuICogZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7IGE6IFsxLCAzXSwgYjogWzIsIDRdIH0pO1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VXaXRoPFQsIFM+KFxuICB0YXJnZXQ6IFQsXG4gIHNvdXJjZTogUyxcbiAgbWVyZ2U6ICh0YXJnZXRWYWx1ZTogYW55LCBzb3VyY2VWYWx1ZTogYW55LCBrZXk6IHN0cmluZywgdGFyZ2V0OiBULCBzb3VyY2U6IFMsIHN0YWNrOiBNYXA8YW55LCBhbnk+KSA9PiBhbnlcbik6IFQgJiBTO1xuXG4vKipcbiAqIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBvbmUgb3IgbW9yZSBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgYSBkZWVwIG1lcmdlLCByZWN1cnNpdmVseSBtZXJnaW5nIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXMuXG4gKiBJZiBhIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0IGlzIGFuIGFycmF5IG9yIG9iamVjdCBhbmQgdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgaW4gdGhlIHRhcmdldCBvYmplY3QgaXMgYWxzbyBhbiBhcnJheSBvciBvYmplY3QsIHRoZXkgd2lsbCBiZSBtZXJnZWQuXG4gKiBJZiBhIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0IGlzIGB1bmRlZmluZWRgLCBpdCB3aWxsIG5vdCBvdmVyd3JpdGUgYSBkZWZpbmVkIHByb3BlcnR5IGluIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBgbWVyZ2VgIGZ1bmN0aW9uIHRvIGNvbnRyb2wgaG93IHByb3BlcnRpZXMgYXJlIG1lcmdlZC4gVGhlIGBtZXJnZWAgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIHByb3BlcnR5IHRoYXQgaXMgYmVpbmcgbWVyZ2VkIGFuZCByZWNlaXZlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAtIGB0YXJnZXRWYWx1ZWA6IFRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIC0gYHNvdXJjZVZhbHVlYDogVGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgc291cmNlIG9iamVjdC5cbiAqIC0gYGtleWA6IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IGJlaW5nIG1lcmdlZC5cbiAqIC0gYHRhcmdldGA6IFRoZSB0YXJnZXQgb2JqZWN0LlxuICogLSBgc291cmNlYDogVGhlIHNvdXJjZSBvYmplY3QuXG4gKiAtIGBzdGFja2A6IEEgYE1hcGAgdXNlZCB0byBrZWVwIHRyYWNrIG9mIG9iamVjdHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQgdG8gaGFuZGxlIGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4gKlxuICogVGhlIGBtZXJnZWAgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgdmFsdWUgdG8gYmUgc2V0IGluIHRoZSB0YXJnZXQgb2JqZWN0LiBJZiBpdCByZXR1cm5zIGB1bmRlZmluZWRgLCBhIGRlZmF1bHQgZGVlcCBtZXJnZSB3aWxsIGJlIGFwcGxpZWQgZm9yIGFycmF5cyBhbmQgb2JqZWN0cy5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gY2FuIGhhbmRsZSBtdWx0aXBsZSBzb3VyY2Ugb2JqZWN0cyBhbmQgd2lsbCBtZXJnZSB0aGVtIGFsbCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T30gb2JqZWN0IC0gVGhlIHRhcmdldCBvYmplY3QgaW50byB3aGljaCB0aGUgc291cmNlIG9iamVjdCBwcm9wZXJ0aWVzIHdpbGwgYmUgbWVyZ2VkLiBUaGlzIG9iamVjdCBpcyBtb2RpZmllZCBpbiBwbGFjZS5cbiAqIEBwYXJhbSB7UzF9IHNvdXJjZTEgLSBUaGUgZmlyc3Qgc291cmNlIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB7UzJ9IHNvdXJjZTIgLSBUaGUgc2Vjb25kIHNvdXJjZSBvYmplY3QgdG8gYmUgbWVyZ2VkIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcGFyYW0geyh0YXJnZXRWYWx1ZTogYW55LCBzb3VyY2VWYWx1ZTogYW55LCBrZXk6IHN0cmluZywgdGFyZ2V0OiBhbnksIHNvdXJjZTogYW55LCBzdGFjazogTWFwPGFueSwgYW55PikgPT4gYW55fSBtZXJnZSAtIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2luZyBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge08gJiBTMSAmIFMyfSBUaGUgdXBkYXRlZCB0YXJnZXQgb2JqZWN0IHdpdGggcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2Ugb2JqZWN0cyBtZXJnZWQgaW4uXG4gKlxuICogQHRlbXBsYXRlIE8gLSBUeXBlIG9mIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHRlbXBsYXRlIFMxIC0gVHlwZSBvZiB0aGUgZmlyc3Qgc291cmNlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBTMiAtIFR5cGUgb2YgdGhlIHNlY29uZCBzb3VyY2Ugb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0YXJnZXQgPSB7IGE6IDEsIGI6IDIgfTtcbiAqIGNvbnN0IHNvdXJjZSA9IHsgYjogMywgYzogNCB9O1xuICpcbiAqIG1lcmdlV2l0aCh0YXJnZXQsIHNvdXJjZSwgKHRhcmdldFZhbHVlLCBzb3VyY2VWYWx1ZSkgPT4ge1xuICogICBpZiAodHlwZW9mIHRhcmdldFZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc291cmNlVmFsdWUgPT09ICdudW1iZXInKSB7XG4gKiAgICAgcmV0dXJuIHRhcmdldFZhbHVlICsgc291cmNlVmFsdWU7XG4gKiAgIH1cbiAqIH0pO1xuICogLy8gUmV0dXJucyB7IGE6IDEsIGI6IDUsIGM6IDQgfVxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRhcmdldCA9IHsgYTogWzFdLCBiOiBbMl0gfTtcbiAqIGNvbnN0IHNvdXJjZSA9IHsgYTogWzNdLCBiOiBbNF0gfTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBtZXJnZVdpdGgodGFyZ2V0LCBzb3VyY2UsIChvYmpWYWx1ZSwgc3JjVmFsdWUpID0+IHtcbiAqICAgaWYgKEFycmF5LmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBhOiBbMSwgM10sIGI6IFsyLCA0XSB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlV2l0aDxPLCBTMSwgUzI+KFxuICBvYmplY3Q6IE8sXG4gIHNvdXJjZTE6IFMxLFxuICBzb3VyY2UyOiBTMixcbiAgbWVyZ2U6ICh0YXJnZXRWYWx1ZTogYW55LCBzb3VyY2VWYWx1ZTogYW55LCBrZXk6IHN0cmluZywgdGFyZ2V0OiBhbnksIHNvdXJjZTogYW55LCBzdGFjazogTWFwPGFueSwgYW55PikgPT4gYW55XG4pOiBPICYgUzEgJiBTMjtcblxuLyoqXG4gKiBNZXJnZXMgdGhlIHByb3BlcnRpZXMgb2Ygb25lIG9yIG1vcmUgc291cmNlIG9iamVjdHMgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHBlcmZvcm1zIGEgZGVlcCBtZXJnZSwgcmVjdXJzaXZlbHkgbWVyZ2luZyBuZXN0ZWQgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICogSWYgYSBwcm9wZXJ0eSBpbiB0aGUgc291cmNlIG9iamVjdCBpcyBhbiBhcnJheSBvciBvYmplY3QgYW5kIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IGluIHRoZSB0YXJnZXQgb2JqZWN0IGlzIGFsc28gYW4gYXJyYXkgb3Igb2JqZWN0LCB0aGV5IHdpbGwgYmUgbWVyZ2VkLlxuICogSWYgYSBwcm9wZXJ0eSBpbiB0aGUgc291cmNlIG9iamVjdCBpcyBgdW5kZWZpbmVkYCwgaXQgd2lsbCBub3Qgb3ZlcndyaXRlIGEgZGVmaW5lZCBwcm9wZXJ0eSBpbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBZb3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYG1lcmdlYCBmdW5jdGlvbiB0byBjb250cm9sIGhvdyBwcm9wZXJ0aWVzIGFyZSBtZXJnZWQuIFRoZSBgbWVyZ2VgIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaCBwcm9wZXJ0eSB0aGF0IGlzIGJlaW5nIG1lcmdlZCBhbmQgcmVjZWl2ZXMgdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6XG4gKlxuICogLSBgdGFyZ2V0VmFsdWVgOiBUaGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgaW4gdGhlIHRhcmdldCBvYmplY3QuXG4gKiAtIGBzb3VyY2VWYWx1ZWA6IFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAtIGBrZXlgOiBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSBiZWluZyBtZXJnZWQuXG4gKiAtIGB0YXJnZXRgOiBUaGUgdGFyZ2V0IG9iamVjdC5cbiAqIC0gYHNvdXJjZWA6IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogLSBgc3RhY2tgOiBBIGBNYXBgIHVzZWQgdG8ga2VlcCB0cmFjayBvZiBvYmplY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gcHJvY2Vzc2VkIHRvIGhhbmRsZSBjaXJjdWxhciByZWZlcmVuY2VzLlxuICpcbiAqIFRoZSBgbWVyZ2VgIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIHZhbHVlIHRvIGJlIHNldCBpbiB0aGUgdGFyZ2V0IG9iamVjdC4gSWYgaXQgcmV0dXJucyBgdW5kZWZpbmVkYCwgYSBkZWZhdWx0IGRlZXAgbWVyZ2Ugd2lsbCBiZSBhcHBsaWVkIGZvciBhcnJheXMgYW5kIG9iamVjdHMuXG4gKlxuICogVGhlIGZ1bmN0aW9uIGNhbiBoYW5kbGUgbXVsdGlwbGUgc291cmNlIG9iamVjdHMgYW5kIHdpbGwgbWVyZ2UgdGhlbSBhbGwgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge099IG9iamVjdCAtIFRoZSB0YXJnZXQgb2JqZWN0IGludG8gd2hpY2ggdGhlIHNvdXJjZSBvYmplY3QgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZC4gVGhpcyBvYmplY3QgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gKiBAcGFyYW0ge1MxfSBzb3VyY2UxIC0gVGhlIGZpcnN0IHNvdXJjZSBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHtTMn0gc291cmNlMiAtIFRoZSBzZWNvbmQgc291cmNlIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIHdpbGwgYmUgbWVyZ2VkIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAcGFyYW0ge1MzfSBzb3VyY2UzIC0gVGhlIHRoaXJkIHNvdXJjZSBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHsodGFyZ2V0VmFsdWU6IGFueSwgc291cmNlVmFsdWU6IGFueSwga2V5OiBzdHJpbmcsIHRhcmdldDogYW55LCBzb3VyY2U6IGFueSwgc3RhY2s6IE1hcDxhbnksIGFueT4pID0+IGFueX0gbWVyZ2UgLSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdpbmcgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtPICYgUzEgJiBTMiAmIFMzfSBUaGUgdXBkYXRlZCB0YXJnZXQgb2JqZWN0IHdpdGggcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2Ugb2JqZWN0KHMpIG1lcmdlZCBpbi5cbiAqXG4gKiBAdGVtcGxhdGUgTyAtIFR5cGUgb2YgdGhlIHRhcmdldCBvYmplY3QuXG4gKiBAdGVtcGxhdGUgUzEgLSBUeXBlIG9mIHRoZSBmaXJzdCBzb3VyY2Ugb2JqZWN0LlxuICogQHRlbXBsYXRlIFMyIC0gVHlwZSBvZiB0aGUgc2Vjb25kIHNvdXJjZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgUzMgLSBUeXBlIG9mIHRoZSB0aGlyZCBzb3VyY2Ugb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0YXJnZXQgPSB7IGE6IDEsIGI6IDIgfTtcbiAqIGNvbnN0IHNvdXJjZSA9IHsgYjogMywgYzogNCB9O1xuICpcbiAqIG1lcmdlV2l0aCh0YXJnZXQsIHNvdXJjZSwgKHRhcmdldFZhbHVlLCBzb3VyY2VWYWx1ZSkgPT4ge1xuICogICBpZiAodHlwZW9mIHRhcmdldFZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc291cmNlVmFsdWUgPT09ICdudW1iZXInKSB7XG4gKiAgICAgcmV0dXJuIHRhcmdldFZhbHVlICsgc291cmNlVmFsdWU7XG4gKiAgIH1cbiAqIH0pO1xuICogLy8gUmV0dXJucyB7IGE6IDEsIGI6IDUsIGM6IDQgfVxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHRhcmdldCA9IHsgYTogWzFdLCBiOiBbMl0gfTtcbiAqIGNvbnN0IHNvdXJjZSA9IHsgYTogWzNdLCBiOiBbNF0gfTtcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBtZXJnZVdpdGgodGFyZ2V0LCBzb3VyY2UsIChvYmpWYWx1ZSwgc3JjVmFsdWUpID0+IHtcbiAqICAgaWYgKEFycmF5LmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBhOiBbMSwgM10sIGI6IFsyLCA0XSB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlV2l0aDxPLCBTMSwgUzIsIFMzPihcbiAgb2JqZWN0OiBPLFxuICBzb3VyY2UxOiBTMSxcbiAgc291cmNlMjogUzIsXG4gIHNvdXJjZTM6IFMzLFxuICBtZXJnZTogKHRhcmdldFZhbHVlOiBhbnksIHNvdXJjZVZhbHVlOiBhbnksIGtleTogc3RyaW5nLCB0YXJnZXQ6IGFueSwgc291cmNlOiBhbnksIHN0YWNrOiBNYXA8YW55LCBhbnk+KSA9PiBhbnlcbik6IE8gJiBTMSAmIFMyICYgUzM7XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIG9uZSBvciBtb3JlIHNvdXJjZSBvYmplY3RzIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIGRlZXAgbWVyZ2UsIHJlY3Vyc2l2ZWx5IG1lcmdpbmcgbmVzdGVkIG9iamVjdHMgYW5kIGFycmF5cy5cbiAqIElmIGEgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QgaXMgYW4gYXJyYXkgb3Igb2JqZWN0IGFuZCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpbiB0aGUgdGFyZ2V0IG9iamVjdCBpcyBhbHNvIGFuIGFycmF5IG9yIG9iamVjdCwgdGhleSB3aWxsIGJlIG1lcmdlZC5cbiAqIElmIGEgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QgaXMgYHVuZGVmaW5lZGAsIGl0IHdpbGwgbm90IG92ZXJ3cml0ZSBhIGRlZmluZWQgcHJvcGVydHkgaW4gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogWW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBtZXJnZWAgZnVuY3Rpb24gdG8gY29udHJvbCBob3cgcHJvcGVydGllcyBhcmUgbWVyZ2VkLiBUaGUgYG1lcmdlYCBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2ggcHJvcGVydHkgdGhhdCBpcyBiZWluZyBtZXJnZWQgYW5kIHJlY2VpdmVzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICpcbiAqIC0gYHRhcmdldFZhbHVlYDogVGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGluIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogLSBgc291cmNlVmFsdWVgOiBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogLSBga2V5YDogVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgYmVpbmcgbWVyZ2VkLlxuICogLSBgdGFyZ2V0YDogVGhlIHRhcmdldCBvYmplY3QuXG4gKiAtIGBzb3VyY2VgOiBUaGUgc291cmNlIG9iamVjdC5cbiAqIC0gYHN0YWNrYDogQSBgTWFwYCB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygb2JqZWN0cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHByb2Nlc3NlZCB0byBoYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlcy5cbiAqXG4gKiBUaGUgYG1lcmdlYCBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0byBiZSBzZXQgaW4gdGhlIHRhcmdldCBvYmplY3QuIElmIGl0IHJldHVybnMgYHVuZGVmaW5lZGAsIGEgZGVmYXVsdCBkZWVwIG1lcmdlIHdpbGwgYmUgYXBwbGllZCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBjYW4gaGFuZGxlIG11bHRpcGxlIHNvdXJjZSBvYmplY3RzIGFuZCB3aWxsIG1lcmdlIHRoZW0gYWxsIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPfSBvYmplY3QgLSBUaGUgdGFyZ2V0IG9iamVjdCBpbnRvIHdoaWNoIHRoZSBzb3VyY2Ugb2JqZWN0IHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQuIFRoaXMgb2JqZWN0IGlzIG1vZGlmaWVkIGluIHBsYWNlLlxuICogQHBhcmFtIHtTMX0gc291cmNlMSAtIFRoZSBmaXJzdCBzb3VyY2Ugb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB7UzJ9IHNvdXJjZTIgLSBUaGUgc2Vjb25kIHNvdXJjZSBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHtTM30gc291cmNlMyAtIFRoZSB0aGlyZCBzb3VyY2Ugb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB7UzR9IHNvdXJjZTQgLSBUaGUgZm91cnRoIHNvdXJjZSBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHsodGFyZ2V0VmFsdWU6IGFueSwgc291cmNlVmFsdWU6IGFueSwga2V5OiBzdHJpbmcsIHRhcmdldDogYW55LCBzb3VyY2U6IGFueSwgc3RhY2s6IE1hcDxhbnksIGFueT4pID0+IGFueX0gbWVyZ2UgLSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdpbmcgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIHtPICYgUzEgJiBTMiAmIFMzICYgUzR9IFRoZSB1cGRhdGVkIHRhcmdldCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNvdXJjZSBvYmplY3QocykgbWVyZ2VkIGluLlxuICpcbiAqIEB0ZW1wbGF0ZSBPIC0gVHlwZSBvZiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBTMSAtIFR5cGUgb2YgdGhlIGZpcnN0IHNvdXJjZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgUzIgLSBUeXBlIG9mIHRoZSBzZWNvbmQgc291cmNlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBTMyAtIFR5cGUgb2YgdGhlIHRoaXJkIHNvdXJjZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgUzQgLSBUeXBlIG9mIHRoZSBmb3VydGggc291cmNlIG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGFyZ2V0ID0geyBhOiAxLCBiOiAyIH07XG4gKiBjb25zdCBzb3VyY2UgPSB7IGI6IDMsIGM6IDQgfTtcbiAqXG4gKiBtZXJnZVdpdGgodGFyZ2V0LCBzb3VyY2UsICh0YXJnZXRWYWx1ZSwgc291cmNlVmFsdWUpID0+IHtcbiAqICAgaWYgKHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHNvdXJjZVZhbHVlID09PSAnbnVtYmVyJykge1xuICogICAgIHJldHVybiB0YXJnZXRWYWx1ZSArIHNvdXJjZVZhbHVlO1xuICogICB9XG4gKiB9KTtcbiAqIC8vIFJldHVybnMgeyBhOiAxLCBiOiA1LCBjOiA0IH1cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0YXJnZXQgPSB7IGE6IFsxXSwgYjogWzJdIH07XG4gKiBjb25zdCBzb3VyY2UgPSB7IGE6IFszXSwgYjogWzRdIH07XG4gKlxuICogY29uc3QgcmVzdWx0ID0gbWVyZ2VXaXRoKHRhcmdldCwgc291cmNlLCAob2JqVmFsdWUsIHNyY1ZhbHVlKSA9PiB7XG4gKiAgIGlmIChBcnJheS5pc0FycmF5KG9ialZhbHVlKSkge1xuICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgYTogWzEsIDNdLCBiOiBbMiwgNF0gfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVdpdGg8TywgUzEsIFMyLCBTMywgUzQ+KFxuICBvYmplY3Q6IE8sXG4gIHNvdXJjZTE6IFMxLFxuICBzb3VyY2UyOiBTMixcbiAgc291cmNlMzogUzMsXG4gIHNvdXJjZTQ6IFM0LFxuICBtZXJnZTogKHRhcmdldFZhbHVlOiBhbnksIHNvdXJjZVZhbHVlOiBhbnksIGtleTogc3RyaW5nLCB0YXJnZXQ6IGFueSwgc291cmNlOiBhbnksIHN0YWNrOiBNYXA8YW55LCBhbnk+KSA9PiBhbnlcbik6IE8gJiBTMSAmIFMyICYgUzM7XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIG9uZSBvciBtb3JlIHNvdXJjZSBvYmplY3RzIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIGRlZXAgbWVyZ2UsIHJlY3Vyc2l2ZWx5IG1lcmdpbmcgbmVzdGVkIG9iamVjdHMgYW5kIGFycmF5cy5cbiAqIElmIGEgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QgaXMgYW4gYXJyYXkgb3Igb2JqZWN0IGFuZCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpbiB0aGUgdGFyZ2V0IG9iamVjdCBpcyBhbHNvIGFuIGFycmF5IG9yIG9iamVjdCwgdGhleSB3aWxsIGJlIG1lcmdlZC5cbiAqIElmIGEgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QgaXMgYHVuZGVmaW5lZGAsIGl0IHdpbGwgbm90IG92ZXJ3cml0ZSBhIGRlZmluZWQgcHJvcGVydHkgaW4gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogWW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBtZXJnZWAgZnVuY3Rpb24gdG8gY29udHJvbCBob3cgcHJvcGVydGllcyBhcmUgbWVyZ2VkLiBUaGUgYG1lcmdlYCBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2ggcHJvcGVydHkgdGhhdCBpcyBiZWluZyBtZXJnZWQgYW5kIHJlY2VpdmVzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICpcbiAqIC0gYHRhcmdldFZhbHVlYDogVGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGluIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogLSBgc291cmNlVmFsdWVgOiBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogLSBga2V5YDogVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgYmVpbmcgbWVyZ2VkLlxuICogLSBgdGFyZ2V0YDogVGhlIHRhcmdldCBvYmplY3QuXG4gKiAtIGBzb3VyY2VgOiBUaGUgc291cmNlIG9iamVjdC5cbiAqIC0gYHN0YWNrYDogQSBgTWFwYCB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygb2JqZWN0cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHByb2Nlc3NlZCB0byBoYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlcy5cbiAqXG4gKiBUaGUgYG1lcmdlYCBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0byBiZSBzZXQgaW4gdGhlIHRhcmdldCBvYmplY3QuIElmIGl0IHJldHVybnMgYHVuZGVmaW5lZGAsIGEgZGVmYXVsdCBkZWVwIG1lcmdlIHdpbGwgYmUgYXBwbGllZCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBjYW4gaGFuZGxlIG11bHRpcGxlIHNvdXJjZSBvYmplY3RzIGFuZCB3aWxsIG1lcmdlIHRoZW0gYWxsIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHthbnl9IG9iamVjdCAtIFRoZSB0YXJnZXQgb2JqZWN0IGludG8gd2hpY2ggdGhlIHNvdXJjZSBvYmplY3QgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZC4gVGhpcyBvYmplY3QgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gKiBAcGFyYW0ge2FueVtdfSBzb3VyY2VzIC0gVGhlIHNvdXJjZSBvYmplY3RzIHdob3NlIHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uYW55fSBvdGhlckFyZ3MgLSBBZGRpdGlvbmFsIHNvdXJjZSBvYmplY3RzIHRvIG1lcmdlIGludG8gdGhlIHRhcmdldCBvYmplY3QsIGluY2x1ZGluZyB0aGUgY3VzdG9tIGBtZXJnZWAgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7YW55fSBUaGUgdXBkYXRlZCB0YXJnZXQgb2JqZWN0IHdpdGggcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2Ugb2JqZWN0KHMpIG1lcmdlZCBpbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGFyZ2V0ID0geyBhOiAxLCBiOiAyIH07XG4gKiBjb25zdCBzb3VyY2UgPSB7IGI6IDMsIGM6IDQgfTtcbiAqXG4gKiBtZXJnZVdpdGgodGFyZ2V0LCBzb3VyY2UsICh0YXJnZXRWYWx1ZSwgc291cmNlVmFsdWUpID0+IHtcbiAqICAgaWYgKHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHNvdXJjZVZhbHVlID09PSAnbnVtYmVyJykge1xuICogICAgIHJldHVybiB0YXJnZXRWYWx1ZSArIHNvdXJjZVZhbHVlO1xuICogICB9XG4gKiB9KTtcbiAqIC8vIFJldHVybnMgeyBhOiAxLCBiOiA1LCBjOiA0IH1cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0YXJnZXQgPSB7IGE6IFsxXSwgYjogWzJdIH07XG4gKiBjb25zdCBzb3VyY2UgPSB7IGE6IFszXSwgYjogWzRdIH07XG4gKlxuICogY29uc3QgcmVzdWx0ID0gbWVyZ2VXaXRoKHRhcmdldCwgc291cmNlLCAob2JqVmFsdWUsIHNyY1ZhbHVlKSA9PiB7XG4gKiAgIGlmIChBcnJheS5pc0FycmF5KG9ialZhbHVlKSkge1xuICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgYTogWzEsIDNdLCBiOiBbMiwgNF0gfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVdpdGgob2JqZWN0OiBhbnksIC4uLm90aGVyQXJnczogYW55W10pOiBhbnk7XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIG9uZSBvciBtb3JlIHNvdXJjZSBvYmplY3RzIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBhIGRlZXAgbWVyZ2UsIHJlY3Vyc2l2ZWx5IG1lcmdpbmcgbmVzdGVkIG9iamVjdHMgYW5kIGFycmF5cy5cbiAqIElmIGEgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QgaXMgYW4gYXJyYXkgb3Igb2JqZWN0IGFuZCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpbiB0aGUgdGFyZ2V0IG9iamVjdCBpcyBhbHNvIGFuIGFycmF5IG9yIG9iamVjdCwgdGhleSB3aWxsIGJlIG1lcmdlZC5cbiAqIElmIGEgcHJvcGVydHkgaW4gdGhlIHNvdXJjZSBvYmplY3QgaXMgYHVuZGVmaW5lZGAsIGl0IHdpbGwgbm90IG92ZXJ3cml0ZSBhIGRlZmluZWQgcHJvcGVydHkgaW4gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogWW91IGNhbiBwcm92aWRlIGEgY3VzdG9tIGBtZXJnZWAgZnVuY3Rpb24gdG8gY29udHJvbCBob3cgcHJvcGVydGllcyBhcmUgbWVyZ2VkLiBUaGUgYG1lcmdlYCBmdW5jdGlvbiBpcyBjYWxsZWQgZm9yIGVhY2ggcHJvcGVydHkgdGhhdCBpcyBiZWluZyBtZXJnZWQgYW5kIHJlY2VpdmVzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICpcbiAqIC0gYHRhcmdldFZhbHVlYDogVGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGluIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogLSBgc291cmNlVmFsdWVgOiBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5IGluIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogLSBga2V5YDogVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgYmVpbmcgbWVyZ2VkLlxuICogLSBgdGFyZ2V0YDogVGhlIHRhcmdldCBvYmplY3QuXG4gKiAtIGBzb3VyY2VgOiBUaGUgc291cmNlIG9iamVjdC5cbiAqIC0gYHN0YWNrYDogQSBgTWFwYCB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygb2JqZWN0cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHByb2Nlc3NlZCB0byBoYW5kbGUgY2lyY3VsYXIgcmVmZXJlbmNlcy5cbiAqXG4gKiBUaGUgYG1lcmdlYCBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0byBiZSBzZXQgaW4gdGhlIHRhcmdldCBvYmplY3QuIElmIGl0IHJldHVybnMgYHVuZGVmaW5lZGAsIGEgZGVmYXVsdCBkZWVwIG1lcmdlIHdpbGwgYmUgYXBwbGllZCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFRoZSBmdW5jdGlvbiBjYW4gaGFuZGxlIG11bHRpcGxlIHNvdXJjZSBvYmplY3RzIGFuZCB3aWxsIG1lcmdlIHRoZW0gYWxsIGludG8gdGhlIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHthbnl9IG9iamVjdCAtIFRoZSB0YXJnZXQgb2JqZWN0IGludG8gd2hpY2ggdGhlIHNvdXJjZSBvYmplY3QgcHJvcGVydGllcyB3aWxsIGJlIG1lcmdlZC4gVGhpcyBvYmplY3QgaXMgbW9kaWZpZWQgaW4gcGxhY2UuXG4gKiBAcGFyYW0ge2FueVtdfSBzb3VyY2VzIC0gVGhlIHNvdXJjZSBvYmplY3RzIHdob3NlIHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQgaW50byB0aGUgdGFyZ2V0IG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uYW55fSBvdGhlckFyZ3MgLSBBZGRpdGlvbmFsIHNvdXJjZSBvYmplY3RzIHRvIG1lcmdlIGludG8gdGhlIHRhcmdldCBvYmplY3QsIGluY2x1ZGluZyB0aGUgY3VzdG9tIGBtZXJnZWAgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7YW55fSBUaGUgdXBkYXRlZCB0YXJnZXQgb2JqZWN0IHdpdGggcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2Ugb2JqZWN0KHMpIG1lcmdlZCBpbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgdGFyZ2V0ID0geyBhOiAxLCBiOiAyIH07XG4gKiBjb25zdCBzb3VyY2UgPSB7IGI6IDMsIGM6IDQgfTtcbiAqXG4gKiBtZXJnZVdpdGgodGFyZ2V0LCBzb3VyY2UsICh0YXJnZXRWYWx1ZSwgc291cmNlVmFsdWUpID0+IHtcbiAqICAgaWYgKHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHNvdXJjZVZhbHVlID09PSAnbnVtYmVyJykge1xuICogICAgIHJldHVybiB0YXJnZXRWYWx1ZSArIHNvdXJjZVZhbHVlO1xuICogICB9XG4gKiB9KTtcbiAqIC8vIFJldHVybnMgeyBhOiAxLCBiOiA1LCBjOiA0IH1cbiAqIEBleGFtcGxlXG4gKiBjb25zdCB0YXJnZXQgPSB7IGE6IFsxXSwgYjogWzJdIH07XG4gKiBjb25zdCBzb3VyY2UgPSB7IGE6IFszXSwgYjogWzRdIH07XG4gKlxuICogY29uc3QgcmVzdWx0ID0gbWVyZ2VXaXRoKHRhcmdldCwgc291cmNlLCAob2JqVmFsdWUsIHNyY1ZhbHVlKSA9PiB7XG4gKiAgIGlmIChBcnJheS5pc0FycmF5KG9ialZhbHVlKSkge1xuICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiBleHBlY3QocmVzdWx0KS50b0VxdWFsKHsgYTogWzEsIDNdLCBiOiBbMiwgNF0gfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVdpdGgob2JqZWN0OiBhbnksIC4uLm90aGVyQXJnczogYW55W10pOiBhbnkge1xuICBjb25zdCBzb3VyY2VzID0gb3RoZXJBcmdzLnNsaWNlKDAsIC0xKTtcbiAgY29uc3QgbWVyZ2UgPSBvdGhlckFyZ3Nbb3RoZXJBcmdzLmxlbmd0aCAtIDFdIGFzIChcbiAgICB0YXJnZXRWYWx1ZTogYW55LFxuICAgIHNvdXJjZVZhbHVlOiBhbnksXG4gICAga2V5OiBzdHJpbmcgfCBzeW1ib2wsXG4gICAgdGFyZ2V0OiBhbnksXG4gICAgc291cmNlOiBhbnksXG4gICAgc3RhY2s6IE1hcDxhbnksIGFueT5cbiAgKSA9PiBhbnk7XG5cbiAgbGV0IHJlc3VsdCA9IG9iamVjdDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzW2ldO1xuXG4gICAgcmVzdWx0ID0gbWVyZ2VXaXRoRGVlcChyZXN1bHQsIHNvdXJjZSwgbWVyZ2UsIG5ldyBNYXAoKSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtZXJnZVdpdGhEZWVwKFxuICB0YXJnZXQ6IGFueSxcbiAgc291cmNlOiBhbnksXG4gIG1lcmdlOiAoXG4gICAgdGFyZ2V0VmFsdWU6IGFueSxcbiAgICBzb3VyY2VWYWx1ZTogYW55LFxuICAgIGtleTogc3RyaW5nIHwgc3ltYm9sLFxuICAgIHRhcmdldDogYW55LFxuICAgIHNvdXJjZTogYW55LFxuICAgIHN0YWNrOiBNYXA8YW55LCBhbnk+XG4gICkgPT4gYW55LFxuICBzdGFjazogTWFwPGFueSwgYW55PlxuKSB7XG4gIGlmIChpc1ByaW1pdGl2ZSh0YXJnZXQpKSB7XG4gICAgdGFyZ2V0ID0gT2JqZWN0KHRhcmdldCk7XG4gIH1cblxuICBpZiAoc291cmNlID09IG51bGwgfHwgdHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgaWYgKHN0YWNrLmhhcyhzb3VyY2UpKSB7XG4gICAgcmV0dXJuIGNsb25lKHN0YWNrLmdldChzb3VyY2UpKTtcbiAgfVxuXG4gIHN0YWNrLnNldChzb3VyY2UsIHRhcmdldCk7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgIHNvdXJjZSA9IHNvdXJjZS5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzb3VyY2VbaV0gPSBzb3VyY2VbaV0gPz8gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNvdXJjZUtleXMgPSBbLi4uT2JqZWN0LmtleXMoc291cmNlKSwgLi4uZ2V0U3ltYm9scyhzb3VyY2UpXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuXG4gICAgbGV0IHNvdXJjZVZhbHVlID0gc291cmNlW2tleV07XG4gICAgbGV0IHRhcmdldFZhbHVlID0gdGFyZ2V0W2tleV07XG5cbiAgICBpZiAoaXNBcmd1bWVudHMoc291cmNlVmFsdWUpKSB7XG4gICAgICBzb3VyY2VWYWx1ZSA9IHsgLi4uc291cmNlVmFsdWUgfTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcmd1bWVudHModGFyZ2V0VmFsdWUpKSB7XG4gICAgICB0YXJnZXRWYWx1ZSA9IHsgLi4udGFyZ2V0VmFsdWUgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgQnVmZmVyLmlzQnVmZmVyKHNvdXJjZVZhbHVlKSkge1xuICAgICAgc291cmNlVmFsdWUgPSBjbG9uZURlZXAoc291cmNlVmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVZhbHVlKSkge1xuICAgICAgaWYgKHR5cGVvZiB0YXJnZXRWYWx1ZSA9PT0gJ29iamVjdCcgJiYgdGFyZ2V0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBjbG9uZWQ6IGFueSA9IFtdO1xuICAgICAgICBjb25zdCB0YXJnZXRLZXlzID0gUmVmbGVjdC5vd25LZXlzKHRhcmdldFZhbHVlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRLZXkgPSB0YXJnZXRLZXlzW2ldO1xuICAgICAgICAgIGNsb25lZFt0YXJnZXRLZXldID0gdGFyZ2V0VmFsdWVbdGFyZ2V0S2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFZhbHVlID0gY2xvbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0VmFsdWUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtZXJnZWQgPSBtZXJnZSh0YXJnZXRWYWx1ZSwgc291cmNlVmFsdWUsIGtleSwgdGFyZ2V0LCBzb3VyY2UsIHN0YWNrKTtcblxuICAgIGlmIChtZXJnZWQgIT0gbnVsbCkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZWQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVZhbHVlKSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZVdpdGhEZWVwKHRhcmdldFZhbHVlLCBzb3VyY2VWYWx1ZSwgbWVyZ2UsIHN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0TGlrZSh0YXJnZXRWYWx1ZSkgJiYgaXNPYmplY3RMaWtlKHNvdXJjZVZhbHVlKSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZVdpdGhEZWVwKHRhcmdldFZhbHVlLCBzb3VyY2VWYWx1ZSwgbWVyZ2UsIHN0YWNrKTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldFZhbHVlID09IG51bGwgJiYgaXNQbGFpbk9iamVjdChzb3VyY2VWYWx1ZSkpIHtcbiAgICAgIHRhcmdldFtrZXldID0gbWVyZ2VXaXRoRGVlcCh7fSwgc291cmNlVmFsdWUsIG1lcmdlLCBzdGFjayk7XG4gICAgfSBlbHNlIGlmICh0YXJnZXRWYWx1ZSA9PSBudWxsICYmIGlzVHlwZWRBcnJheShzb3VyY2VWYWx1ZSkpIHtcbiAgICAgIHRhcmdldFtrZXldID0gY2xvbmVEZWVwKHNvdXJjZVZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHRhcmdldFZhbHVlID09PSB1bmRlZmluZWQgfHwgc291cmNlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsU0FBUyxRQUFRLGlCQUFpQjtBQUMzQyxTQUFTLEtBQUssUUFBUSx3QkFBd0I7QUFDOUMsU0FBUyxXQUFXLFFBQVEsaUNBQWlDO0FBQzdELFNBQVMsVUFBVSxRQUFRLDZCQUE2QjtBQUN4RCxTQUFTLFdBQVcsUUFBUSw4QkFBOEI7QUFDMUQsU0FBUyxZQUFZLFFBQVEsK0JBQStCO0FBQzVELFNBQVMsYUFBYSxRQUFRLGdDQUFnQztBQUM5RCxTQUFTLFlBQVksUUFBUSwrQkFBK0I7QUEyUzVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBOENDLEdBQ0QsT0FBTyxTQUFTLFVBQVUsTUFBVyxFQUFFLEdBQUcsU0FBZ0I7RUFDeEQsTUFBTSxVQUFVLFVBQVUsS0FBSyxDQUFDLEdBQUcsQ0FBQztFQUNwQyxNQUFNLFFBQVEsU0FBUyxDQUFDLFVBQVUsTUFBTSxHQUFHLEVBQUU7RUFTN0MsSUFBSSxTQUFTO0VBRWIsSUFBSyxJQUFJLElBQUksR0FBRyxJQUFJLFFBQVEsTUFBTSxFQUFFLElBQUs7SUFDdkMsTUFBTSxTQUFTLE9BQU8sQ0FBQyxFQUFFO0lBRXpCLFNBQVMsY0FBYyxRQUFRLFFBQVEsT0FBTyxJQUFJO0VBQ3BEO0VBRUEsT0FBTztBQUNUO0FBRUEsU0FBUyxjQUNQLE1BQVcsRUFDWCxNQUFXLEVBQ1gsS0FPUSxFQUNSLEtBQW9CO0VBRXBCLElBQUksWUFBWSxTQUFTO0lBQ3ZCLFNBQVMsT0FBTztFQUNsQjtFQUVBLElBQUksVUFBVSxRQUFRLE9BQU8sV0FBVyxVQUFVO0lBQ2hELE9BQU87RUFDVDtFQUVBLElBQUksTUFBTSxHQUFHLENBQUMsU0FBUztJQUNyQixPQUFPLE1BQU0sTUFBTSxHQUFHLENBQUM7RUFDekI7RUFFQSxNQUFNLEdBQUcsQ0FBQyxRQUFRO0VBRWxCLElBQUksTUFBTSxPQUFPLENBQUMsU0FBUztJQUN6QixTQUFTLE9BQU8sS0FBSztJQUNyQixJQUFLLElBQUksSUFBSSxHQUFHLElBQUksT0FBTyxNQUFNLEVBQUUsSUFBSztNQUN0QyxNQUFNLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLElBQUk7SUFDM0I7RUFDRjtFQUVBLE1BQU0sYUFBYTtPQUFJLE9BQU8sSUFBSSxDQUFDO09BQVksV0FBVztHQUFRO0VBRWxFLElBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxXQUFXLE1BQU0sRUFBRSxJQUFLO0lBQzFDLE1BQU0sTUFBTSxVQUFVLENBQUMsRUFBRTtJQUV6QixJQUFJLGNBQWMsTUFBTSxDQUFDLElBQUk7SUFDN0IsSUFBSSxjQUFjLE1BQU0sQ0FBQyxJQUFJO0lBRTdCLElBQUksWUFBWSxjQUFjO01BQzVCLGNBQWM7UUFBRSxHQUFHLFdBQVc7TUFBQztJQUNqQztJQUVBLElBQUksWUFBWSxjQUFjO01BQzVCLGNBQWM7UUFBRSxHQUFHLFdBQVc7TUFBQztJQUNqQztJQUVBLElBQUksT0FBTyxXQUFXLGVBQWUsT0FBTyxRQUFRLENBQUMsY0FBYztNQUNqRSxjQUFjLFVBQVU7SUFDMUI7SUFFQSxJQUFJLE1BQU0sT0FBTyxDQUFDLGNBQWM7TUFDOUIsSUFBSSxPQUFPLGdCQUFnQixZQUFZLGVBQWUsTUFBTTtRQUMxRCxNQUFNLFNBQWMsRUFBRTtRQUN0QixNQUFNLGFBQWEsUUFBUSxPQUFPLENBQUM7UUFFbkMsSUFBSyxJQUFJLElBQUksR0FBRyxJQUFJLFdBQVcsTUFBTSxFQUFFLElBQUs7VUFDMUMsTUFBTSxZQUFZLFVBQVUsQ0FBQyxFQUFFO1VBQy9CLE1BQU0sQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDLFVBQVU7UUFDNUM7UUFFQSxjQUFjO01BQ2hCLE9BQU87UUFDTCxjQUFjLEVBQUU7TUFDbEI7SUFDRjtJQUVBLE1BQU0sU0FBUyxNQUFNLGFBQWEsYUFBYSxLQUFLLFFBQVEsUUFBUTtJQUVwRSxJQUFJLFVBQVUsTUFBTTtNQUNsQixNQUFNLENBQUMsSUFBSSxHQUFHO0lBQ2hCLE9BQU8sSUFBSSxNQUFNLE9BQU8sQ0FBQyxjQUFjO01BQ3JDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsY0FBYyxhQUFhLGFBQWEsT0FBTztJQUMvRCxPQUFPLElBQUksYUFBYSxnQkFBZ0IsYUFBYSxjQUFjO01BQ2pFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsY0FBYyxhQUFhLGFBQWEsT0FBTztJQUMvRCxPQUFPLElBQUksZUFBZSxRQUFRLGNBQWMsY0FBYztNQUM1RCxNQUFNLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQyxHQUFHLGFBQWEsT0FBTztJQUN0RCxPQUFPLElBQUksZUFBZSxRQUFRLGFBQWEsY0FBYztNQUMzRCxNQUFNLENBQUMsSUFBSSxHQUFHLFVBQVU7SUFDMUIsT0FBTyxJQUFJLGdCQUFnQixhQUFhLGdCQUFnQixXQUFXO01BQ2pFLE1BQU0sQ0FBQyxJQUFJLEdBQUc7SUFDaEI7RUFDRjtFQUVBLE9BQU87QUFDVCJ9
// denoCacheMetadata=14958578037094839551,8261641255716111115