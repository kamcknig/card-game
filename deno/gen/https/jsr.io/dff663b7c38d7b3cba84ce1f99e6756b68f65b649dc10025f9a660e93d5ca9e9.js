import { isDeepKey } from '../_internal/isDeepKey.ts';
import { toKey } from '../_internal/toKey.ts';
import { toPath } from '../util/toPath.ts';
/**
 * Retrieves the value at a given path from an object. If the resolved value is undefined, the defaultValue is returned instead.
 *
 * @param {unknown} object - The object to query.
 * @param {PropertyKey | readonly PropertyKey[]} path - The path of the property to get.
 * @param {unknown} [defaultValue] - The value returned if the resolved value is undefined.
 * @returns {any} - Returns the resolved value.
 */ export function get(object, path, defaultValue) {
  if (object == null) {
    return defaultValue;
  }
  switch(typeof path){
    case 'string':
      {
        const result = object[path];
        if (result === undefined) {
          if (isDeepKey(path)) {
            return get(object, toPath(path), defaultValue);
          } else {
            return defaultValue;
          }
        }
        return result;
      }
    case 'number':
    case 'symbol':
      {
        if (typeof path === 'number') {
          path = toKey(path);
        }
        const result = object[path];
        if (result === undefined) {
          return defaultValue;
        }
        return result;
      }
    default:
      {
        if (Array.isArray(path)) {
          return getWithPath(object, path, defaultValue);
        }
        if (Object.is(path?.valueOf(), -0)) {
          path = '-0';
        } else {
          path = String(path);
        }
        const result = object[path];
        if (result === undefined) {
          return defaultValue;
        }
        return result;
      }
  }
}
function getWithPath(object, path, defaultValue) {
  if (path.length === 0) {
    return defaultValue;
  }
  let current = object;
  for(let index = 0; index < path.length; index++){
    if (current == null) {
      return defaultValue;
    }
    current = current[path[index]];
  }
  if (current === undefined) {
    return defaultValue;
  }
  return current;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vanNyLmlvL0Blcy10b29sa2l0L2VzLXRvb2xraXQvMS4zMy4wL3NyYy9jb21wYXQvb2JqZWN0L2dldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEdldCB9IGZyb20gJy4vZ2V0LnR5cGVzLnRzJztcbmltcG9ydCB7IGlzRGVlcEtleSB9IGZyb20gJy4uL19pbnRlcm5hbC9pc0RlZXBLZXkudHMnO1xuaW1wb3J0IHsgdG9LZXkgfSBmcm9tICcuLi9faW50ZXJuYWwvdG9LZXkudHMnO1xuaW1wb3J0IHsgdG9QYXRoIH0gZnJvbSAnLi4vdXRpbC90b1BhdGgudHMnO1xuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYW4gb2JqZWN0LiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEsgLSBUaGUgdHlwZSBvZiB0aGUga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgRCAtIFRoZSB0eXBlIG9mIHRoZSBkZWZhdWx0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7VH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7SyB8IFtLXX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7VFtLXX0gLSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldDxUIGV4dGVuZHMgb2JqZWN0LCBLIGV4dGVuZHMga2V5b2YgVD4ob2JqZWN0OiBULCBwYXRoOiBLIHwgcmVhZG9ubHkgW0tdKTogVFtLXTtcbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggZnJvbSBhbiBvYmplY3QuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZSBkZWZhdWx0VmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSyAtIFRoZSB0eXBlIG9mIHRoZSBrZXkgaW4gdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1QgfCBudWxsIHwgdW5kZWZpbmVkfSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtLIHwgW0tdfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtUW0tdIHwgdW5kZWZpbmVkfSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQgZXh0ZW5kcyBvYmplY3QsIEsgZXh0ZW5kcyBrZXlvZiBUPihcbiAgb2JqZWN0OiBUIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgcGF0aDogSyB8IHJlYWRvbmx5IFtLXVxuKTogVFtLXSB8IHVuZGVmaW5lZDtcbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggZnJvbSBhbiBvYmplY3QuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZSBkZWZhdWx0VmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSyAtIFRoZSB0eXBlIG9mIHRoZSBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBEIC0gVGhlIHR5cGUgb2YgdGhlIGRlZmF1bHQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtUIHwgbnVsbCB8IHVuZGVmaW5lZH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7SyB8IFtLXX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0ge0R9IGRlZmF1bHRWYWx1ZSAtIFRoZSB2YWx1ZSByZXR1cm5lZCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICogQHJldHVybnMge0V4Y2x1ZGU8VFtLXSwgdW5kZWZpbmVkPiB8IER9IC0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8VCBleHRlbmRzIG9iamVjdCwgSyBleHRlbmRzIGtleW9mIFQsIEQ+KFxuICBvYmplY3Q6IFQgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBwYXRoOiBLIHwgcmVhZG9ubHkgW0tdLFxuICBkZWZhdWx0VmFsdWU6IERcbik6IEV4Y2x1ZGU8VFtLXSwgdW5kZWZpbmVkPiB8IEQ7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYW4gb2JqZWN0LiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEsxIC0gVGhlIHR5cGUgb2YgdGhlIGZpcnN0IGtleSBpbiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEsyIC0gVGhlIHR5cGUgb2YgdGhlIHNlY29uZCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1tLMSwgSzJdfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtUW0sxXVtLMl19IC0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8VCBleHRlbmRzIG9iamVjdCwgSzEgZXh0ZW5kcyBrZXlvZiBULCBLMiBleHRlbmRzIGtleW9mIFRbSzFdPihcbiAgb2JqZWN0OiBULFxuICBwYXRoOiByZWFkb25seSBbSzEsIEsyXVxuKTogVFtLMV1bSzJdO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGFuIG9iamVjdC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHRWYWx1ZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMSAtIFRoZSB0eXBlIG9mIHRoZSBmaXJzdCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMiAtIFRoZSB0eXBlIG9mIHRoZSBzZWNvbmQga2V5IGluIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtUIHwgbnVsbCB8IHVuZGVmaW5lZH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7W0sxLCBLMl19IHBhdGggLSBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge1RbSzFdW0syXSB8IHVuZGVmaW5lZH0gLSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldDxUIGV4dGVuZHMgb2JqZWN0LCBLMSBleHRlbmRzIGtleW9mIFQsIEsyIGV4dGVuZHMga2V5b2YgVFtLMV0+KFxuICBvYmplY3Q6IFQgfCBudWxsIHwgdW5kZWZpbmVkLFxuICBwYXRoOiByZWFkb25seSBbSzEsIEsyXVxuKTogVFtLMV1bSzJdIHwgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGFuIG9iamVjdC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHRWYWx1ZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMSAtIFRoZSB0eXBlIG9mIHRoZSBmaXJzdCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMiAtIFRoZSB0eXBlIG9mIHRoZSBzZWNvbmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgRCAtIFRoZSB0eXBlIG9mIHRoZSBkZWZhdWx0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7VCB8IG51bGwgfCB1bmRlZmluZWR9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1tLMSwgSzJdfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7RH0gZGVmYXVsdFZhbHVlIC0gVGhlIHZhbHVlIHJldHVybmVkIGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyB7RXhjbHVkZTxUW0sxXVtLMl0sIHVuZGVmaW5lZD4gfCBEfSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQgZXh0ZW5kcyBvYmplY3QsIEsxIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSwgRD4oXG4gIG9iamVjdDogVCB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHBhdGg6IHJlYWRvbmx5IFtLMSwgSzJdLFxuICBkZWZhdWx0VmFsdWU6IERcbik6IEV4Y2x1ZGU8VFtLMV1bSzJdLCB1bmRlZmluZWQ+IHwgRDtcbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggZnJvbSBhbiBvYmplY3QuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZSBkZWZhdWx0VmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzEgLSBUaGUgdHlwZSBvZiB0aGUgZmlyc3Qga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzIgLSBUaGUgdHlwZSBvZiB0aGUgc2Vjb25kIGtleSBpbiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEszIC0gVGhlIHR5cGUgb2YgdGhlIHRoaXJkIGtleSBpbiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7VH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7W0sxLCBLMiwgSzNdfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtUW0sxXVtLMl1bSzNdfSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQgZXh0ZW5kcyBvYmplY3QsIEsxIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSwgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0+KFxuICBvYmplY3Q6IFQsXG4gIHBhdGg6IHJlYWRvbmx5IFtLMSwgSzIsIEszXVxuKTogVFtLMV1bSzJdW0szXTtcbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggZnJvbSBhbiBvYmplY3QuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZSBkZWZhdWx0VmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzEgLSBUaGUgdHlwZSBvZiB0aGUgZmlyc3Qga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzIgLSBUaGUgdHlwZSBvZiB0aGUgc2Vjb25kIGtleSBpbiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEszIC0gVGhlIHR5cGUgb2YgdGhlIHRoaXJkIGtleSBpbiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7VCB8IG51bGwgfCB1bmRlZmluZWR9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1tLMSwgSzIsIEszXX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7VFtLMV1bSzJdW0szXSB8IHVuZGVmaW5lZH0gLSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldDxUIGV4dGVuZHMgb2JqZWN0LCBLMSBleHRlbmRzIGtleW9mIFQsIEsyIGV4dGVuZHMga2V5b2YgVFtLMV0sIEszIGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdPihcbiAgb2JqZWN0OiBUIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgcGF0aDogcmVhZG9ubHkgW0sxLCBLMiwgSzNdXG4pOiBUW0sxXVtLMl1bSzNdIHwgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGFuIG9iamVjdC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHRWYWx1ZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMSAtIFRoZSB0eXBlIG9mIHRoZSBmaXJzdCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMiAtIFRoZSB0eXBlIG9mIHRoZSBzZWNvbmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzMgLSBUaGUgdHlwZSBvZiB0aGUgdGhpcmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgRCAtIFRoZSB0eXBlIG9mIHRoZSBkZWZhdWx0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7VCB8IG51bGwgfCB1bmRlZmluZWR9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1tLMSwgSzIsIEszXX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0ge0R9IGRlZmF1bHRWYWx1ZSAtIFRoZSB2YWx1ZSByZXR1cm5lZCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICogQHJldHVybnMge0V4Y2x1ZGU8VFtLMV1bSzJdW0szXSwgdW5kZWZpbmVkPiB8IER9IC0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8VCBleHRlbmRzIG9iamVjdCwgSzEgZXh0ZW5kcyBrZXlvZiBULCBLMiBleHRlbmRzIGtleW9mIFRbSzFdLCBLMyBleHRlbmRzIGtleW9mIFRbSzFdW0syXSwgRD4oXG4gIG9iamVjdDogVCB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHBhdGg6IHJlYWRvbmx5IFtLMSwgSzIsIEszXSxcbiAgZGVmYXVsdFZhbHVlOiBEXG4pOiBFeGNsdWRlPFRbSzFdW0syXVtLM10sIHVuZGVmaW5lZD4gfCBEO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGFuIG9iamVjdC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHRWYWx1ZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMSAtIFRoZSB0eXBlIG9mIHRoZSBmaXJzdCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMiAtIFRoZSB0eXBlIG9mIHRoZSBzZWNvbmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzMgLSBUaGUgdHlwZSBvZiB0aGUgdGhpcmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzQgLSBUaGUgdHlwZSBvZiB0aGUgZm91cnRoIGtleSBpbiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7VH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7W0sxLCBLMiwgSzMsIEs0XX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7VFtLMV1bSzJdW0szXVtLNF19IC0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8XG4gIFQgZXh0ZW5kcyBvYmplY3QsXG4gIEsxIGV4dGVuZHMga2V5b2YgVCxcbiAgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSxcbiAgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sXG4gIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXSxcbj4ob2JqZWN0OiBULCBwYXRoOiByZWFkb25seSBbSzEsIEsyLCBLMywgSzRdKTogVFtLMV1bSzJdW0szXVtLNF07XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYW4gb2JqZWN0LiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEsxIC0gVGhlIHR5cGUgb2YgdGhlIGZpcnN0IGtleSBpbiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEsyIC0gVGhlIHR5cGUgb2YgdGhlIHNlY29uZCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMyAtIFRoZSB0eXBlIG9mIHRoZSB0aGlyZCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLNCAtIFRoZSB0eXBlIG9mIHRoZSBmb3VydGgga2V5IGluIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtUIHwgbnVsbCB8IHVuZGVmaW5lZH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7W0sxLCBLMiwgSzMsIEs0XX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7VFtLMV1bSzJdW0szXVtLNF0gfCB1bmRlZmluZWR9IC0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8XG4gIFQgZXh0ZW5kcyBvYmplY3QsXG4gIEsxIGV4dGVuZHMga2V5b2YgVCxcbiAgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSxcbiAgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sXG4gIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXSxcbj4ob2JqZWN0OiBUIHwgbnVsbCB8IHVuZGVmaW5lZCwgcGF0aDogcmVhZG9ubHkgW0sxLCBLMiwgSzMsIEs0XSk6IFRbSzFdW0syXVtLM11bSzRdIHwgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGFuIG9iamVjdC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHRWYWx1ZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMSAtIFRoZSB0eXBlIG9mIHRoZSBmaXJzdCBrZXkgaW4gdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBLMiAtIFRoZSB0eXBlIG9mIHRoZSBzZWNvbmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzMgLSBUaGUgdHlwZSBvZiB0aGUgdGhpcmQga2V5IGluIHRoZSBvYmplY3QuXG4gKiBAdGVtcGxhdGUgSzQgLSBUaGUgdHlwZSBvZiB0aGUgZm91cnRoIGtleSBpbiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIEQgLSBUaGUgdHlwZSBvZiB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge1QgfCBudWxsIHwgdW5kZWZpbmVkfSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtbSzEsIEsyLCBLMywgSzRdfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7RH0gZGVmYXVsdFZhbHVlIC0gVGhlIHZhbHVlIHJldHVybmVkIGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyB7RXhjbHVkZTxUW0sxXVtLMl1bSzNdW0s0XSwgdW5kZWZpbmVkPiB8IER9IC0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8XG4gIFQgZXh0ZW5kcyBvYmplY3QsXG4gIEsxIGV4dGVuZHMga2V5b2YgVCxcbiAgSzIgZXh0ZW5kcyBrZXlvZiBUW0sxXSxcbiAgSzMgZXh0ZW5kcyBrZXlvZiBUW0sxXVtLMl0sXG4gIEs0IGV4dGVuZHMga2V5b2YgVFtLMV1bSzJdW0szXSxcbiAgRCxcbj4oXG4gIG9iamVjdDogVCB8IG51bGwgfCB1bmRlZmluZWQsXG4gIHBhdGg6IHJlYWRvbmx5IFtLMSwgSzIsIEszLCBLNF0sXG4gIGRlZmF1bHRWYWx1ZTogRFxuKTogRXhjbHVkZTxUW0sxXVtLMl1bSzNdW0s0XSwgdW5kZWZpbmVkPiB8IEQ7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYW4gb2JqZWN0IHdpdGggbnVtZXJpYyBrZXlzLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtSZWNvcmQ8bnVtYmVyLCBUPn0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtUfSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQ+KG9iamVjdDogUmVjb3JkPG51bWJlciwgVD4sIHBhdGg6IG51bWJlcik6IFQ7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYW4gb2JqZWN0IHdpdGggbnVtZXJpYyBrZXlzLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtSZWNvcmQ8bnVtYmVyLCBUPiB8IG51bGwgfCB1bmRlZmluZWR9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge251bWJlcn0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7VCB8IHVuZGVmaW5lZH0gLSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldDxUPihvYmplY3Q6IFJlY29yZDxudW1iZXIsIFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCwgcGF0aDogbnVtYmVyKTogVCB8IHVuZGVmaW5lZDtcbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggZnJvbSBhbiBvYmplY3Qgd2l0aCBudW1lcmljIGtleXMuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZSBkZWZhdWx0VmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAqXG4gKiBAdGVtcGxhdGUgVCAtIFRoZSB0eXBlIG9mIHRoZSB2YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBEIC0gVGhlIHR5cGUgb2YgdGhlIGRlZmF1bHQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtSZWNvcmQ8bnVtYmVyLCBUPiB8IG51bGwgfCB1bmRlZmluZWR9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge251bWJlcn0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0ge0R9IGRlZmF1bHRWYWx1ZSAtIFRoZSB2YWx1ZSByZXR1cm5lZCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICogQHJldHVybnMge1QgfCBEfSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQsIEQ+KG9iamVjdDogUmVjb3JkPG51bWJlciwgVD4gfCBudWxsIHwgdW5kZWZpbmVkLCBwYXRoOiBudW1iZXIsIGRlZmF1bHRWYWx1ZTogRCk6IFQgfCBEO1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGEgbnVsbCBvciB1bmRlZmluZWQgb2JqZWN0LCByZXR1cm5pbmcgdGhlIGRlZmF1bHQgdmFsdWUuXG4gKlxuICogQHRlbXBsYXRlIEQgLSBUaGUgdHlwZSBvZiB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge251bGwgfCB1bmRlZmluZWR9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1Byb3BlcnR5S2V5fSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEBwYXJhbSB7RH0gZGVmYXVsdFZhbHVlIC0gVGhlIHZhbHVlIHJldHVybmVkIGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyB7RH0gLSBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PEQ+KG9iamVjdDogbnVsbCB8IHVuZGVmaW5lZCwgcGF0aDogUHJvcGVydHlLZXksIGRlZmF1bHRWYWx1ZTogRCk6IEQ7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYSBudWxsIG9yIHVuZGVmaW5lZCBvYmplY3QsIHJldHVybmluZyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtudWxsIHwgdW5kZWZpbmVkfSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfSAtIFJldHVybnMgdW5kZWZpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9iamVjdDogbnVsbCB8IHVuZGVmaW5lZCwgcGF0aDogUHJvcGVydHlLZXkpOiB1bmRlZmluZWQ7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYSBzdHJpbmcta2V5ZWQgb2JqZWN0LiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHRlbXBsYXRlIFQgLSBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LlxuICogQHRlbXBsYXRlIFAgLSBUaGUgdHlwZSBvZiB0aGUgcGF0aC5cbiAqXG4gKiBAcGFyYW0ge1R9IGRhdGEgLSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtQfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHtzdHJpbmcgZXh0ZW5kcyBQID8gYW55IDogR2V0PFQsIFA+fSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQsIFAgZXh0ZW5kcyBzdHJpbmc+KGRhdGE6IFQsIHBhdGg6IFApOiBzdHJpbmcgZXh0ZW5kcyBQID8gYW55IDogR2V0PFQsIFA+O1xuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBmcm9tIGEgc3RyaW5nLWtleWVkIG9iamVjdC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlIGRlZmF1bHRWYWx1ZSBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICpcbiAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBQIC0gVGhlIHR5cGUgb2YgdGhlIHBhdGguXG4gKiBAdGVtcGxhdGUgRCAtIFRoZSB0eXBlIG9mIHRoZSBkZWZhdWx0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7VH0gZGF0YSAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1B9IHBhdGggLSBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHtEfSBkZWZhdWx0VmFsdWUgLSBUaGUgdmFsdWUgcmV0dXJuZWQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIHVuZGVmaW5lZC5cbiAqIEByZXR1cm5zIHtFeGNsdWRlPEdldDxULCBQPiwgbnVsbCB8IHVuZGVmaW5lZD4gfCBEfSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0PFQsIFAgZXh0ZW5kcyBzdHJpbmcsIEQgPSBHZXQ8VCwgUD4+KFxuICBkYXRhOiBULFxuICBwYXRoOiBQLFxuICBkZWZhdWx0VmFsdWU6IERcbik6IEV4Y2x1ZGU8R2V0PFQsIFA+LCBudWxsIHwgdW5kZWZpbmVkPiB8IEQ7XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXQgYSBnaXZlbiBwYXRoIGZyb20gYW4gb2JqZWN0LiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGUgZGVmYXVsdFZhbHVlIGlzIHJldHVybmVkIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtQcm9wZXJ0eUtleSB8IHJlYWRvbmx5IFByb3BlcnR5S2V5W119IHBhdGggLSBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHBhcmFtIHt1bmtub3dufSBbZGVmYXVsdFZhbHVlXSAtIFRoZSB2YWx1ZSByZXR1cm5lZCBpZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXMgdW5kZWZpbmVkLlxuICogQHJldHVybnMge2FueX0gLSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChvYmplY3Q6IHVua25vd24sIHBhdGg6IFByb3BlcnR5S2V5IHwgcmVhZG9ubHkgUHJvcGVydHlLZXlbXSwgZGVmYXVsdFZhbHVlPzogdW5rbm93bik6IGFueTtcbi8qKlxuICogUmV0cmlldmVzIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggZnJvbSBhbiBvYmplY3QuIElmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZSBkZWZhdWx0VmFsdWUgaXMgcmV0dXJuZWQgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge1Byb3BlcnR5S2V5IHwgcmVhZG9ubHkgUHJvcGVydHlLZXlbXX0gcGF0aCAtIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0ge3Vua25vd259IFtkZWZhdWx0VmFsdWVdIC0gVGhlIHZhbHVlIHJldHVybmVkIGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKiBAcmV0dXJucyB7YW55fSAtIFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG9iamVjdDogYW55LCBwYXRoOiBQcm9wZXJ0eUtleSB8IHJlYWRvbmx5IFByb3BlcnR5S2V5W10sIGRlZmF1bHRWYWx1ZT86IGFueSk6IGFueSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGVvZiBwYXRoKSB7XG4gICAgY2FzZSAnc3RyaW5nJzoge1xuICAgICAgY29uc3QgcmVzdWx0ID0gb2JqZWN0W3BhdGhdO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzRGVlcEtleShwYXRoKSkge1xuICAgICAgICAgIHJldHVybiBnZXQob2JqZWN0LCB0b1BhdGgocGF0aCksIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N5bWJvbCc6IHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGF0aCA9IHRvS2V5KHBhdGgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBvYmplY3RbcGF0aF07XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgICAgICByZXR1cm4gZ2V0V2l0aFBhdGgob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmlzKHBhdGg/LnZhbHVlT2YoKSwgLTApKSB7XG4gICAgICAgIHBhdGggPSAnLTAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aCA9IFN0cmluZyhwYXRoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gb2JqZWN0W3BhdGhdO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0V2l0aFBhdGgob2JqZWN0OiBhbnksIHBhdGg6IHJlYWRvbmx5IFByb3BlcnR5S2V5W10sIGRlZmF1bHRWYWx1ZT86IGFueSk6IGFueSB7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICBsZXQgY3VycmVudCA9IG9iamVjdDtcblxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGF0aC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhdGhbaW5kZXhdXTtcbiAgfVxuXG4gIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnQ7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBUyxTQUFTLFFBQVEsNEJBQTRCO0FBQ3RELFNBQVMsS0FBSyxRQUFRLHdCQUF3QjtBQUM5QyxTQUFTLE1BQU0sUUFBUSxvQkFBb0I7QUEyUzNDOzs7Ozs7O0NBT0MsR0FDRCxPQUFPLFNBQVMsSUFBSSxNQUFXLEVBQUUsSUFBMEMsRUFBRSxZQUFrQjtFQUM3RixJQUFJLFVBQVUsTUFBTTtJQUNsQixPQUFPO0VBQ1Q7RUFFQSxPQUFRLE9BQU87SUFDYixLQUFLO01BQVU7UUFDYixNQUFNLFNBQVMsTUFBTSxDQUFDLEtBQUs7UUFFM0IsSUFBSSxXQUFXLFdBQVc7VUFDeEIsSUFBSSxVQUFVLE9BQU87WUFDbkIsT0FBTyxJQUFJLFFBQVEsT0FBTyxPQUFPO1VBQ25DLE9BQU87WUFDTCxPQUFPO1VBQ1Q7UUFDRjtRQUVBLE9BQU87TUFDVDtJQUNBLEtBQUs7SUFDTCxLQUFLO01BQVU7UUFDYixJQUFJLE9BQU8sU0FBUyxVQUFVO1VBQzVCLE9BQU8sTUFBTTtRQUNmO1FBRUEsTUFBTSxTQUFTLE1BQU0sQ0FBQyxLQUFLO1FBRTNCLElBQUksV0FBVyxXQUFXO1VBQ3hCLE9BQU87UUFDVDtRQUVBLE9BQU87TUFDVDtJQUNBO01BQVM7UUFDUCxJQUFJLE1BQU0sT0FBTyxDQUFDLE9BQU87VUFDdkIsT0FBTyxZQUFZLFFBQVEsTUFBTTtRQUNuQztRQUVBLElBQUksT0FBTyxFQUFFLENBQUMsTUFBTSxXQUFXLENBQUMsSUFBSTtVQUNsQyxPQUFPO1FBQ1QsT0FBTztVQUNMLE9BQU8sT0FBTztRQUNoQjtRQUVBLE1BQU0sU0FBUyxNQUFNLENBQUMsS0FBSztRQUUzQixJQUFJLFdBQVcsV0FBVztVQUN4QixPQUFPO1FBQ1Q7UUFFQSxPQUFPO01BQ1Q7RUFDRjtBQUNGO0FBRUEsU0FBUyxZQUFZLE1BQVcsRUFBRSxJQUE0QixFQUFFLFlBQWtCO0VBQ2hGLElBQUksS0FBSyxNQUFNLEtBQUssR0FBRztJQUNyQixPQUFPO0VBQ1Q7RUFFQSxJQUFJLFVBQVU7RUFFZCxJQUFLLElBQUksUUFBUSxHQUFHLFFBQVEsS0FBSyxNQUFNLEVBQUUsUUFBUztJQUNoRCxJQUFJLFdBQVcsTUFBTTtNQUNuQixPQUFPO0lBQ1Q7SUFFQSxVQUFVLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0VBQ2hDO0VBRUEsSUFBSSxZQUFZLFdBQVc7SUFDekIsT0FBTztFQUNUO0VBRUEsT0FBTztBQUNUIn0=
// denoCacheMetadata=8333538821306879418,9341821598152725323